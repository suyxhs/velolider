[
  {
    "title": "How to Build a Text Editor Like Notion",
    "publishedAt": "2020-11-06T21:00:00.000Z",
    "summary": "Build your own Notion clone with React.js and learn how such text editors work.",
    "cover": {
      "src": "/images/posts/how-to-build-a-text-editor-like-notion/notion-clone-cover.png",
      "alt": "Notion Clone React",
      "caption": {
        "raw": "Slash commands are a building block in Notions text editor.",
        "html": "<p>Slash commands are a building block in Notions text editor.</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://medium.com/@konstantinmuenster/how-to-build-a-text-editor-like-notion-c510aedfdfcc",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "Contenteditable",
      "Text Editor",
      "Rich Editor",
      "Notion",
      "Block Editor",
      "React.js",
      "Clone"
    ],
    "body": {
      "raw": "\nWithout a doubt, [Notion.so](https://www.notion.so/) is one of my favorite apps when it comes to organizing notes. I love their minimal designed text editor because it focuses your attention on the content — and not on unnecessary UI elements.\n\nYet it provides you a ton of powerful features that lead to a better writing experience.\n\nFor instance, the slash command is one of those features that really enhanced my writing flow. It allows you to add and style content without leaving the keyboard. Instead of clicking a UI button to add a new heading, you can just type `/h1`, hit ‘Enter’, and there you go.\n\nAnother cool thing about Notion is that it is a fully web-based application. Because of that, I was interested in how it was actually built — especially the text editor. In fact, I realized that it is not that difficult as I expected it to be.\n\nIn this article, we take a closer look at how a text editor like Notion works and how we can build one ourselves with React.js.\n\nBy doing this, we will discover and learn some essential frontend skills:\n\n- Working with the **DOM** and its **Nodes**\n- Working with **Event Listeners**\n- Advanced **State Management**\n\nHere is how our application will look like in the end. In my opinion, a perfect project for your portfolio if you are new to React.\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-like-notion/notion-clone-medium-short.gif\"\n  alt=\"Notion Clone React\"\n  caption=\"The final application!\"\n/>\n\n## Contents\n\n1.  The **Theory**: How Does A Notion-like Text Editor Work?\n2.  The **Practice**: How Can We Rebuild It?\n3.  **Ideas** For Further Development\n4.  **Resources**\n\n### The Theory: How Does A Notion-like Text Editor Work?\n\n#### Editable Blocks\n\nThe core concept of a Notion-like text editor is what I would like to call _blocks_. Each time you hit ‘Enter’ on your keyboard, you create a new block. So essentially, each page consists of one or many blocks.\n\nFrom a user perspective, a block contains content and has a specific styling that is associated with the block type. Types of blocks could be headings, quotes, or paragraphs. Each of those has a unique styling.\n\nFrom a technical perspective, a block is a so-called `contenteditable` element. Nearly every HTML element can be turned into an editable one. You just have to add the `contenteditable=\"true\"` attribute to it. This indicates if the element should be editable by the user. If so, users can edit their content directly in the HTML document as if it would be an `input` or `textarea` element.\n\nThe concept gets clear in an example:\n\nLet’s say a user adds a new block with the type of _Heading_. This produces the following HTML output:\n\n```jsx\n<h1 contenteditable=\"true\"> I am editable by the user </h1>\n```\n\nSince the user selected _Heading_ as the block type, we append an `h1` element to the DOM. Thus, it gets an appropriate heading styling. The user could now directly edit the content of that `h1` element by placing the cursor inside it.\n\n#### Slash Commands\n\nNow that the user can add new blocks to the page by pressing ‘Enter’, how can he/she determine the type of an added block?\n\nIn Notion, you can do this via slash commands.\n\nThe concept of slash commands is simple yet effective. Every time you type a `/` inside a block, a type-ahead menu pops up right above the cursor. This menu shows you all available block types. As you write along, you filter the block types with your query. If you found the right block type, just hit ‘Enter’, and the block turns into whatever you selected.\n\nIn our application, all slash commands will be equivalent to the corresponding HTML elements. Meaning an `/h1` command turns into an H1 heading and a `/p` command turns into a paragraph, for example.\n\nTechnically, an existing block like `<h1 contenteditable=\"true\"> </h1>` would consequently turn into `<p contenteditable=\"true\"> </p>` once the user types `/p` and hits ‘ Enter’.\n\n### The Practice: How Can We Rebuild It?\n\nNow that we know how it works in theory, let’s put it into practice. First of all, we create a new React project. You can do that by using create-react-app or any other tooling.\n\n#### 1 —Create An Editable Page\n\nHaving the setup done, we create our first component: `editablePage.js`\n\n```jsx:editablePage.js\n\nconst initialBlock = { id: uid(), html: '', tag: 'p' };\n\nclass EditablePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { blocks: [initialBlock] };\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        {this.state.blocks.map((block, key) => {\n          return (\n            <div key={key} id={block.id}>\n              Tag: {block.tag}, Content: {block.html}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default EditablePage;\n```\n\nThe page component stores and renders all blocks we will create later on. As a start, we only provide an initial first block that we define at the very top. This block will turn into an empty paragraph element once we created our editable block component. For now, we just render a plain `div` container.\n\nNote: Since every block needs a unique ID, I created a helper function `uid()` that we can use for initializing new blocks. In case you want to use the same function:\n\n```js:uid.js\nconst uid = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\n};\n```\n\n#### 2 — Create An Editable Block\n\nAs a next step, we create an editable block component that we can render instead of the `div` container. For that, we have to install an external dependency called `react-contenteditable`.\n\n_React-Contenteditable_ is a package that makes working with editable elements in React really easy. It abstracts a lot of complexity for us so that we only need to pass the right props to the `ContentEditable` component. The component exposed by the package then handles the rest.\n\nTo install the package, run `npm i react-contenteditable`\n\nNext, we create a new file called `editableBlock.js`:\n\n```jsx:editableBlock.js\nclass EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      html: '',\n      tag: 'p',\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ html: this.props.html, tag: this.props.tag });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const htmlChanged = prevState.html !== this.state.html;\n    const tagChanged = prevState.tag !== this.state.tag;\n    if (htmlChanged || tagChanged) {\n      this.props.updatePage({\n        id: this.props.id,\n        html: this.state.html,\n        tag: this.state.tag,\n      });\n    }\n  }\n\n  onChangeHandler(e) {\n    this.setState({ html: e.target.value });\n  }\n\n  render() {\n    return (\n      <ContentEditable\n        className=\"Block\"\n        innerRef={this.contentEditable}\n        html={this.state.html}\n        tagName={this.state.tag}\n        onChange={this.onChangeHandler}\n      />\n    );\n  }\n}\n\nexport default EditableBlock;\n```\n\nThe editable block renders the `ContentEditable` component that we imported from the `react-contenteditable` package. By passing `html` and `tagName` as props to the component, we can define what should be displayed and how it should be displayed. Remember, the `tagName` defines the HTML element type and hence the styling.\n\nIf we were to change the block type later on (e.g. from `p` to `h1`), we can simply update the `tagName` prop. Pretty easy, right?\n\nWe also added advanced state management to the block component. When the component mounts, it receives the initial HTML content and tag via props and stores them in the state. From now on, the block component fully owns the draft state. Any subsequent changes to the `html` or `tagName` prop are being ignored.\n\nWhen there have been relevant updates to the `html` or `tagName` state property, we update the page component’s state in the `componentDidUpdate` lifecycle hook too. Thus, we avoid an unnecessary re-rendering of the page.\n\nHaving our `editableBlock` component set up, we can finally use it in our page component:\n\n```jsx:editablePage.js\nconst initialBlock = { id: uid(), html: '', tag: 'p' };\n\nclass EditablePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updatePageHandler = this.updatePageHandler.bind(this);\n    this.addBlockHandler = this.addBlockHandler.bind(this);\n    this.deleteBlockHandler = this.deleteBlockHandler.bind(this);\n    this.state = { blocks: [initialBlock] };\n  }\n\n  updatePageHandler(updatedBlock) {\n    const blocks = this.state.blocks;\n    const index = blocks.map(b => b.id).indexOf(updatedBlock.id);\n    const updatedBlocks = [...blocks];\n    updatedBlocks[index] = {\n      ...updatedBlocks[index],\n      tag: updatedBlock.tag,\n      html: updatedBlock.html,\n    };\n    this.setState({ blocks: updatedBlocks });\n  }\n\n  addBlockHandler(currentBlock) {\n    const newBlock = { id: uid(), html: '', tag: 'p' };\n    const blocks = this.state.blocks;\n    const index = blocks.map(b => b.id).indexOf(currentBlock.id);\n    const updatedBlocks = [...blocks];\n    updatedBlocks.splice(index + 1, 0, newBlock);\n    this.setState({ blocks: updatedBlocks }, () => {\n      currentBlock.ref.nextElementSibling.focus();\n    });\n  }\n\n  deleteBlockHandler(currentBlock) {\n    const previousBlock = currentBlock.ref.previousElementSibling;\n    if (previousBlock) {\n      const blocks = this.state.blocks;\n      const index = blocks.map(b => b.id).indexOf(currentBlock.id);\n      const updatedBlocks = [...blocks];\n      updatedBlocks.splice(index, 1);\n      this.setState({ blocks: updatedBlocks }, () => {\n        setCaretToEnd(previousBlock);\n        previousBlock.focus();\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        {this.state.blocks.map((block, key) => {\n          return (\n            <EditableBlock\n              key={key}\n              id={block.id}\n              tag={block.tag}\n              html={block.html}\n              updatePage={this.updatePageHandler}\n              addBlock={this.addBlockHandler}\n              deleteBlock={this.deleteBlockHandler}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default EditablePage;\n```\n\nBesides using the `EditableBlock` component inside our `render` hook, we additionally added new methods in the page component:\n\n- The `updateBlockHandler` that we already use in our block component takes care of keeping the page and block state in sync.\n- The `addBlockHandler` appends a new block and sets the focus to it.\n- The `deleteBlockHandler` removes a block and sets the focus to the preceding block.\n\nWe pass all three methods as props to the editable block.\n\nNote: In the `deleteBlockHandler`, we use another helper function that manually sets the cursor to the end of the block content. If we would just focus the element as we did in `addBlockHandler`, it would focus the element though, but with a cursor set to the very beginning of the block content. In case you want to use the same `setCaretToEnd` helper function:\n\n```js:setCaretToEnd.js\nconst setCaretToEnd = element => {\n  const range = document.createRange();\n  const selection = window.getSelection();\n  range.selectNodeContents(element);\n  range.collapse(false);\n  selection.removeAllRanges();\n  selection.addRange(range);\n  element.focus();\n};\n```\n\n#### 3 — Implement A KeyDown Listener\n\nSo far, we can only add text content to our initially added block. Let’s make things a bit more interactive with our first event listener. This will allow us to add and delete blocks as we like.\n\nInside `editableBlock.js`, we create an `onKeyDownHandler` method that we pass on to the `ContentEditable` component:\n\n```jsx:editableBlock.js\nclass EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    // ...\n    this.onKeyDownHandler = this.onKeyDownHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      htmlBackup: null,\n      html: '',\n      tag: 'p',\n      previousKey: '',\n    };\n  }\n\n  // ...\n\n  onKeyDownHandler(e) {\n    if (e.key === '/') {\n      this.setState({ htmlBackup: this.state.html });\n    }\n    if (e.key === 'Enter') {\n      if (this.state.previousKey !== 'Shift') {\n        e.preventDefault();\n        this.props.addBlock({\n          id: this.props.id,\n          ref: this.contentEditable.current,\n        });\n      }\n    }\n    if (e.key === 'Backspace' && !this.state.html) {\n      e.preventDefault();\n      this.props.deleteBlock({\n        id: this.props.id,\n        ref: this.contentEditable.current,\n      });\n    }\n    this.setState({ previousKey: e.key });\n  }\n\n  render() {\n    return (\n      <ContentEditable\n        className=\"Block\"\n        innerRef={this.contentEditable}\n        html={this.state.html}\n        tagName={this.state.tag}\n        onChange={this.onChangeHandler}\n        onKeyDown={this.onKeyDownHandler}\n      />\n    );\n  }\n}\n\nexport default EditableBlock;\n```\n\nAs mentioned, this event listener is primarily responsible for adding and deleting blocks. But let’s break the `onKeyDownHandler` down bit by bit:\n\n- Regardless of what key has been pressed, store the key in the state. We need the `previousKey` to be able to detect key combinations.\n- When the user pressed `/`, we store a copy of the current HTML content in the state. We do that because we want to restore a clean HTML version after the user has finished the process of selecting a block type.\n- When the user pressed `Enter`, we prevent the default behavior (i.e. adding a new line). Instead, we create a new block by using the `addBlock` method which we previously created in the page component.\n- Because the user should still be able to add new lines somehow, we use the `previousKey` state property to detect a `Shift+Enter` key combination. If that is the case, we do not add a new block and allow the default ‘Enter’ behavior to happen.\n- Lastly, we delete an empty block when the user presses `Backspace` with the `deleteBlock` method.\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-like-notion/1__FwMgJ660ehUK1SZgYLYjMA.gif\"\n  alt=\"Notion Clone React\"\n  caption=\"So far, we can create and delete blocks.\"\n/>\n\nNow that we can create new blocks, what about slash commands and selecting different block types? We cover that in the next steps.\n\n#### 4 — Add A Select Menu\n\nAs mentioned earlier, when the user types a `/`, we want to display a select menu. The menu shall list up all available block types. A specific block type can then be selected either by clicking on it or by typing in the matching slash command.\n\nTo implement such a select menu, we first have to add another dependency: _match-sorter_. This is a simple package that helps us with querying the matching block types.\n\nTo install it, run: `npm i match-sorter`\n\nHaving that done, we create a new file called `selectMenu.js` with the following contents:\n\n```jsx:selectMenu.js\nconst MENU_HEIGHT = 150;\nconst allowedTags = [\n  {\n    id: 'page-title',\n    tag: 'h1',\n    label: 'Page Title',\n  },\n  {\n    id: 'heading',\n    tag: 'h2',\n    label: 'Heading',\n  },\n  {\n    id: 'subheading',\n    tag: 'h3',\n    label: 'Subheading',\n  },\n  {\n    id: 'paragraph',\n    tag: 'p',\n    label: 'Paragraph',\n  },\n];\n\nclass SelectMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n    this.state = {\n      command: '',\n      items: allowedTags,\n      selectedItem: 0,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const command = this.state.command;\n    if (prevState.command !== command) {\n      const items = matchSorter(allowedTags, command, { keys: ['tag'] });\n      this.setState({ items: items });\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  keyDownHandler(e) {\n    const items = this.state.items;\n    const selected = this.state.selectedItem;\n    const command = this.state.command;\n\n    switch (e.key) {\n      case 'Enter':\n        e.preventDefault();\n        this.props.onSelect(items[selected].tag);\n        break;\n      case 'Backspace':\n        if (!command) this.props.close();\n        this.setState({ command: command.substring(0, command.length - 1) });\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        const prevSelected = selected === 0 ? items.length - 1 : selected - 1;\n        this.setState({ selectedItem: prevSelected });\n        break;\n      case 'ArrowDown':\n      case 'Tab':\n        e.preventDefault();\n        const nextSelected = selected === items.length - 1 ? 0 : selected + 1;\n        this.setState({ selectedItem: nextSelected });\n        break;\n      default:\n        this.setState({ command: this.state.command + e.key });\n        break;\n    }\n  }\n\n  render() {\n    const x = this.props.position.x;\n    const y = this.props.position.y - MENU_HEIGHT;\n    const positionAttributes = { top: y, left: x };\n\n    return (\n      <div className=\"SelectMenu\" style={positionAttributes}>\n        <div className=\"Items\">\n          {this.state.items.map((item, key) => {\n            const selectedItem = this.state.selectedItem;\n            const isSelected = this.state.items.indexOf(item) === selectedItem;\n            return (\n              <div\n                className={isSelected ? 'Selected' : null}\n                key={key}\n                role=\"button\"\n                tabIndex=\"0\"\n                onClick={() => this.props.onSelect(item.tag)}\n              >\n                {item.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SelectMenu;\n```\n\nAt the very top, we define what block types should be selectable by the user. Each type has a tag and a label: the tag defines which HTML element type shall be used and the label defines the display name inside our menu.\n\nWhen the component mounts, we calculate the position of the menu on the screen inside our `render` hook. There, we use `this.props.position`. This object contains the current position of the cursor since we want to display the menu right above it.\n\nAdditionally, we attach a `keyDown` event listener in the `componentDidMount` hook. It takes care of storing the entered command in state and enables the user to select a block type via keyboard.\n\nWhenever the `command` state property changes, we run our imported `matchedSorter` function to filter for matching block types. Thus, the select menu shows only block types that match with our command.\n\nFinally, when the user hits ‘Enter’ or clicks on an entry, we execute an `onSelect` method that we receive via props.\n\nAdmittedly, this was a lot of code at once. But if you go through it step by step, it should be understandable hopefully.\n\n#### 5 — Add Block Type Selection\n\nNext, we can put things together. Since we have our select menu component in place, we can add it to `editableBlock.js`:\n\n```jsx:editableBlock.js\nclass EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    // ...\n    this.onKeyUpHandler = this.onKeyUpHandler.bind(this);\n    this.openSelectMenuHandler = this.openSelectMenuHandler.bind(this);\n    this.closeSelectMenuHandler = this.closeSelectMenuHandler.bind(this);\n    this.tagSelectionHandler = this.tagSelectionHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      htmlBackup: null,\n      html: '',\n      tag: 'p',\n      previousKey: '',\n      selectMenuIsOpen: false,\n      selectMenuPosition: {\n        x: null,\n        y: null,\n      },\n    };\n  }\n\n  // ...\n\n  onKeyUpHandler(e) {\n    if (e.key === '/') {\n      this.openSelectMenuHandler();\n    }\n  }\n\n  openSelectMenuHandler() {\n    const { x, y } = getCaretCoordinates();\n    this.setState({\n      selectMenuIsOpen: true,\n      selectMenuPosition: { x, y },\n    });\n    document.addEventListener('click', this.closeSelectMenuHandler);\n  }\n\n  closeSelectMenuHandler() {\n    this.setState({\n      htmlBackup: null,\n      selectMenuIsOpen: false,\n      selectMenuPosition: { x: null, y: null },\n    });\n    document.removeEventListener('click', this.closeSelectMenuHandler);\n  }\n\n  tagSelectionHandler(tag) {\n    this.setState({ tag: tag, html: this.state.htmlBackup }, () => {\n      setCaretToEnd(this.contentEditable.current);\n      this.closeSelectMenuHandler();\n    });\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.selectMenuIsOpen && (\n          <SelectMenu\n            position={this.state.selectMenuPosition}\n            onSelect={this.tagSelectionHandler}\n            close={this.closeSelectMenuHandler}\n          />\n        )}\n        <ContentEditable\n          className=\"Block\"\n          innerRef={this.contentEditable}\n          html={this.state.html}\n          tagName={this.state.tag}\n          onChange={this.onChangeHandler}\n          onKeyDown={this.onKeyDownHandler}\n          onKeyUp={this.onKeyUpHandler}\n        />\n      </>\n    );\n  }\n}\n\nexport default EditableBlock;\n```\n\nFirst, we import our `SelectMenu` component and render it conditionally. We can control its visibility by our state property `selectMenuIsOpen`. If we set this to true, we render the menu additionally to the `ContentEditable` component.\n\nNext, we implemented the logic that defines when and where we want to show it.\n\nWe defined two methods that handle the menu’s opening and closing. When we open it, we first get the coordinates of the currently set cursor. We do this because we want to open up the menu right above the cursor. Lastly, we store this position in the state, set `selectMenuIsOpen` to true, and attach a click listener.\n\nThe click listener is responsible for closing the select menu once there has been another click on the screen — no matter if it was on the menu itself or outside it. Both actions should close it.\n\nOur `closeSelectMenuHandler` method then is fairly simple. We just reset our previously set state properties and detach the click listener again.\n\nHaving the opening and closing handlers implemented, we also need to define when we actually want to open the menu.\n\nFrom a user perspective, we want to open the menu once the user enters a `/`. Therefore, it seems intuitive to add the `this.openSelectMenuHandler()` call in our previously defined `onKeyDownHandler` method, right? Because there, we already check if the user pressed the `/` key.\n\nIn fact, we have to add another event listener for that. The menu should only show up once the user releases the `/` key. Otherwise, the positioning of the menu would not work correctly. Hence, we add a new `keyUp` event listener for that.\n\nNow there is only one final step to take. Remember that we pass an `onSelect` function as a prop to the select menu component? To make the selection process work, we have to define an associated method for that in our editable block component.\n\nGladly, this method is rather simple. In the `tagSelectionHandler`, we receive the selected block type as the `tag` argument. With it, we can update our `tagName` state property as well as restore the HTML backup, i.e. the HTML content without the entered command.\n\nIf that process has finished, we set the cursor to the editable block again and close the menu.\n\nAnd finally, believe it or not… we are done 🎉\n\nNote: I again used a helper function for obtaining the cursor coordinates. If you want to use the same function, here it is:\n\n```js\nconst getCaretCoordinates = () => {\n  let x, y;\n  const selection = window.getSelection();\n  if (selection.rangeCount !== 0) {\n    const range = selection.getRangeAt(0).cloneRange();\n    range.collapse(false);\n    const rect = range.getClientRects()[0];\n    if (rect) {\n      x = rect.left;\n      y = rect.top;\n    }\n  }\n  return { x, y };\n};\n```\n\n### **Ideas** For Further Development\n\nNow that we have the core functionality of Notion’s text editor rebuilt, we have a perfect foundation for further development. There are many features that we can add to our application to improve it further.\n\nI always like to look for inspiration in existing apps and see if I can build their features on my own. Same with Notion. Here are two concrete examples:\n\n#### Context Menu Based On Selection\n\nSo far, we only show a select menu when the user types a `/`. But what if the user wants to quickly edit the type of an existing block? Or he/she wants to remove a block?\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-like-notion/1__CsyyrDAk1vei6qrGVZtGSA.png\"\n  alt=\"Notion Clone React Context Menu\"\n  caption=\"Context Menu that will pop up once the user selects content\"\n/>\n\nHere, a context menu comes in handy. Whenever the user selects the block’s content, we display a menu with two options: either turn the existing block’s type into another or delete the block itself with a single click.\n\n#### Rearrange Blocks By Drag and Drop\n\nBecause we have an underlying block structure, we can rearrange our content fairly easily. Maybe a user realizes that this one paragraph should be further at the top of the page. In Notion, you can easily reorder blocks with a smooth drag and drop functionality. And we can do that too!\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-like-notion/1__gg4NH3JJRtioqNutwJf__DQ.gif\"\n  alt=\"Notion Clone React Drag Drop\"\n  caption=\"Drag And Drop functionality to reorder blocks\"\n/>\n\n### Resources\n\nAdmittedly, we covered a lot in this article… but I think the idea and process of building a Notion clone are really cool and exciting, especially for React beginners. Therefore, I wanted to provide you all the things you need.\n\n#### Final Application\n\nYou find a working example for the [final application on CodeSandbox](https://codesandbox.io/s/notion-text-editor-gugcc). It also includes all of the CSS stylings which we did not cover in this article.\n\n#### Advanced Application\n\nMoreover, if you want to enhance your application with more features (e.g. features like those I mentioned in the last section), have a look at my more advanced application. It might be a good source of inspiration too.\n\nThis advanced Notion Clone also includes a backend part that persists the user content on a server. Great if you want to get in touch with basic CRUD operations in Node/Express!\n\nLive Demo: [https://notion-clone.kmuenster.com/](https://notion-clone.kmuenster.com/)\n\nGithub Repository: [https://github.com/konstantinmuenster/notion-clone](https://github.com/konstantinmuenster/notion-clone)\n\n#### Working With The Cursor In The Browser\n\nAs you noticed, I used some helper functions in our application. These functions primarily help us to work with the cursor in the browser, e.g. obtaining the cursor coordinates.\n\nSince this was something I struggled with a lot during development, I recently published an article about it. In case you want to dive deeper into this topic, here it is:\n\n[How To Find The Caret Inside A Contenteditable Element](https://medium.com/javascript-in-plain-english/how-to-find-the-caret-inside-a-contenteditable-element-955a5ad9bf81)\n\nAs always, thanks for reading! If you stumbled with any questions or issues throughout this article, let me know in the comment section. Thus, I can update and improve the article if needed. I appreciate any feedback!\n",
      "code": "var Component=(()=>{var an=Object.create;var H=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var un=Object.getOwnPropertyNames;var mn=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var V=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),bn=(a,e)=>{for(var f in e)H(a,f,{get:e[f],enumerable:!0})},xe=(a,e,f,g)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let N of un(e))!fn.call(a,N)&&N!==f&&H(a,N,{get:()=>e[N],enumerable:!(g=cn(e,N))||g.enumerable});return a};var hn=(a,e,f)=>(f=a!=null?an(mn(a)):{},xe(e||!a||!a.__esModule?H(f,\"default\",{value:a,enumerable:!0}):f,a)),pn=a=>xe(H({},\"__esModule\",{value:!0}),a);var we=V((wn,ye)=>{ye.exports=React});var ke=V(q=>{\"use strict\";(function(){\"use strict\";var a=we(),e=Symbol.for(\"react.element\"),f=Symbol.for(\"react.portal\"),g=Symbol.for(\"react.fragment\"),N=Symbol.for(\"react.strict_mode\"),G=Symbol.for(\"react.profiler\"),z=Symbol.for(\"react.provider\"),J=Symbol.for(\"react.context\"),E=Symbol.for(\"react.forward_ref\"),j=Symbol.for(\"react.suspense\"),P=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),M=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),X=Symbol.iterator,Se=\"@@iterator\";function Re(t){if(t===null||typeof t!=\"object\")return null;var l=X&&t[X]||t[Se];return typeof l==\"function\"?l:null}var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(t){{for(var l=arguments.length,r=new Array(l>1?l-1:0),o=1;o<l;o++)r[o-1]=arguments[o];Ce(\"error\",t,r)}}function Ce(t,l,r){{var o=y.ReactDebugCurrentFrame,s=o.getStackAddendum();s!==\"\"&&(l+=\"%s\",r=r.concat([s]));var c=r.map(function(d){return String(d)});c.unshift(\"Warning: \"+l),Function.prototype.apply.call(console[t],console,c)}}var Ie=!1,Be=!1,He=!1,je=!1,Pe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Me(t){return!!(typeof t==\"string\"||typeof t==\"function\"||t===g||t===G||Pe||t===N||t===j||t===P||je||t===Te||Ie||Be||He||typeof t==\"object\"&&t!==null&&(t.$$typeof===M||t.$$typeof===T||t.$$typeof===z||t.$$typeof===J||t.$$typeof===E||t.$$typeof===Z||t.getModuleId!==void 0))}function Oe(t,l,r){var o=t.displayName;if(o)return o;var s=l.displayName||l.name||\"\";return s!==\"\"?r+\"(\"+s+\")\":r}function Q(t){return t.displayName||\"Context\"}function _(t){if(t==null)return null;if(typeof t.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof t==\"function\")return t.displayName||t.name||null;if(typeof t==\"string\")return t;switch(t){case g:return\"Fragment\";case f:return\"Portal\";case G:return\"Profiler\";case N:return\"StrictMode\";case j:return\"Suspense\";case P:return\"SuspenseList\"}if(typeof t==\"object\")switch(t.$$typeof){case J:var l=t;return Q(l)+\".Consumer\";case z:var r=t;return Q(r._context)+\".Provider\";case E:return Oe(t,t.render,\"ForwardRef\");case T:var o=t.displayName||null;return o!==null?o:_(t.type)||\"Memo\";case M:{var s=t,c=s._payload,d=s._init;try{return _(d(c))}catch{return null}}}return null}var x=Object.assign,D=0,ee,ne,te,le,re,oe,ie;function de(){}de.__reactDisabledLog=!0;function Ae(){{if(D===0){ee=console.log,ne=console.info,te=console.warn,le=console.error,re=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var t={configurable:!0,enumerable:!0,value:de,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}D++}}function Fe(){{if(D--,D===0){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},t,{value:ee}),info:x({},t,{value:ne}),warn:x({},t,{value:te}),error:x({},t,{value:le}),group:x({},t,{value:re}),groupCollapsed:x({},t,{value:oe}),groupEnd:x({},t,{value:ie})})}D<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var O=y.ReactCurrentDispatcher,A;function S(t,l,r){{if(A===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\\n( *(at )?)/);A=o&&o[1]||\"\"}return`\n`+A+t}}var F=!1,R;{var We=typeof WeakMap==\"function\"?WeakMap:Map;R=new We}function se(t,l){if(!t||F)return\"\";{var r=R.get(t);if(r!==void 0)return r}var o;F=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=O.current,O.current=null,Ae();try{if(l){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(d,[])}catch(v){o=v}Reflect.construct(t,[],d)}else{try{d.call()}catch(v){o=v}t.call(d.prototype)}}else{try{throw Error()}catch(v){o=v}t()}}catch(v){if(v&&o&&typeof v.stack==\"string\"){for(var i=v.stack.split(`\n`),h=o.stack.split(`\n`),u=i.length-1,m=h.length-1;u>=1&&m>=0&&i[u]!==h[m];)m--;for(;u>=1&&m>=0;u--,m--)if(i[u]!==h[m]){if(u!==1||m!==1)do if(u--,m--,m<0||i[u]!==h[m]){var p=`\n`+i[u].replace(\" at new \",\" at \");return t.displayName&&p.includes(\"<anonymous>\")&&(p=p.replace(\"<anonymous>\",t.displayName)),typeof t==\"function\"&&R.set(t,p),p}while(u>=1&&m>=0);break}}}finally{F=!1,O.current=c,Fe(),Error.prepareStackTrace=s}var k=t?t.displayName||t.name:\"\",ge=k?S(k):\"\";return typeof t==\"function\"&&R.set(t,ge),ge}function Le(t,l,r){return se(t,!1)}function Ye(t){var l=t.prototype;return!!(l&&l.isReactComponent)}function C(t,l,r){if(t==null)return\"\";if(typeof t==\"function\")return se(t,Ye(t));if(typeof t==\"string\")return S(t);switch(t){case j:return S(\"Suspense\");case P:return S(\"SuspenseList\")}if(typeof t==\"object\")switch(t.$$typeof){case E:return Le(t.render);case T:return C(t.type,l,r);case M:{var o=t,s=o._payload,c=o._init;try{return C(c(s),l,r)}catch{}}}return\"\"}var I=Object.prototype.hasOwnProperty,ae={},ce=y.ReactDebugCurrentFrame;function B(t){if(t){var l=t._owner,r=C(t.type,t._source,l?l.type:null);ce.setExtraStackFrame(r)}else ce.setExtraStackFrame(null)}function Ke(t,l,r,o,s){{var c=Function.call.bind(I);for(var d in t)if(c(t,d)){var i=void 0;try{if(typeof t[d]!=\"function\"){var h=Error((o||\"React class\")+\": \"+r+\" type `\"+d+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof t[d]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}i=t[d](l,d,o,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){i=u}i&&!(i instanceof Error)&&(B(s),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",r,d,typeof i),B(null)),i instanceof Error&&!(i.message in ae)&&(ae[i.message]=!0,B(s),b(\"Failed %s type: %s\",r,i.message),B(null))}}}var $e=Array.isArray;function W(t){return $e(t)}function Ve(t){{var l=typeof Symbol==\"function\"&&Symbol.toStringTag,r=l&&t[Symbol.toStringTag]||t.constructor.name||\"Object\";return r}}function qe(t){try{return ue(t),!1}catch{return!0}}function ue(t){return\"\"+t}function me(t){if(qe(t))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ve(t)),ue(t)}var U=y.ReactCurrentOwner,Ge={key:!0,ref:!0,__self:!0,__source:!0},fe,be,L;L={};function ze(t){if(I.call(t,\"ref\")){var l=Object.getOwnPropertyDescriptor(t,\"ref\").get;if(l&&l.isReactWarning)return!1}return t.ref!==void 0}function Je(t){if(I.call(t,\"key\")){var l=Object.getOwnPropertyDescriptor(t,\"key\").get;if(l&&l.isReactWarning)return!1}return t.key!==void 0}function Xe(t,l){if(typeof t.ref==\"string\"&&U.current&&l&&U.current.stateNode!==l){var r=_(U.current.type);L[r]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',_(U.current.type),t.ref),L[r]=!0)}}function Ze(t,l){{var r=function(){fe||(fe=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",l))};r.isReactWarning=!0,Object.defineProperty(t,\"key\",{get:r,configurable:!0})}}function Qe(t,l){{var r=function(){be||(be=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",l))};r.isReactWarning=!0,Object.defineProperty(t,\"ref\",{get:r,configurable:!0})}}var en=function(t,l,r,o,s,c,d){var i={$$typeof:e,type:t,key:l,ref:r,props:d,_owner:c};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(t,l,r,o,s){{var c,d={},i=null,h=null;r!==void 0&&(me(r),i=\"\"+r),Je(l)&&(me(l.key),i=\"\"+l.key),ze(l)&&(h=l.ref,Xe(l,s));for(c in l)I.call(l,c)&&!Ge.hasOwnProperty(c)&&(d[c]=l[c]);if(t&&t.defaultProps){var u=t.defaultProps;for(c in u)d[c]===void 0&&(d[c]=u[c])}if(i||h){var m=typeof t==\"function\"?t.displayName||t.name||\"Unknown\":t;i&&Ze(d,m),h&&Qe(d,m)}return en(t,i,h,s,o,U.current,d)}}var Y=y.ReactCurrentOwner,he=y.ReactDebugCurrentFrame;function w(t){if(t){var l=t._owner,r=C(t.type,t._source,l?l.type:null);he.setExtraStackFrame(r)}else he.setExtraStackFrame(null)}var K;K=!1;function $(t){return typeof t==\"object\"&&t!==null&&t.$$typeof===e}function pe(){{if(Y.current){var t=_(Y.current.type);if(t)return`\n\nCheck the render method of \\``+t+\"`.\"}return\"\"}}function tn(t){{if(t!==void 0){var l=t.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=t.lineNumber;return`\n\nCheck your code at `+l+\":\"+r+\".\"}return\"\"}}var _e={};function ln(t){{var l=pe();if(!l){var r=typeof t==\"string\"?t:t.displayName||t.name;r&&(l=`\n\nCheck the top-level render call using <`+r+\">.\")}return l}}function ve(t,l){{if(!t._store||t._store.validated||t.key!=null)return;t._store.validated=!0;var r=ln(l);if(_e[r])return;_e[r]=!0;var o=\"\";t&&t._owner&&t._owner!==Y.current&&(o=\" It was passed a child from \"+_(t._owner.type)+\".\"),w(t),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),w(null)}}function Ne(t,l){{if(typeof t!=\"object\")return;if(W(t))for(var r=0;r<t.length;r++){var o=t[r];$(o)&&ve(o,l)}else if($(t))t._store&&(t._store.validated=!0);else if(t){var s=Re(t);if(typeof s==\"function\"&&s!==t.entries)for(var c=s.call(t),d;!(d=c.next()).done;)$(d.value)&&ve(d.value,l)}}}function rn(t){{var l=t.type;if(l==null||typeof l==\"string\")return;var r;if(typeof l==\"function\")r=l.propTypes;else if(typeof l==\"object\"&&(l.$$typeof===E||l.$$typeof===T))r=l.propTypes;else return;if(r){var o=_(l);Ke(r,t.props,\"prop\",o,t)}else if(l.PropTypes!==void 0&&!K){K=!0;var s=_(l);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof l.getDefaultProps==\"function\"&&!l.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(t){{for(var l=Object.keys(t.props),r=0;r<l.length;r++){var o=l[r];if(o!==\"children\"&&o!==\"key\"){w(t),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),w(null);break}}t.ref!==null&&(w(t),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function dn(t,l,r,o,s,c){{var d=Me(t);if(!d){var i=\"\";(t===void 0||typeof t==\"object\"&&t!==null&&Object.keys(t).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=tn(s);h?i+=h:i+=pe();var u;t===null?u=\"null\":W(t)?u=\"array\":t!==void 0&&t.$$typeof===e?(u=\"<\"+(_(t.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof t,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,i)}var m=nn(t,l,r,s,c);if(m==null)return m;if(d){var p=l.children;if(p!==void 0)if(o)if(W(p)){for(var k=0;k<p.length;k++)Ne(p[k],t);Object.freeze&&Object.freeze(p)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else Ne(p,t)}return t===g?on(m):rn(m),m}}var sn=dn;q.Fragment=g,q.jsxDEV=sn})()});var Ue=V((Dn,De)=>{\"use strict\";De.exports=ke()});var xn={};bn(xn,{default:()=>Nn,frontmatter:()=>_n});var n=hn(Ue()),_n={title:\"How to Build a Text Editor Like Notion\",summary:\"Build your own Notion clone with React.js and learn how such text editors work.\",publishedAt:\"2020/11/07\",category:\"Engineering\",cover:{src:\"/images/posts/how-to-build-a-text-editor-like-notion/notion-clone-cover.png\",alt:\"Notion Clone React\",caption:\"Slash commands are a building block in Notions text editor.\"},tags:[\"Contenteditable\",\"Text Editor\",\"Rich Editor\",\"Notion\",\"Block Editor\",\"React.js\",\"Clone\"],externals:{Medium:\"https://medium.com/@konstantinmuenster/how-to-build-a-text-editor-like-notion-c510aedfdfcc\"}};function Ee(a){let e=Object.assign({p:\"p\",a:\"a\",code:\"code\",ul:\"ul\",li:\"li\",strong:\"strong\",h2:\"h2\",span:\"span\",ol:\"ol\",h3:\"h3\",h4:\"h4\",em:\"em\",pre:\"pre\"},a.components),{Image:f}=e;return f||gn(\"Image\",!0,\"42:1-46:3\"),(0,n.jsxDEV)(n.Fragment,{children:[(0,n.jsxDEV)(e.p,{children:[\"Without a doubt, \",(0,n.jsxDEV)(e.a,{href:\"https://www.notion.so/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Notion.so\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:24,columnNumber:18},this),\" is one of my favorite apps when it comes to organizing notes. I love their minimal designed text editor because it focuses your attention on the content \\u2014\\u200Aand not on unnecessary UI elements.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Yet it provides you a ton of powerful features that lead to a better writing experience.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:26,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"For instance, the slash command is one of those features that really enhanced my writing flow. It allows you to add and style content without leaving the keyboard. Instead of clicking a UI button to add a new heading, you can just type \",(0,n.jsxDEV)(e.code,{children:\"/h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:28,columnNumber:237},this),\", hit \\u2018Enter\\u2019, and there you go.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:28,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Another cool thing about Notion is that it is a fully web-based application. Because of that, I was interested in how it was actually built\\u200A\\u2014\\u200Aespecially the text editor. In fact, I realized that it is not that difficult as I expected it to be.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"In this article, we take a closer look at how a text editor like Notion works and how we can build one ourselves with React.js.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"By doing this, we will discover and learn some essential frontend skills:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[\"Working with the \",(0,n.jsxDEV)(e.strong,{children:\"DOM\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:36,columnNumber:20},this),\" and its \",(0,n.jsxDEV)(e.strong,{children:\"Nodes\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:36,columnNumber:36},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"Working with \",(0,n.jsxDEV)(e.strong,{children:\"Event Listeners\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:37,columnNumber:16},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"Advanced \",(0,n.jsxDEV)(e.strong,{children:\"State Management\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:38,columnNumber:12},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:38,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Here is how our application will look like in the end. In my opinion, a perfect project for your portfolio if you are new to React.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,n.jsxDEV)(f,{src:\"/images/posts/how-to-build-a-text-editor-like-notion/notion-clone-medium-short.gif\",alt:\"Notion Clone React\",caption:\"The final application!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h2,{id:\"contents\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#contents\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Contents\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ol,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[\"The \",(0,n.jsxDEV)(e.strong,{children:\"Theory\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:50,columnNumber:9},this),\": How Does A Notion-like Text Editor Work?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"The \",(0,n.jsxDEV)(e.strong,{children:\"Practice\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:51,columnNumber:9},this),\": How Can We Rebuild It?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[(0,n.jsxDEV)(e.strong,{children:\"Ideas\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:52,columnNumber:5},this),\" For Further Development\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:(0,n.jsxDEV)(e.strong,{children:\"Resources\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:53,columnNumber:5},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:53,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h3,{id:\"the-theory-how-does-a-notion-like-text-editor-work\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-theory-how-does-a-notion-like-text-editor-work\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"The Theory: How Does A Notion-like Text Editor Work?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"editable-blocks\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#editable-blocks\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Editable Blocks\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"The core concept of a Notion-like text editor is what I would like to call \",(0,n.jsxDEV)(e.em,{children:\"blocks\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:59,columnNumber:76},this),\". Each time you hit \\u2018Enter\\u2019 on your keyboard, you create a new block. So essentially, each page consists of one or many blocks.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"From a user perspective, a block contains content and has a specific styling that is associated with the block type. Types of blocks could be headings, quotes, or paragraphs. Each of those has a unique styling.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"From a technical perspective, a block is a so-called \",(0,n.jsxDEV)(e.code,{children:\"contenteditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:63,columnNumber:54},this),\" element. Nearly every HTML element can be turned into an editable one. You just have to add the \",(0,n.jsxDEV)(e.code,{children:'contenteditable=\"true\"'},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:63,columnNumber:168},this),\" attribute to it. This indicates if the element should be editable by the user. If so, users can edit their content directly in the HTML document as if it would be an \",(0,n.jsxDEV)(e.code,{children:\"input\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:63,columnNumber:359},this),\" or \",(0,n.jsxDEV)(e.code,{children:\"textarea\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:63,columnNumber:370},this),\" element.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:63,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"The concept gets clear in an example:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Let\\u2019s say a user adds a new block with the type of \",(0,n.jsxDEV)(e.em,{children:\"Heading\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:67,columnNumber:52},this),\". This produces the following HTML output:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx\",children:`<h1 contenteditable=\"true\"> I am editable by the user </h1>\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:69,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Since the user selected \",(0,n.jsxDEV)(e.em,{children:\"Heading\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:73,columnNumber:25},this),\" as the block type, we append an \",(0,n.jsxDEV)(e.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:73,columnNumber:67},this),\" element to the DOM. Thus, it gets an appropriate heading styling. The user could now directly edit the content of that \",(0,n.jsxDEV)(e.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:73,columnNumber:191},this),\" element by placing the cursor inside it.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"slash-commands\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#slash-commands\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Slash Commands\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Now that the user can add new blocks to the page by pressing \\u2018Enter\\u2019, how can he/she determine the type of an added block?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"In Notion, you can do this via slash commands.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"The concept of slash commands is simple yet effective. Every time you type a \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:81,columnNumber:78},this),\" inside a block, a type-ahead menu pops up right above the cursor. This menu shows you all available block types. As you write along, you filter the block types with your query. If you found the right block type, just hit \\u2018Enter\\u2019, and the block turns into whatever you selected.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"In our application, all slash commands will be equivalent to the corresponding HTML elements. Meaning an \",(0,n.jsxDEV)(e.code,{children:\"/h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:83,columnNumber:106},this),\" command turns into an H1 heading and a \",(0,n.jsxDEV)(e.code,{children:\"/p\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:83,columnNumber:151},this),\" command turns into a paragraph, for example.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Technically, an existing block like \",(0,n.jsxDEV)(e.code,{children:'<h1 contenteditable=\"true\"> </h1>'},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:85,columnNumber:37},this),\" would consequently turn into \",(0,n.jsxDEV)(e.code,{children:'<p contenteditable=\"true\"> </p>'},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:85,columnNumber:102},this),\" once the user types \",(0,n.jsxDEV)(e.code,{children:\"/p\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:85,columnNumber:156},this),\" and hits \\u2018 Enter\\u2019.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h3,{id:\"the-practice-how-can-we-rebuildit\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-practice-how-can-we-rebuildit\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"The Practice: How Can We Rebuild\\xA0It?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Now that we know how it works in theory, let\\u2019s put it into practice. First of all, we create a new React project. You can do that by using create-react-app or any other tooling.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"1-create-an-editablepage\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-create-an-editablepage\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"1 \\u2014Create An Editable\\xA0Page\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Having the setup done, we create our first component: \",(0,n.jsxDEV)(e.code,{children:\"editablePage.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:93,columnNumber:55},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:editablePage.js\",children:`\nconst initialBlock = { id: uid(), html: '', tag: 'p' };\n\nclass EditablePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { blocks: [initialBlock] };\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        {this.state.blocks.map((block, key) => {\n          return (\n            <div key={key} id={block.id}>\n              Tag: {block.tag}, Content: {block.html}\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default EditablePage;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:95,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"The page component stores and renders all blocks we will create later on. As a start, we only provide an initial first block that we define at the very top. This block will turn into an empty paragraph element once we created our editable block component. For now, we just render a plain \",(0,n.jsxDEV)(e.code,{children:\"div\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:123,columnNumber:289},this),\" container.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Note: Since every block needs a unique ID, I created a helper function \",(0,n.jsxDEV)(e.code,{children:\"uid()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:125,columnNumber:72},this),\" that we can use for initializing new blocks. In case you want to use the same function:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-js:uid.js\",children:`const uid = () => {\n  return Date.now().toString(36) + Math.random().toString(36).substr(2);\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:127,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"2create-an-editableblock\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2create-an-editableblock\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"2\\u200A\\u2014\\u200ACreate An Editable\\xA0Block\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:133,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"As a next step, we create an editable block component that we can render instead of the \",(0,n.jsxDEV)(e.code,{children:\"div\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:135,columnNumber:89},this),\" container. For that, we have to install an external dependency called \",(0,n.jsxDEV)(e.code,{children:\"react-contenteditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:135,columnNumber:165},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:135,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[(0,n.jsxDEV)(e.em,{children:\"React-Contenteditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:137,columnNumber:1},this),\" is a package that makes working with editable elements in React really easy. It abstracts a lot of complexity for us so that we only need to pass the right props to the \",(0,n.jsxDEV)(e.code,{children:\"ContentEditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:137,columnNumber:194},this),\" component. The component exposed by the package then handles the rest.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:137,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"To install the package, run \",(0,n.jsxDEV)(e.code,{children:\"npm i react-contenteditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:139,columnNumber:29},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:139,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Next, we create a new file called \",(0,n.jsxDEV)(e.code,{children:\"editableBlock.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:141,columnNumber:35},this),\":\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:141,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:editableBlock.js\",children:`class EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.onChangeHandler = this.onChangeHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      html: '',\n      tag: 'p',\n    };\n  }\n\n  componentDidMount() {\n    this.setState({ html: this.props.html, tag: this.props.tag });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const htmlChanged = prevState.html !== this.state.html;\n    const tagChanged = prevState.tag !== this.state.tag;\n    if (htmlChanged || tagChanged) {\n      this.props.updatePage({\n        id: this.props.id,\n        html: this.state.html,\n        tag: this.state.tag,\n      });\n    }\n  }\n\n  onChangeHandler(e) {\n    this.setState({ html: e.target.value });\n  }\n\n  render() {\n    return (\n      <ContentEditable\n        className=\"Block\"\n        innerRef={this.contentEditable}\n        html={this.state.html}\n        tagName={this.state.tag}\n        onChange={this.onChangeHandler}\n      />\n    );\n  }\n}\n\nexport default EditableBlock;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:143,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"The editable block renders the \",(0,n.jsxDEV)(e.code,{children:\"ContentEditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:32},this),\" component that we imported from the \",(0,n.jsxDEV)(e.code,{children:\"react-contenteditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:86},this),\" package. By passing \",(0,n.jsxDEV)(e.code,{children:\"html\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:130},this),\" and \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:141},this),\" as props to the component, we can define what should be displayed and how it should be displayed. Remember, the \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:263},this),\" defines the HTML element type and hence the styling.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:191,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"If we were to change the block type later on (e.g. from \",(0,n.jsxDEV)(e.code,{children:\"p\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:193,columnNumber:57},this),\" to \",(0,n.jsxDEV)(e.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:193,columnNumber:64},this),\"), we can simply update the \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:193,columnNumber:96},this),\" prop. Pretty easy, right?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:193,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"We also added advanced state management to the block component. When the component mounts, it receives the initial HTML content and tag via props and stores them in the state. From now on, the block component fully owns the draft state. Any subsequent changes to the \",(0,n.jsxDEV)(e.code,{children:\"html\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:195,columnNumber:268},this),\" or \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:195,columnNumber:278},this),\" prop are being ignored.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:195,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"When there have been relevant updates to the \",(0,n.jsxDEV)(e.code,{children:\"html\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:197,columnNumber:46},this),\" or \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:197,columnNumber:56},this),\" state property, we update the page component\\u2019s state in the \",(0,n.jsxDEV)(e.code,{children:\"componentDidUpdate\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:197,columnNumber:126},this),\" lifecycle hook too. Thus, we avoid an unnecessary re-rendering of the page.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:197,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Having our \",(0,n.jsxDEV)(e.code,{children:\"editableBlock\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:199,columnNumber:12},this),\" component set up, we can finally use it in our page component:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:199,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:editablePage.js\",children:`const initialBlock = { id: uid(), html: '', tag: 'p' };\n\nclass EditablePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.updatePageHandler = this.updatePageHandler.bind(this);\n    this.addBlockHandler = this.addBlockHandler.bind(this);\n    this.deleteBlockHandler = this.deleteBlockHandler.bind(this);\n    this.state = { blocks: [initialBlock] };\n  }\n\n  updatePageHandler(updatedBlock) {\n    const blocks = this.state.blocks;\n    const index = blocks.map(b => b.id).indexOf(updatedBlock.id);\n    const updatedBlocks = [...blocks];\n    updatedBlocks[index] = {\n      ...updatedBlocks[index],\n      tag: updatedBlock.tag,\n      html: updatedBlock.html,\n    };\n    this.setState({ blocks: updatedBlocks });\n  }\n\n  addBlockHandler(currentBlock) {\n    const newBlock = { id: uid(), html: '', tag: 'p' };\n    const blocks = this.state.blocks;\n    const index = blocks.map(b => b.id).indexOf(currentBlock.id);\n    const updatedBlocks = [...blocks];\n    updatedBlocks.splice(index + 1, 0, newBlock);\n    this.setState({ blocks: updatedBlocks }, () => {\n      currentBlock.ref.nextElementSibling.focus();\n    });\n  }\n\n  deleteBlockHandler(currentBlock) {\n    const previousBlock = currentBlock.ref.previousElementSibling;\n    if (previousBlock) {\n      const blocks = this.state.blocks;\n      const index = blocks.map(b => b.id).indexOf(currentBlock.id);\n      const updatedBlocks = [...blocks];\n      updatedBlocks.splice(index, 1);\n      this.setState({ blocks: updatedBlocks }, () => {\n        setCaretToEnd(previousBlock);\n        previousBlock.focus();\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"Page\">\n        {this.state.blocks.map((block, key) => {\n          return (\n            <EditableBlock\n              key={key}\n              id={block.id}\n              tag={block.tag}\n              html={block.html}\n              updatePage={this.updatePageHandler}\n              addBlock={this.addBlockHandler}\n              deleteBlock={this.deleteBlockHandler}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default EditablePage;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:201,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Besides using the \",(0,n.jsxDEV)(e.code,{children:\"EditableBlock\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:274,columnNumber:19},this),\" component inside our \",(0,n.jsxDEV)(e.code,{children:\"render\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:274,columnNumber:56},this),\" hook, we additionally added new methods in the page component:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:274,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[\"The \",(0,n.jsxDEV)(e.code,{children:\"updateBlockHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:276,columnNumber:7},this),\" that we already use in our block component takes care of keeping the page and block state in sync.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:276,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"The \",(0,n.jsxDEV)(e.code,{children:\"addBlockHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:277,columnNumber:7},this),\" appends a new block and sets the focus to it.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:277,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"The \",(0,n.jsxDEV)(e.code,{children:\"deleteBlockHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:278,columnNumber:7},this),\" removes a block and sets the focus to the preceding block.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:278,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:276,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"We pass all three methods as props to the editable block.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:280,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Note: In the \",(0,n.jsxDEV)(e.code,{children:\"deleteBlockHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:282,columnNumber:14},this),\", we use another helper function that manually sets the cursor to the end of the block content. If we would just focus the element as we did in \",(0,n.jsxDEV)(e.code,{children:\"addBlockHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:282,columnNumber:178},this),\", it would focus the element though, but with a cursor set to the very beginning of the block content. In case you want to use the same \",(0,n.jsxDEV)(e.code,{children:\"setCaretToEnd\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:282,columnNumber:331},this),\" helper function:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:282,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-js:setCaretToEnd.js\",children:`const setCaretToEnd = element => {\n  const range = document.createRange();\n  const selection = window.getSelection();\n  range.selectNodeContents(element);\n  range.collapse(false);\n  selection.removeAllRanges();\n  selection.addRange(range);\n  element.focus();\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:284,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:284,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"3implement-a-keydownlistener\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3implement-a-keydownlistener\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"3\\u200A\\u2014\\u200AImplement A KeyDown\\xA0Listener\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:296,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"So far, we can only add text content to our initially added block. Let\\u2019s make things a bit more interactive with our first event listener. This will allow us to add and delete blocks as we like.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:298,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Inside \",(0,n.jsxDEV)(e.code,{children:\"editableBlock.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:300,columnNumber:8},this),\", we create an \",(0,n.jsxDEV)(e.code,{children:\"onKeyDownHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:300,columnNumber:41},this),\" method that we pass on to the \",(0,n.jsxDEV)(e.code,{children:\"ContentEditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:300,columnNumber:90},this),\" component:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:300,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:editableBlock.js\",children:`class EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    // ...\n    this.onKeyDownHandler = this.onKeyDownHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      htmlBackup: null,\n      html: '',\n      tag: 'p',\n      previousKey: '',\n    };\n  }\n\n  // ...\n\n  onKeyDownHandler(e) {\n    if (e.key === '/') {\n      this.setState({ htmlBackup: this.state.html });\n    }\n    if (e.key === 'Enter') {\n      if (this.state.previousKey !== 'Shift') {\n        e.preventDefault();\n        this.props.addBlock({\n          id: this.props.id,\n          ref: this.contentEditable.current,\n        });\n      }\n    }\n    if (e.key === 'Backspace' && !this.state.html) {\n      e.preventDefault();\n      this.props.deleteBlock({\n        id: this.props.id,\n        ref: this.contentEditable.current,\n      });\n    }\n    this.setState({ previousKey: e.key });\n  }\n\n  render() {\n    return (\n      <ContentEditable\n        className=\"Block\"\n        innerRef={this.contentEditable}\n        html={this.state.html}\n        tagName={this.state.tag}\n        onChange={this.onChangeHandler}\n        onKeyDown={this.onKeyDownHandler}\n      />\n    );\n  }\n}\n\nexport default EditableBlock;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:302,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:302,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"As mentioned, this event listener is primarily responsible for adding and deleting blocks. But let\\u2019s break the \",(0,n.jsxDEV)(e.code,{children:\"onKeyDownHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:359,columnNumber:112},this),\" down bit by bit:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:359,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.ul,{children:[`\n`,(0,n.jsxDEV)(e.li,{children:[\"Regardless of what key has been pressed, store the key in the state. We need the \",(0,n.jsxDEV)(e.code,{children:\"previousKey\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:361,columnNumber:84},this),\" to be able to detect key combinations.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:361,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"When the user pressed \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:362,columnNumber:25},this),\", we store a copy of the current HTML content in the state. We do that because we want to restore a clean HTML version after the user has finished the process of selecting a block type.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:362,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"When the user pressed \",(0,n.jsxDEV)(e.code,{children:\"Enter\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:363,columnNumber:25},this),\", we prevent the default behavior (i.e. adding a new line). Instead, we create a new block by using the \",(0,n.jsxDEV)(e.code,{children:\"addBlock\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:363,columnNumber:136},this),\" method which we previously created in the page component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:363,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"Because the user should still be able to add new lines somehow, we use the \",(0,n.jsxDEV)(e.code,{children:\"previousKey\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:364,columnNumber:78},this),\" state property to detect a \",(0,n.jsxDEV)(e.code,{children:\"Shift+Enter\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:364,columnNumber:119},this),\" key combination. If that is the case, we do not add a new block and allow the default \\u2018Enter\\u2019 behavior to happen.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:364,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.li,{children:[\"Lastly, we delete an empty block when the user presses \",(0,n.jsxDEV)(e.code,{children:\"Backspace\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:365,columnNumber:58},this),\" with the \",(0,n.jsxDEV)(e.code,{children:\"deleteBlock\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:365,columnNumber:79},this),\" method.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:365,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:361,columnNumber:1},this),`\n`,(0,n.jsxDEV)(f,{src:\"/images/posts/how-to-build-a-text-editor-like-notion/1__FwMgJ660ehUK1SZgYLYjMA.gif\",alt:\"Notion Clone React\",caption:\"So far, we can create and delete blocks.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:367,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Now that we can create new blocks, what about slash commands and selecting different block types? We cover that in the next steps.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:373,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"4add-a-selectmenu\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#4add-a-selectmenu\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"4\\u200A\\u2014\\u200AAdd A Select\\xA0Menu\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:375,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"As mentioned earlier, when the user types a \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:377,columnNumber:45},this),\", we want to display a select menu. The menu shall list up all available block types. A specific block type can then be selected either by clicking on it or by typing in the matching slash command.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:377,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"To implement such a select menu, we first have to add another dependency: \",(0,n.jsxDEV)(e.em,{children:\"match-sorter\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:379,columnNumber:75},this),\". This is a simple package that helps us with querying the matching block types.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:379,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"To install it, run: \",(0,n.jsxDEV)(e.code,{children:\"npm i match-sorter\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:381,columnNumber:21},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:381,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Having that done, we create a new file called \",(0,n.jsxDEV)(e.code,{children:\"selectMenu.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:383,columnNumber:47},this),\" with the following contents:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:383,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:selectMenu.js\",children:`const MENU_HEIGHT = 150;\nconst allowedTags = [\n  {\n    id: 'page-title',\n    tag: 'h1',\n    label: 'Page Title',\n  },\n  {\n    id: 'heading',\n    tag: 'h2',\n    label: 'Heading',\n  },\n  {\n    id: 'subheading',\n    tag: 'h3',\n    label: 'Subheading',\n  },\n  {\n    id: 'paragraph',\n    tag: 'p',\n    label: 'Paragraph',\n  },\n];\n\nclass SelectMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    this.keyDownHandler = this.keyDownHandler.bind(this);\n    this.state = {\n      command: '',\n      items: allowedTags,\n      selectedItem: 0,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.keyDownHandler);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const command = this.state.command;\n    if (prevState.command !== command) {\n      const items = matchSorter(allowedTags, command, { keys: ['tag'] });\n      this.setState({ items: items });\n    }\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.keyDownHandler);\n  }\n\n  keyDownHandler(e) {\n    const items = this.state.items;\n    const selected = this.state.selectedItem;\n    const command = this.state.command;\n\n    switch (e.key) {\n      case 'Enter':\n        e.preventDefault();\n        this.props.onSelect(items[selected].tag);\n        break;\n      case 'Backspace':\n        if (!command) this.props.close();\n        this.setState({ command: command.substring(0, command.length - 1) });\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        const prevSelected = selected === 0 ? items.length - 1 : selected - 1;\n        this.setState({ selectedItem: prevSelected });\n        break;\n      case 'ArrowDown':\n      case 'Tab':\n        e.preventDefault();\n        const nextSelected = selected === items.length - 1 ? 0 : selected + 1;\n        this.setState({ selectedItem: nextSelected });\n        break;\n      default:\n        this.setState({ command: this.state.command + e.key });\n        break;\n    }\n  }\n\n  render() {\n    const x = this.props.position.x;\n    const y = this.props.position.y - MENU_HEIGHT;\n    const positionAttributes = { top: y, left: x };\n\n    return (\n      <div className=\"SelectMenu\" style={positionAttributes}>\n        <div className=\"Items\">\n          {this.state.items.map((item, key) => {\n            const selectedItem = this.state.selectedItem;\n            const isSelected = this.state.items.indexOf(item) === selectedItem;\n            return (\n              <div\n                className={isSelected ? 'Selected' : null}\n                key={key}\n                role=\"button\"\n                tabIndex=\"0\"\n                onClick={() => this.props.onSelect(item.tag)}\n              >\n                {item.label}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SelectMenu;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:385,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:385,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"At the very top, we define what block types should be selectable by the user. Each type has a tag and a label: the tag defines which HTML element type shall be used and the label defines the display name inside our menu.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:500,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"When the component mounts, we calculate the position of the menu on the screen inside our \",(0,n.jsxDEV)(e.code,{children:\"render\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:502,columnNumber:91},this),\" hook. There, we use \",(0,n.jsxDEV)(e.code,{children:\"this.props.position\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:502,columnNumber:120},this),\". This object contains the current position of the cursor since we want to display the menu right above it.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:502,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Additionally, we attach a \",(0,n.jsxDEV)(e.code,{children:\"keyDown\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:504,columnNumber:27},this),\" event listener in the \",(0,n.jsxDEV)(e.code,{children:\"componentDidMount\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:504,columnNumber:59},this),\" hook. It takes care of storing the entered command in state and enables the user to select a block type via keyboard.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:504,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Whenever the \",(0,n.jsxDEV)(e.code,{children:\"command\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:506,columnNumber:14},this),\" state property changes, we run our imported \",(0,n.jsxDEV)(e.code,{children:\"matchedSorter\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:506,columnNumber:68},this),\" function to filter for matching block types. Thus, the select menu shows only block types that match with our command.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:506,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Finally, when the user hits \\u2018Enter\\u2019 or clicks on an entry, we execute an \",(0,n.jsxDEV)(e.code,{children:\"onSelect\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:508,columnNumber:74},this),\" method that we receive via props.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:508,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Admittedly, this was a lot of code at once. But if you go through it step by step, it should be understandable hopefully.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:510,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"5add-block-type-selection\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#5add-block-type-selection\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"5\\u200A\\u2014\\u200AAdd Block Type Selection\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:512,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Next, we can put things together. Since we have our select menu component in place, we can add it to \",(0,n.jsxDEV)(e.code,{children:\"editableBlock.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:514,columnNumber:102},this),\":\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:514,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-jsx:editableBlock.js\",children:`class EditableBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    // ...\n    this.onKeyUpHandler = this.onKeyUpHandler.bind(this);\n    this.openSelectMenuHandler = this.openSelectMenuHandler.bind(this);\n    this.closeSelectMenuHandler = this.closeSelectMenuHandler.bind(this);\n    this.tagSelectionHandler = this.tagSelectionHandler.bind(this);\n    this.contentEditable = React.createRef();\n    this.state = {\n      htmlBackup: null,\n      html: '',\n      tag: 'p',\n      previousKey: '',\n      selectMenuIsOpen: false,\n      selectMenuPosition: {\n        x: null,\n        y: null,\n      },\n    };\n  }\n\n  // ...\n\n  onKeyUpHandler(e) {\n    if (e.key === '/') {\n      this.openSelectMenuHandler();\n    }\n  }\n\n  openSelectMenuHandler() {\n    const { x, y } = getCaretCoordinates();\n    this.setState({\n      selectMenuIsOpen: true,\n      selectMenuPosition: { x, y },\n    });\n    document.addEventListener('click', this.closeSelectMenuHandler);\n  }\n\n  closeSelectMenuHandler() {\n    this.setState({\n      htmlBackup: null,\n      selectMenuIsOpen: false,\n      selectMenuPosition: { x: null, y: null },\n    });\n    document.removeEventListener('click', this.closeSelectMenuHandler);\n  }\n\n  tagSelectionHandler(tag) {\n    this.setState({ tag: tag, html: this.state.htmlBackup }, () => {\n      setCaretToEnd(this.contentEditable.current);\n      this.closeSelectMenuHandler();\n    });\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.selectMenuIsOpen && (\n          <SelectMenu\n            position={this.state.selectMenuPosition}\n            onSelect={this.tagSelectionHandler}\n            close={this.closeSelectMenuHandler}\n          />\n        )}\n        <ContentEditable\n          className=\"Block\"\n          innerRef={this.contentEditable}\n          html={this.state.html}\n          tagName={this.state.tag}\n          onChange={this.onChangeHandler}\n          onKeyDown={this.onKeyDownHandler}\n          onKeyUp={this.onKeyUpHandler}\n        />\n      </>\n    );\n  }\n}\n\nexport default EditableBlock;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:516,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:516,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"First, we import our \",(0,n.jsxDEV)(e.code,{children:\"SelectMenu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:599,columnNumber:22},this),\" component and render it conditionally. We can control its visibility by our state property \",(0,n.jsxDEV)(e.code,{children:\"selectMenuIsOpen\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:599,columnNumber:126},this),\". If we set this to true, we render the menu additionally to the \",(0,n.jsxDEV)(e.code,{children:\"ContentEditable\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:599,columnNumber:209},this),\" component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:599,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Next, we implemented the logic that defines when and where we want to show it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:601,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"We defined two methods that handle the menu\\u2019s opening and closing. When we open it, we first get the coordinates of the currently set cursor. We do this because we want to open up the menu right above the cursor. Lastly, we store this position in the state, set \",(0,n.jsxDEV)(e.code,{children:\"selectMenuIsOpen\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:603,columnNumber:263},this),\" to true, and attach a click listener.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:603,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"The click listener is responsible for closing the select menu once there has been another click on the screen\\u200A\\u2014\\u200Ano matter if it was on the menu itself or outside it. Both actions should close it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:605,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Our \",(0,n.jsxDEV)(e.code,{children:\"closeSelectMenuHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:607,columnNumber:5},this),\" method then is fairly simple. We just reset our previously set state properties and detach the click listener again.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:607,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Having the opening and closing handlers implemented, we also need to define when we actually want to open the menu.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:609,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"From a user perspective, we want to open the menu once the user enters a \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:611,columnNumber:74},this),\". Therefore, it seems intuitive to add the \",(0,n.jsxDEV)(e.code,{children:\"this.openSelectMenuHandler()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:611,columnNumber:120},this),\" call in our previously defined \",(0,n.jsxDEV)(e.code,{children:\"onKeyDownHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:611,columnNumber:182},this),\" method, right? Because there, we already check if the user pressed the \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:611,columnNumber:272},this),\" key.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:611,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"In fact, we have to add another event listener for that. The menu should only show up once the user releases the \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:613,columnNumber:114},this),\" key. Otherwise, the positioning of the menu would not work correctly. Hence, we add a new \",(0,n.jsxDEV)(e.code,{children:\"keyUp\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:613,columnNumber:208},this),\" event listener for that.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:613,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Now there is only one final step to take. Remember that we pass an \",(0,n.jsxDEV)(e.code,{children:\"onSelect\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:615,columnNumber:68},this),\" function as a prop to the select menu component? To make the selection process work, we have to define an associated method for that in our editable block component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:615,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Gladly, this method is rather simple. In the \",(0,n.jsxDEV)(e.code,{children:\"tagSelectionHandler\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:617,columnNumber:46},this),\", we receive the selected block type as the \",(0,n.jsxDEV)(e.code,{children:\"tag\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:617,columnNumber:111},this),\" argument. With it, we can update our \",(0,n.jsxDEV)(e.code,{children:\"tagName\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:617,columnNumber:154},this),\" state property as well as restore the HTML backup, i.e. the HTML content without the entered command.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:617,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"If that process has finished, we set the cursor to the editable block again and close the menu.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:619,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"And finally, believe it or not\\u2026 we are done \\u{1F389}\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:621,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Note: I again used a helper function for obtaining the cursor coordinates. If you want to use the same function, here it is:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:623,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.pre,{children:(0,n.jsxDEV)(e.code,{className:\"language-js\",children:`const getCaretCoordinates = () => {\n  let x, y;\n  const selection = window.getSelection();\n  if (selection.rangeCount !== 0) {\n    const range = selection.getRangeAt(0).cloneRange();\n    range.collapse(false);\n    const rect = range.getClientRects()[0];\n    if (rect) {\n      x = rect.left;\n      y = rect.top;\n    }\n  }\n  return { x, y };\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:625,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:625,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h3,{id:\"ideas-for-further-development\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#ideas-for-further-development\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),(0,n.jsxDEV)(e.strong,{children:\"Ideas\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:642,columnNumber:5},this),\" For Further Development\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:642,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Now that we have the core functionality of Notion\\u2019s text editor rebuilt, we have a perfect foundation for further development. There are many features that we can add to our application to improve it further.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:644,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"I always like to look for inspiration in existing apps and see if I can build their features on my own. Same with Notion. Here are two concrete examples:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:646,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"context-menu-based-on-selection\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#context-menu-based-on-selection\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Context Menu Based On Selection\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:648,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"So far, we only show a select menu when the user types a \",(0,n.jsxDEV)(e.code,{children:\"/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:650,columnNumber:58},this),\". But what if the user wants to quickly edit the type of an existing block? Or he/she wants to remove a block?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:650,columnNumber:1},this),`\n`,(0,n.jsxDEV)(f,{src:\"/images/posts/how-to-build-a-text-editor-like-notion/1__CsyyrDAk1vei6qrGVZtGSA.png\",alt:\"Notion Clone React Context Menu\",caption:\"Context Menu that will pop up once the user selects content\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:652,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Here, a context menu comes in handy. Whenever the user selects the block\\u2019s content, we display a menu with two options: either turn the existing block\\u2019s type into another or delete the block itself with a single click.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:658,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"rearrange-blocks-by-drag-anddrop\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#rearrange-blocks-by-drag-anddrop\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Rearrange Blocks By Drag and\\xA0Drop\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:660,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Because we have an underlying block structure, we can rearrange our content fairly easily. Maybe a user realizes that this one paragraph should be further at the top of the page. In Notion, you can easily reorder blocks with a smooth drag and drop functionality. And we can do that too!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:662,columnNumber:1},this),`\n`,(0,n.jsxDEV)(f,{src:\"/images/posts/how-to-build-a-text-editor-like-notion/1__gg4NH3JJRtioqNutwJf__DQ.gif\",alt:\"Notion Clone React Drag Drop\",caption:\"Drag And Drop functionality to reorder blocks\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:664,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h3,{id:\"resources\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#resources\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Resources\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:670,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Admittedly, we covered a lot in this article\\u2026 but I think the idea and process of building a Notion clone are really cool and exciting, especially for React beginners. Therefore, I wanted to provide you all the things you need.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:672,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"final-application\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#final-application\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Final Application\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:674,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"You find a working example for the \",(0,n.jsxDEV)(e.a,{href:\"https://codesandbox.io/s/notion-text-editor-gugcc\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"final application on CodeSandbox\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:676,columnNumber:36},this),\". It also includes all of the CSS stylings which we did not cover in this article.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:676,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"advanced-application\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#advanced-application\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Advanced Application\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:678,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Moreover, if you want to enhance your application with more features (e.g. features like those I mentioned in the last section), have a look at my more advanced application. It might be a good source of inspiration too.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:680,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"This advanced Notion Clone also includes a backend part that persists the user content on a server. Great if you want to get in touch with basic CRUD operations in Node/Express!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:682,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Live Demo: \",(0,n.jsxDEV)(e.a,{href:\"https://notion-clone.kmuenster.com/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"https://notion-clone.kmuenster.com/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:684,columnNumber:12},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:684,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:[\"Github Repository: \",(0,n.jsxDEV)(e.a,{href:\"https://github.com/konstantinmuenster/notion-clone\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"https://github.com/konstantinmuenster/notion-clone\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:686,columnNumber:20},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:686,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.h4,{id:\"working-with-the-cursor-in-thebrowser\",children:[(0,n.jsxDEV)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#working-with-the-cursor-in-thebrowser\",children:(0,n.jsxDEV)(e.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this),\"Working With The Cursor In The\\xA0Browser\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:688,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"As you noticed, I used some helper functions in our application. These functions primarily help us to work with the cursor in the browser, e.g. obtaining the cursor coordinates.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:690,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"Since this was something I struggled with a lot during development, I recently published an article about it. In case you want to dive deeper into this topic, here it is:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:692,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:(0,n.jsxDEV)(e.a,{href:\"https://medium.com/javascript-in-plain-english/how-to-find-the-caret-inside-a-contenteditable-element-955a5ad9bf81\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"How To Find The Caret Inside A Contenteditable Element\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:694,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:694,columnNumber:1},this),`\n`,(0,n.jsxDEV)(e.p,{children:\"As always, thanks for reading! If you stumbled with any questions or issues throughout this article, let me know in the comment section. Thus, I can update and improve the article if needed. I appreciate any feedback!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:696,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\",lineNumber:1,columnNumber:1},this)}function vn(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsxDEV)(e,Object.assign({},a,{children:(0,n.jsxDEV)(Ee,a,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx\"},this):Ee(a)}var Nn=vn;function gn(a,e,f){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(f?\"\\nIt\\u2019s referenced in your code at `\"+f+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-05bfe616-4800-4225-8aca-9e954d7633d2.mdx`\":\"\"))}return pn(xn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/001-how-to-build-a-text-editor-like-notion.mdx",
    "_raw": {
      "sourceFilePath": "posts/001-how-to-build-a-text-editor-like-notion.mdx",
      "sourceFileName": "001-how-to-build-a-text-editor-like-notion.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/001-how-to-build-a-text-editor-like-notion"
    },
    "type": "Post",
    "slug": "how-to-build-a-text-editor-like-notion"
  },
  {
    "title": "Using The New <next/image> Component",
    "publishedAt": "2022-08-06T21:00:00.000Z",
    "summary": "Next.js 12.2 includes a totally revised component for image optimization. Let’s see what has changed.",
    "cover": {
      "src": "/images/posts/using-the-new-next-12-image-component/robert-shunev-mS1nlYbq1kA-unsplash.jpg",
      "alt": "Camera",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@rshunev\" target=\"_blank\" rel=\"noopener noreferrer\">Robert Shunev</a> on Unsplash",
        "html": "<p>Photo by Robert Shunev on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://javascript.plainenglish.io/how-to-use-the-new-next-image-component-1f35379ee1",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "Next.js",
      "Image Optimization"
    ],
    "body": {
      "raw": "\n<Callout>\n  Right now, the newer `next/image` component is still under development and\n  only available using [the experimental\n  flag](https://nextjs.org/docs/api-reference/next/future/image).\n</Callout>\n\nWith Next.js 10 and the then introduced `next/image` component, serving images became a lot easier. Image compression, modern image formats, lazy loading - everything just by swapping out the browser default `<img />` tag.\n\nThough, it was not that simple after all. While the user experience improved a lot, the developer experience was not as simple as hoped. Properties that didn’t behave as expected, images that were wrapped several times like a good old present on Christmas.\n\nLuckily, the feedback had been heard and Next.js introduced a revised, experimental version for the next/image component in Next.js 12.2.\n\nLet’s look at the major changes.\n\n## Changes for `next/image` in Next.js 12.2\n\nThis table shows the biggest changes that have been introduced in Next.js 12.2 and how it compares to the old image component.\n\n|                 | Next.js 10                                             | Next.js 12.2                                           |\n| --------------- | ------------------------------------------------------ | ------------------------------------------------------ |\n| **HTML Output** | Renders `<img />` with span and div wrapper            | Renders `<img />` without any wrappers                 |\n| **Sizing**      | Width/height represent rendered or original image size | Width/height always represent the rendered image size  |\n| **Styling**     | Using `layout` and CSS properties                      | Using CSS properties                                   |\n| **Fill Mode**   | Set `layout=fill`                                      | Setting `fill=true` and set styles on parent container |\n\nLet’s see how this would look like in an example. The API for using the image component hasn’t changed much but there are still some tweaks that are useful to know.\n\n### How to use `next/image` with fixed image size\n\nIf you want to preserve the aspect ratio of the image, you can use the fixed layout. Depending on whether you are importing your image locally or not, you can simply set a width and height image of the rendered image, that's it!\n\n```tsx\n<Image\n  src={image.srcUrl}\n  alt=\"Image\"\n  width={600} // If you import the image locally, you can omit this\n  height={600} // If you import the image locally, you can omit this\n/>\n```\n\nAdditionally, you could set properties like `style` or `className` to style the image.\n\nAlmost not worth explaining, right? I’m glad it is that simple! Coming from an approach that differed immensely from the browser built-in `<img />` behavior, this “new” approach doesn’t let us think much about how to use it properly.\n\n### How to use `next/image` with fill mode\n\nBut what if you just want to let the image fill its parent container? For those cases, you can use the `fill` property. Set it to `true`, make sure the parent container has all the needed styling, and you are good to go!\n\n```tsx\n<div style={{ position: 'relative', overflow: 'hidden', height: '600px' }}>\n  <Image\n    src={image.srcUrl}\n    alt=\"Image\"\n    fill={true}\n    style={{ objectFit: 'cover' }}\n  />\n</div>\n```\n\nAs you see, this is fairly simple too! Of course, there are more advanced scenarios but these two should cover the most common use-cases.\n\n### Demo Project\n\nI created a tiny project to showcase how both approaches would look like in an actual app. You find the project on Github if you want to take a closer look.\n\n<iframe\n  src=\"https://codesandbox.io/embed/next-12-image-component-demo-623m7n?autoresize=1&fontsize=14&hidenavigation=1&module=%2Fsrc%2Fpages%2Findex.tsx&theme=dark&view=preview\"\n  style={{\n    width: '100%',\n    height: '500px',\n    border: '0',\n    borderRadius: '4px',\n    overflow: 'hidden',\n    marginTop: '2rem',\n    marginBottom: '2rem',\n  }}\n  title=\"next-12-image-component-demo\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n></iframe>\n\nIf you want to dive deeper, make sure to check out the official Next.js documentation. They also cover what has changed technically under the hood - would definitely recommend it.\n\n[next/future/image (experimental) | Next.js](https://nextjs.org/docs/api-reference/next/future/image)\n",
      "code": "var Component=(()=>{var sn=Object.create;var P=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var G=(s,n)=>()=>(n||s((n={exports:{}}).exports,n),n.exports),bn=(s,n)=>{for(var m in n)P(s,m,{get:n[m],enumerable:!0})},Ne=(s,n,m,x)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of fn(n))!mn.call(s,g)&&g!==m&&P(s,g,{get:()=>n[g],enumerable:!(x=un(n,g))||x.enumerable});return s};var vn=(s,n,m)=>(m=s!=null?sn(cn(s)):{},Ne(n||!s||!s.__esModule?P(m,\"default\",{value:s,enumerable:!0}):m,s)),hn=s=>Ne(P({},\"__esModule\",{value:!0}),s);var we=G((wn,ye)=>{ye.exports=React});var De=G(q=>{\"use strict\";(function(){\"use strict\";var s=we(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),x=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),R=Symbol.for(\"react.forward_ref\"),F=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,je=\"@@iterator\";function Ce(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[je];return typeof r==\"function\"?r:null}var y=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];ke(\"error\",e,i)}}function ke(e,r,i){{var o=y.ReactDebugCurrentFrame,a=o.getStackAddendum();a!==\"\"&&(r+=\"%s\",i=i.concat([a]));var u=i.map(function(d){return String(d)});u.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,u)}}var Se=!1,Oe=!1,Pe=!1,Fe=!1,Ie=!1,Z;Z=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===x||e===H||Ie||e===g||e===F||e===I||Fe||e===Te||Se||Oe||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===T||e.$$typeof===X||e.$$typeof===K||e.$$typeof===R||e.$$typeof===Z||e.getModuleId!==void 0))}function We(e,r,i){var o=e.displayName;if(o)return o;var a=r.displayName||r.name||\"\";return a!==\"\"?i+\"(\"+a+\")\":i}function Q(e){return e.displayName||\"Context\"}function p(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case x:return\"Fragment\";case m:return\"Portal\";case H:return\"Profiler\";case g:return\"StrictMode\";case F:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var r=e;return Q(r)+\".Consumer\";case X:var i=e;return Q(i._context)+\".Provider\";case R:return We(e,e.render,\"ForwardRef\");case T:var o=e.displayName||null;return o!==null?o:p(e.type)||\"Memo\";case A:{var a=e,u=a._payload,d=a._init;try{return p(d(u))}catch{return null}}}return null}var N=Object.assign,E=0,ee,ne,re,te,ie,oe,le;function de(){}de.__reactDisabledLog=!0;function Ye(){{if(E===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,ie=console.group,oe=console.groupCollapsed,le=console.groupEnd;var e={configurable:!0,enumerable:!0,value:de,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}}function Me(){{if(E--,E===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:re}),error:N({},e,{value:te}),group:N({},e,{value:ie}),groupCollapsed:N({},e,{value:oe}),groupEnd:N({},e,{value:le})})}E<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var W=y.ReactCurrentDispatcher,Y;function j(e,r,i){{if(Y===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\\n( *(at )?)/);Y=o&&o[1]||\"\"}return`\n`+Y+e}}var M=!1,C;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;C=new $e}function ae(e,r){if(!e||M)return\"\";{var i=C.get(e);if(i!==void 0)return i}var o;M=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=W.current,W.current=null,Ye();try{if(r){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(d,[])}catch(_){o=_}Reflect.construct(e,[],d)}else{try{d.call()}catch(_){o=_}e.call(d.prototype)}}else{try{throw Error()}catch(_){o=_}e()}}catch(_){if(_&&o&&typeof _.stack==\"string\"){for(var l=_.stack.split(`\n`),v=o.stack.split(`\n`),f=l.length-1,c=v.length-1;f>=1&&c>=0&&l[f]!==v[c];)c--;for(;f>=1&&c>=0;f--,c--)if(l[f]!==v[c]){if(f!==1||c!==1)do if(f--,c--,c<0||l[f]!==v[c]){var h=`\n`+l[f].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&C.set(e,h),h}while(f>=1&&c>=0);break}}}finally{M=!1,W.current=u,Me(),Error.prepareStackTrace=a}var D=e?e.displayName||e.name:\"\",xe=D?j(D):\"\";return typeof e==\"function\"&&C.set(e,xe),xe}function Le(e,r,i){return ae(e,!1)}function Ve(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function k(e,r,i){if(e==null)return\"\";if(typeof e==\"function\")return ae(e,Ve(e));if(typeof e==\"string\")return j(e);switch(e){case F:return j(\"Suspense\");case I:return j(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case R:return Le(e.render);case T:return k(e.type,r,i);case A:{var o=e,a=o._payload,u=o._init;try{return k(u(a),r,i)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,se={},ue=y.ReactDebugCurrentFrame;function O(e){if(e){var r=e._owner,i=k(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(i)}else ue.setExtraStackFrame(null)}function ze(e,r,i,o,a){{var u=Function.call.bind(S);for(var d in e)if(u(e,d)){var l=void 0;try{if(typeof e[d]!=\"function\"){var v=Error((o||\"React class\")+\": \"+i+\" type `\"+d+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[d]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw v.name=\"Invariant Violation\",v}l=e[d](r,d,o,i,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){l=f}l&&!(l instanceof Error)&&(O(a),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",i,d,typeof l),O(null)),l instanceof Error&&!(l.message in se)&&(se[l.message]=!0,O(a),b(\"Failed %s type: %s\",i,l.message),O(null))}}}var Be=Array.isArray;function $(e){return Be(e)}function Ge(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,i=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return i}}function qe(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function ce(e){if(qe(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(e)),fe(e)}var U=y.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},me,be,L;L={};function Xe(e){if(S.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(S.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Je(e,r){if(typeof e.ref==\"string\"&&U.current&&r&&U.current.stateNode!==r){var i=p(U.current.type);L[i]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(U.current.type),e.ref),L[i]=!0)}}function Ze(e,r){{var i=function(){me||(me=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};i.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:i,configurable:!0})}}function Qe(e,r){{var i=function(){be||(be=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};i.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:i,configurable:!0})}}var en=function(e,r,i,o,a,u,d){var l={$$typeof:n,type:e,key:r,ref:i,props:d,_owner:u};return l._store={},Object.defineProperty(l._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function nn(e,r,i,o,a){{var u,d={},l=null,v=null;i!==void 0&&(ce(i),l=\"\"+i),Ke(r)&&(ce(r.key),l=\"\"+r.key),Xe(r)&&(v=r.ref,Je(r,a));for(u in r)S.call(r,u)&&!He.hasOwnProperty(u)&&(d[u]=r[u]);if(e&&e.defaultProps){var f=e.defaultProps;for(u in f)d[u]===void 0&&(d[u]=f[u])}if(l||v){var c=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;l&&Ze(d,c),v&&Qe(d,c)}return en(e,l,v,a,o,U.current,d)}}var V=y.ReactCurrentOwner,ve=y.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,i=k(e.type,e._source,r?r.type:null);ve.setExtraStackFrame(i)}else ve.setExtraStackFrame(null)}var z;z=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function he(){{if(V.current){var e=p(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),i=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+i+\".\"}return\"\"}}var pe={};function tn(e){{var r=he();if(!r){var i=typeof e==\"string\"?e:e.displayName||e.name;i&&(r=`\n\nCheck the top-level render call using <`+i+\">.\")}return r}}function _e(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var i=tn(r);if(pe[i])return;pe[i]=!0;var o=\"\";e&&e._owner&&e._owner!==V.current&&(o=\" It was passed a child from \"+p(e._owner.type)+\".\"),w(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,o),w(null)}}function ge(e,r){{if(typeof e!=\"object\")return;if($(e))for(var i=0;i<e.length;i++){var o=e[i];B(o)&&_e(o,r)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var a=Ce(e);if(typeof a==\"function\"&&a!==e.entries)for(var u=a.call(e),d;!(d=u.next()).done;)B(d.value)&&_e(d.value,r)}}}function on(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var i;if(typeof r==\"function\")i=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===R||r.$$typeof===T))i=r.propTypes;else return;if(i){var o=p(r);ze(i,e.props,\"prop\",o,e)}else if(r.PropTypes!==void 0&&!z){z=!0;var a=p(r);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",a||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function ln(e){{for(var r=Object.keys(e.props),i=0;i<r.length;i++){var o=r[i];if(o!==\"children\"&&o!==\"key\"){w(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),w(null);break}}e.ref!==null&&(w(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function dn(e,r,i,o,a,u){{var d=Ae(e);if(!d){var l=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(l+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var v=rn(a);v?l+=v:l+=he();var f;e===null?f=\"null\":$(e)?f=\"array\":e!==void 0&&e.$$typeof===n?(f=\"<\"+(p(e.type)||\"Unknown\")+\" />\",l=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,l)}var c=nn(e,r,i,a,u);if(c==null)return c;if(d){var h=r.children;if(h!==void 0)if(o)if($(h)){for(var D=0;D<h.length;D++)ge(h[D],e);Object.freeze&&Object.freeze(h)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(h,e)}return e===x?ln(c):on(c),c}}var an=dn;q.Fragment=x,q.jsxDEV=an})()});var Ue=G((En,Ee)=>{\"use strict\";Ee.exports=De()});var Nn={};bn(Nn,{default:()=>gn,frontmatter:()=>pn});var t=vn(Ue()),pn={title:\"Using The New <next/image> Component\",summary:\"Next.js 12.2 includes a totally revised component for image optimization. Let\\u2019s see what has changed.\",category:\"Engineering\",cover:{src:\"/images/posts/using-the-new-next-12-image-component/robert-shunev-mS1nlYbq1kA-unsplash.jpg\",alt:\"Camera\",caption:'Photo by <a href=\"https://unsplash.com/@rshunev\" target=\"_blank\" rel=\"noopener noreferrer\">Robert Shunev</a> on Unsplash'},tags:[\"Next.js\",\"Image Optimization\"],publishedAt:\"2022/08/07\",externals:{Medium:\"https://javascript.plainenglish.io/how-to-use-the-new-next-image-component-1f35379ee1\"}};function Re(s){let n=Object.assign({p:\"p\",code:\"code\",a:\"a\",h2:\"h2\",span:\"span\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",strong:\"strong\",h3:\"h3\",pre:\"pre\"},s.components),{Callout:m}=n;return m||xn(\"Callout\",!0,\"15:1-19:11\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(m,{children:(0,t.jsxDEV)(n.p,{children:[\"Right now, the newer \",(0,t.jsxDEV)(n.code,{children:\"next/image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:16,columnNumber:24},this),` component is still under development and\nonly available using `,(0,t.jsxDEV)(n.a,{href:\"https://nextjs.org/docs/api-reference/next/future/image\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:`the experimental\nflag`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:17,columnNumber:24},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:16,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With Next.js 10 and the then introduced \",(0,t.jsxDEV)(n.code,{children:\"next/image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:21,columnNumber:41},this),\" component, serving images became a lot easier. Image compression, modern image formats, lazy loading - everything just by swapping out the browser default \",(0,t.jsxDEV)(n.code,{children:\"<img />\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:21,columnNumber:209},this),\" tag.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Though, it was not that simple after all. While the user experience improved a lot, the developer experience was not as simple as hoped. Properties that didn\\u2019t behave as expected, images that were wrapped several times like a good old present on Christmas.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Luckily, the feedback had been heard and Next.js introduced a revised, experimental version for the next/image component in Next.js 12.2.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s look at the major changes.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"changes-for-nextimage-in-nextjs-122\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#changes-for-nextimage-in-nextjs-122\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this),\"Changes for \",(0,t.jsxDEV)(n.code,{children:\"next/image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:29,columnNumber:16},this),\" in Next.js 12.2\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This table shows the biggest changes that have been introduced in Next.js 12.2 and how it compares to the old image component.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.table,{children:[(0,t.jsxDEV)(n.thead,{children:(0,t.jsxDEV)(n.tr,{children:[(0,t.jsxDEV)(n.th,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:1},this),(0,t.jsxDEV)(n.th,{children:\"Next.js 10\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:19},this),(0,t.jsxDEV)(n.th,{children:\"Next.js 12.2\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:76},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:1},this),(0,t.jsxDEV)(n.tbody,{children:[(0,t.jsxDEV)(n.tr,{children:[(0,t.jsxDEV)(n.td,{children:(0,t.jsxDEV)(n.strong,{children:\"HTML Output\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:1},this),(0,t.jsxDEV)(n.td,{children:[\"Renders \",(0,t.jsxDEV)(n.code,{children:\"<img />\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:29},this),\" with span and div wrapper\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:19},this),(0,t.jsxDEV)(n.td,{children:[\"Renders \",(0,t.jsxDEV)(n.code,{children:\"<img />\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:86},this),\" without any wrappers\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:76},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:1},this),(0,t.jsxDEV)(n.tr,{children:[(0,t.jsxDEV)(n.td,{children:(0,t.jsxDEV)(n.strong,{children:\"Sizing\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:36,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:36,columnNumber:1},this),(0,t.jsxDEV)(n.td,{children:\"Width/height represent rendered or original image size\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:36,columnNumber:19},this),(0,t.jsxDEV)(n.td,{children:\"Width/height always represent the rendered image size\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:36,columnNumber:76},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:36,columnNumber:1},this),(0,t.jsxDEV)(n.tr,{children:[(0,t.jsxDEV)(n.td,{children:(0,t.jsxDEV)(n.strong,{children:\"Styling\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:1},this),(0,t.jsxDEV)(n.td,{children:[\"Using \",(0,t.jsxDEV)(n.code,{children:\"layout\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:27},this),\" and CSS properties\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:19},this),(0,t.jsxDEV)(n.td,{children:\"Using CSS properties\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:76},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:37,columnNumber:1},this),(0,t.jsxDEV)(n.tr,{children:[(0,t.jsxDEV)(n.td,{children:(0,t.jsxDEV)(n.strong,{children:\"Fill Mode\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:1},this),(0,t.jsxDEV)(n.td,{children:[\"Set \",(0,t.jsxDEV)(n.code,{children:\"layout=fill\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:25},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:19},this),(0,t.jsxDEV)(n.td,{children:[\"Setting \",(0,t.jsxDEV)(n.code,{children:\"fill=true\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:86},this),\" and set styles on parent container\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:76},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:38,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:35,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s see how this would look like in an example. The API for using the image component hasn\\u2019t changed much but there are still some tweaks that are useful to know.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"how-to-use-nextimage-with-fixed-image-size\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-to-use-nextimage-with-fixed-image-size\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this),\"How to use \",(0,t.jsxDEV)(n.code,{children:\"next/image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:42,columnNumber:16},this),\" with fixed image size\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you want to preserve the aspect ratio of the image, you can use the fixed layout. Depending on whether you are importing your image locally or not, you can simply set a width and height image of the rendered image, that's it!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx\",children:`<Image\n  src={image.srcUrl}\n  alt=\"Image\"\n  width={600} // If you import the image locally, you can omit this\n  height={600} // If you import the image locally, you can omit this\n/>\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:46,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Additionally, you could set properties like \",(0,t.jsxDEV)(n.code,{children:\"style\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:55,columnNumber:45},this),\" or \",(0,t.jsxDEV)(n.code,{children:\"className\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:55,columnNumber:56},this),\" to style the image.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Almost not worth explaining, right? I\\u2019m glad it is that simple! Coming from an approach that differed immensely from the browser built-in \",(0,t.jsxDEV)(n.code,{children:\"<img />\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:57,columnNumber:139},this),\" behavior, this \\u201Cnew\\u201D approach doesn\\u2019t let us think much about how to use it properly.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"how-to-use-nextimage-with-fill-mode\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-to-use-nextimage-with-fill-mode\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this),\"How to use \",(0,t.jsxDEV)(n.code,{children:\"next/image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:59,columnNumber:16},this),\" with fill mode\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"But what if you just want to let the image fill its parent container? For those cases, you can use the \",(0,t.jsxDEV)(n.code,{children:\"fill\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:61,columnNumber:104},this),\" property. Set it to \",(0,t.jsxDEV)(n.code,{children:\"true\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:61,columnNumber:131},this),\", make sure the parent container has all the needed styling, and you are good to go!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx\",children:`<div style={{ position: 'relative', overflow: 'hidden', height: '600px' }}>\n  <Image\n    src={image.srcUrl}\n    alt=\"Image\"\n    fill={true}\n    style={{ objectFit: 'cover' }}\n  />\n</div>\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:63,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:63,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As you see, this is fairly simple too! Of course, there are more advanced scenarios but these two should cover the most common use-cases.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:74,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"demo-project\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#demo-project\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this),\"Demo Project\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:76,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I created a tiny project to showcase how both approaches would look like in an actual app. You find the project on Github if you want to take a closer look.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,t.jsxDEV)(\"iframe\",{src:\"https://codesandbox.io/embed/next-12-image-component-demo-623m7n?autoresize=1&fontsize=14&hidenavigation=1&module=%2Fsrc%2Fpages%2Findex.tsx&theme=dark&view=preview\",style:{width:\"100%\",height:\"500px\",border:\"0\",borderRadius:\"4px\",overflow:\"hidden\",marginTop:\"2rem\",marginBottom:\"2rem\"},title:\"next-12-image-component-demo\",allow:\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\",sandbox:\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you want to dive deeper, make sure to check out the official Next.js documentation. They also cover what has changed technically under the hood - would definitely recommend it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:96,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.a,{href:\"https://nextjs.org/docs/api-reference/next/future/image\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"next/future/image (experimental) | Next.js\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:98,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:98,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\",lineNumber:1,columnNumber:1},this)}function _n(s={}){let{wrapper:n}=s.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},s,{children:(0,t.jsxDEV)(Re,s,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx\"},this):Re(s)}var gn=_n;function xn(s,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-45b170f4-e3ae-4dbd-8bd2-31ce18ff507a.mdx`\":\"\"))}return hn(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/002-using-the-new-next-12-image-component.mdx",
    "_raw": {
      "sourceFilePath": "posts/002-using-the-new-next-12-image-component.mdx",
      "sourceFileName": "002-using-the-new-next-12-image-component.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/002-using-the-new-next-12-image-component"
    },
    "type": "Post",
    "slug": "using-the-new-next-12-image-component"
  },
  {
    "title": "Generating Stitches Variants For Each Color Of Your Theme",
    "publishedAt": "2022-08-22T21:00:00.000Z",
    "summary": "Stiches.dev lets you write performant CSS-in-JS. Let’s see how we can speed up creating variants with your color palette!",
    "cover": {
      "src": "/images/posts/generating-stitches-variants-for-theme-colors/stitches-color-palette-variants-banner.png",
      "alt": "Stitches color palette variants banner",
      "caption": {
        "raw": "Applying our trick, we can generate color variants easily for all colors in our palette.",
        "html": "<p>Applying our trick, we can generate color variants easily for all colors in our palette.</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/generating-stitches-variants-for-each-color-of-your-theme-35ceb697accf",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "Stitches.dev",
      "React",
      "CSS-in-JS"
    ],
    "body": {
      "raw": "\nI recently came across [Stitches.dev](http://Stitches.dev) when I rebuilt my portfolio. Using a CSS-in-JS library with almost zero interpolations at runtime and a very well designed API seemed appealing - so I tried it!\n\n#### What are Variants in Stitches?\n\nA feature Stitches offers are variants. This is one of its key differences compared to [Styled Components](https://styled-components.com/), which was one of the first and still most popular CSS-in-JS tools. Whereas Styled Components used string interpolation to conditionally set styles, Stitches lets you predefine variants to avoid unnecessary interpolation. This significantly enhances performance.\n\nA simple example can be found in this [Stitches docs](https://stitches.dev/docs/variants):\n\n```tsx:Button.tsx\nconst Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: {\n      violet: { backgroundColor: 'blueviolet' },\n      gray: { backgroundColor: 'gainsboro' },\n    },\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n```\n\n### Using Your Theme's Color Palette To Create Variants\n\nWhen I built my portfolio, I wanted to have such a variant-based button component too. But I wanted it to be highly customizable - instead of having two defined color variants, it should accept any color that I defined in my theme’s color palette.\n\n#### The Manual Way\n\nThe easiest (and probably fastest 😄) way would have been to manually create a variant for each color I used in my theme. So something like this:\n\n```tsx:Button.tsx\nconst Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: {\n      background: { backgroundColor: '$background' },\n      surface50: { backgroundColor: '$surface50' },\n      surface100: { backgroundColor: '$surface100' },\n      surface250: { backgroundColor: '$surface250' },\n      surface500: { backgroundColor: '$surface500' },\n      secondary50: { backgroundColor: '$secondary50' },\n      secondary100: { backgroundColor: '$secondary100' },\n      secondary250: { backgroundColor: '$secondary250' },\n      secondary500: { backgroundColor: '$secondary500' },\n\t  ...\n    },\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n```\n\nThis would have been perfectly fine but I was eager to automate this process so that I could reuse the same functionality in other components too.\n\n#### The Automated Way\n\nSince Stitches uses an object syntax to write CSS, we can write a function that generates an object that contains all the CSS for the needed variants.\n\nIn the end, we end up with this little piece of Stitches CSS:\n\n```tsx:Button.tsx\nconst Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: generateColorPaletteVariants({ backgroundColor: '$––color––' }),\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n```\n\nLet’s look into `generateColorPaletteVariants` to see what it does internally. Admittedly, it is a bit hacky… but hey, it works!\n\n```tsx:generateColorPaletteVariants.ts\nimport * as Stitches from '@stitches/react';\n\nimport { theme } from '@config/stitches.config';\n\nconst COLOR_PATTERN = '$––color––';\nconst REGEX = /\\\"([^\\\"]*?\\$––color––[^\\\"]*?)\\\"/;\n\nexport const generateColorPaletteVariants = (css: Stitches.CSS) => {\n  const cssString = JSON.stringify(css);\n\n  return Object.values(theme.colors).reduce((prev, color) => {\n    const substringToReplace = REGEX.exec(cssString);\n    if (!substringToReplace?.length) throw Error('No Color Token provided.');\n\n    const replacedSubstring = substringToReplace[0].replace(\n      COLOR_PATTERN,\n      `$${color.token}`\n    );\n\n    const replacedString = cssString.replace(\n      substringToReplace[0],\n      replacedSubstring\n    );\n\n    return { ...prev, [color.token]: JSON.parse(replacedString) };\n  }, {}) as Record<keyof typeof theme.colors, Stitches.CSS>;\n};\n```\n\nIn essence, we just stringify our Stitches CSS object, do some magic replacing via regex, and return the parsed string that contains the modified styles.\n\nThe `css` parameter of the function represents the styles of each variant item. In the previous example, we used `{ backgroundColor: '$––color––' }` but it could be more complex too, of course.\n\nBy using a specific color pattern (`$––color––`), we can automatically insert theme colors in the styling of the variant. So, when looping through the theme colors object, `{ backgroundColor: '$––color––' }` becomes `{ backgroundColor: '$surface50' }` in the first iteration.\n\nThus, we have a button that accepts each theme color for the color prop - without manually adding all necessary variants.\n\nI hope this helps you in speeding up your development process using Stitches. If you have a better approach for doing this, let me know!\n\nAlso, I highly recommend checking out the library if you look for a fresh and performant way of writing your CSS-in-JS styles.\n",
      "code": "var Component=(()=>{var dn=Object.create;var j=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var un=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,bn=Object.prototype.hasOwnProperty;var J=(c,t)=>()=>(t||c((t={exports:{}}).exports,t),t.exports),mn=(c,t)=>{for(var h in t)j(c,h,{get:t[h],enumerable:!0})},xe=(c,t,h,y)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let g of un(t))!bn.call(c,g)&&g!==h&&j(c,g,{get:()=>t[g],enumerable:!(y=cn(t,g))||y.enumerable});return c};var vn=(c,t,h)=>(h=c!=null?dn(fn(c)):{},xe(t||!c||!c.__esModule?j(h,\"default\",{value:c,enumerable:!0}):h,c)),hn=c=>xe(j({},\"__esModule\",{value:!0}),c);var Ee=J((Nn,Ne)=>{Ne.exports=React});var Se=J(z=>{\"use strict\";(function(){\"use strict\";var c=Ee(),t=Symbol.for(\"react.element\"),h=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),X=Symbol.for(\"react.profiler\"),q=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),R=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),$=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),H=Symbol.iterator,De=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var n=H&&e[H]||e[De];return typeof n==\"function\"?n:null}var N=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Oe(\"error\",e,r)}}function Oe(e,n,r){{var a=N.ReactDebugCurrentFrame,s=a.getStackAddendum();s!==\"\"&&(n+=\"%s\",r=r.concat([s]));var d=r.map(function(l){return String(l)});d.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,d)}}var Pe=!1,Ue=!1,je=!1,Ie=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function $e(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===y||e===X||Ae||e===g||e===I||e===A||Ie||e===Te||Pe||Ue||je||typeof e==\"object\"&&e!==null&&(e.$$typeof===$||e.$$typeof===T||e.$$typeof===q||e.$$typeof===K||e.$$typeof===R||e.$$typeof===Z||e.getModuleId!==void 0))}function Fe(e,n,r){var a=e.displayName;if(a)return a;var s=n.displayName||n.name||\"\";return s!==\"\"?r+\"(\"+s+\")\":r}function Q(e){return e.displayName||\"Context\"}function p(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case y:return\"Fragment\";case h:return\"Portal\";case X:return\"Profiler\";case g:return\"StrictMode\";case I:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var n=e;return Q(n)+\".Consumer\";case q:var r=e;return Q(r._context)+\".Provider\";case R:return Fe(e,e.render,\"ForwardRef\");case T:var a=e.displayName||null;return a!==null?a:p(e.type)||\"Memo\";case $:{var s=e,d=s._payload,l=s._init;try{return p(l(d))}catch{return null}}}return null}var x=Object.assign,w=0,ee,ne,re,te,oe,ae,ie;function le(){}le.__reactDisabledLog=!0;function Ve(){{if(w===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,oe=console.group,ae=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}w++}}function We(){{if(w--,w===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:ne}),warn:x({},e,{value:re}),error:x({},e,{value:te}),group:x({},e,{value:oe}),groupCollapsed:x({},e,{value:ae}),groupEnd:x({},e,{value:ie})})}w<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var F=N.ReactCurrentDispatcher,V;function D(e,n,r){{if(V===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\\n( *(at )?)/);V=a&&a[1]||\"\"}return`\n`+V+e}}var W=!1,k;{var Be=typeof WeakMap==\"function\"?WeakMap:Map;k=new Be}function se(e,n){if(!e||W)return\"\";{var r=k.get(e);if(r!==void 0)return r}var a;W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=F.current,F.current=null,Ve();try{if(n){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_){a=_}Reflect.construct(e,[],l)}else{try{l.call()}catch(_){a=_}e.call(l.prototype)}}else{try{throw Error()}catch(_){a=_}e()}}catch(_){if(_&&a&&typeof _.stack==\"string\"){for(var i=_.stack.split(`\n`),m=a.stack.split(`\n`),u=i.length-1,f=m.length-1;u>=1&&f>=0&&i[u]!==m[f];)f--;for(;u>=1&&f>=0;u--,f--)if(i[u]!==m[f]){if(u!==1||f!==1)do if(u--,f--,f<0||i[u]!==m[f]){var v=`\n`+i[u].replace(\" at new \",\" at \");return e.displayName&&v.includes(\"<anonymous>\")&&(v=v.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&k.set(e,v),v}while(u>=1&&f>=0);break}}}finally{W=!1,F.current=d,We(),Error.prepareStackTrace=s}var S=e?e.displayName||e.name:\"\",ye=S?D(S):\"\";return typeof e==\"function\"&&k.set(e,ye),ye}function Ye(e,n,r){return se(e,!1)}function Me(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function O(e,n,r){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Me(e));if(typeof e==\"string\")return D(e);switch(e){case I:return D(\"Suspense\");case A:return D(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case R:return Ye(e.render);case T:return O(e.type,n,r);case $:{var a=e,s=a._payload,d=a._init;try{return O(d(s),n,r)}catch{}}}return\"\"}var P=Object.prototype.hasOwnProperty,de={},ce=N.ReactDebugCurrentFrame;function U(e){if(e){var n=e._owner,r=O(e.type,e._source,n?n.type:null);ce.setExtraStackFrame(r)}else ce.setExtraStackFrame(null)}function Le(e,n,r,a,s){{var d=Function.call.bind(P);for(var l in e)if(d(e,l)){var i=void 0;try{if(typeof e[l]!=\"function\"){var m=Error((a||\"React class\")+\": \"+r+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw m.name=\"Invariant Violation\",m}i=e[l](n,l,a,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){i=u}i&&!(i instanceof Error)&&(U(s),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",a||\"React class\",r,l,typeof i),U(null)),i instanceof Error&&!(i.message in de)&&(de[i.message]=!0,U(s),b(\"Failed %s type: %s\",r,i.message),U(null))}}}var Ge=Array.isArray;function B(e){return Ge(e)}function Je(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,r=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function ze(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function fe(e){if(ze(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Je(e)),ue(e)}var C=N.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0},be,me,Y;Y={};function qe(e){if(P.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(P.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function He(e,n){if(typeof e.ref==\"string\"&&C.current&&n&&C.current.stateNode!==n){var r=p(C.current.type);Y[r]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',p(C.current.type),e.ref),Y[r]=!0)}}function Ze(e,n){{var r=function(){be||(be=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function Qe(e,n){{var r=function(){me||(me=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var en=function(e,n,r,a,s,d,l){var i={$$typeof:t,type:e,key:n,ref:r,props:l,_owner:d};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,n,r,a,s){{var d,l={},i=null,m=null;r!==void 0&&(fe(r),i=\"\"+r),Ke(n)&&(fe(n.key),i=\"\"+n.key),qe(n)&&(m=n.ref,He(n,s));for(d in n)P.call(n,d)&&!Xe.hasOwnProperty(d)&&(l[d]=n[d]);if(e&&e.defaultProps){var u=e.defaultProps;for(d in u)l[d]===void 0&&(l[d]=u[d])}if(i||m){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(l,f),m&&Qe(l,f)}return en(e,i,m,s,a,C.current,l)}}var M=N.ReactCurrentOwner,ve=N.ReactDebugCurrentFrame;function E(e){if(e){var n=e._owner,r=O(e.type,e._source,n?n.type:null);ve.setExtraStackFrame(r)}else ve.setExtraStackFrame(null)}var L;L=!1;function G(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function he(){{if(M.current){var e=p(M.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+r+\".\"}return\"\"}}var pe={};function tn(e){{var n=he();if(!n){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(n=`\n\nCheck the top-level render call using <`+r+\">.\")}return n}}function _e(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=tn(n);if(pe[r])return;pe[r]=!0;var a=\"\";e&&e._owner&&e._owner!==M.current&&(a=\" It was passed a child from \"+p(e._owner.type)+\".\"),E(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,a),E(null)}}function ge(e,n){{if(typeof e!=\"object\")return;if(B(e))for(var r=0;r<e.length;r++){var a=e[r];G(a)&&_e(a,n)}else if(G(e))e._store&&(e._store.validated=!0);else if(e){var s=ke(e);if(typeof s==\"function\"&&s!==e.entries)for(var d=s.call(e),l;!(l=d.next()).done;)G(l.value)&&_e(l.value,n)}}}function on(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var r;if(typeof n==\"function\")r=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===R||n.$$typeof===T))r=n.propTypes;else return;if(r){var a=p(n);Le(r,e.props,\"prop\",a,e)}else if(n.PropTypes!==void 0&&!L){L=!0;var s=p(n);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var n=Object.keys(e.props),r=0;r<n.length;r++){var a=n[r];if(a!==\"children\"&&a!==\"key\"){E(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",a),E(null);break}}e.ref!==null&&(E(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),E(null))}}function ln(e,n,r,a,s,d){{var l=$e(e);if(!l){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var m=rn(s);m?i+=m:i+=he();var u;e===null?u=\"null\":B(e)?u=\"array\":e!==void 0&&e.$$typeof===t?(u=\"<\"+(p(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,i)}var f=nn(e,n,r,s,d);if(f==null)return f;if(l){var v=n.children;if(v!==void 0)if(a)if(B(v)){for(var S=0;S<v.length;S++)ge(v[S],e);Object.freeze&&Object.freeze(v)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(v,e)}return e===y?an(f):on(f),f}}var sn=ln;z.Fragment=y,z.jsxDEV=sn})()});var Ce=J((Sn,we)=>{\"use strict\";we.exports=Se()});var yn={};mn(yn,{default:()=>gn,frontmatter:()=>pn});var o=vn(Ce()),pn={title:\"Generating Stitches Variants For Each Color Of Your Theme\",summary:\"Stiches.dev lets you write performant CSS-in-JS. Let\\u2019s see how we can speed up creating variants with your color palette!\",category:\"Engineering\",cover:{src:\"/images/posts/generating-stitches-variants-for-theme-colors/stitches-color-palette-variants-banner.png\",alt:\"Stitches color palette variants banner\",caption:\"Applying our trick, we can generate color variants easily for all colors in our palette.\"},tags:[\"Stitches.dev\",\"React\",\"CSS-in-JS\"],publishedAt:\"2022/08/23\",externals:{Medium:\"https://konstantinmuenster.medium.com/generating-stitches-variants-for-each-color-of-your-theme-35ceb697accf\"}};function Re(c){let t=Object.assign({p:\"p\",a:\"a\",h4:\"h4\",span:\"span\",pre:\"pre\",code:\"code\",h3:\"h3\"},c.components);return(0,o.jsxDEV)(o.Fragment,{children:[(0,o.jsxDEV)(t.p,{children:[\"I recently came across \",(0,o.jsxDEV)(t.a,{href:\"http://Stitches.dev\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Stitches.dev\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:15,columnNumber:24},this),\" when I rebuilt my portfolio. Using a CSS-in-JS library with almost zero interpolations at runtime and a very well designed API seemed appealing - so I tried it!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h4,{id:\"what-are-variants-in-stitches\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-are-variants-in-stitches\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this),\"What are Variants in Stitches?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"A feature Stitches offers are variants. This is one of its key differences compared to \",(0,o.jsxDEV)(t.a,{href:\"https://styled-components.com/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Styled Components\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:19,columnNumber:88},this),\", which was one of the first and still most popular CSS-in-JS tools. Whereas Styled Components used string interpolation to conditionally set styles, Stitches lets you predefine variants to avoid unnecessary interpolation. This significantly enhances performance.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"A simple example can be found in this \",(0,o.jsxDEV)(t.a,{href:\"https://stitches.dev/docs/variants\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Stitches docs\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:21,columnNumber:39},this),\":\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.pre,{children:(0,o.jsxDEV)(t.code,{className:\"language-tsx:Button.tsx\",children:`const Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: {\n      violet: { backgroundColor: 'blueviolet' },\n      gray: { backgroundColor: 'gainsboro' },\n    },\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:23,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h3,{id:\"using-your-themes-color-palette-to-create-variants\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#using-your-themes-color-palette-to-create-variants\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this),\"Using Your Theme's Color Palette To Create Variants\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"When I built my portfolio, I wanted to have such a variant-based button component too. But I wanted it to be highly customizable - instead of having two defined color variants, it should accept any color that I defined in my theme\\u2019s color palette.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h4,{id:\"the-manual-way\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-manual-way\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this),\"The Manual Way\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"The easiest (and probably fastest \\u{1F604}) way would have been to manually create a variant for each color I used in my theme. So something like this:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.pre,{children:(0,o.jsxDEV)(t.code,{className:\"language-tsx:Button.tsx\",children:`const Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: {\n      background: { backgroundColor: '$background' },\n      surface50: { backgroundColor: '$surface50' },\n      surface100: { backgroundColor: '$surface100' },\n      surface250: { backgroundColor: '$surface250' },\n      surface500: { backgroundColor: '$surface500' },\n      secondary50: { backgroundColor: '$secondary50' },\n      secondary100: { backgroundColor: '$secondary100' },\n      secondary250: { backgroundColor: '$secondary250' },\n      secondary500: { backgroundColor: '$secondary500' },\n\t  ...\n    },\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:46,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"This would have been perfectly fine but I was eager to automate this process so that I could reuse the same functionality in other components too.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h4,{id:\"the-automated-way\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-automated-way\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this),\"The Automated Way\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Since Stitches uses an object syntax to write CSS, we can write a function that generates an object that contains all the CSS for the needed variants.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"In the end, we end up with this little piece of Stitches CSS:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.pre,{children:(0,o.jsxDEV)(t.code,{className:\"language-tsx:Button.tsx\",children:`const Button = styled('button', {\n  // base styles\n\n  variants: {\n    color: generateColorPaletteVariants({ backgroundColor: '$\\u2013\\u2013color\\u2013\\u2013' }),\n  },\n});\n\n() => <Button color=\"violet\">Button</Button>;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:77,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"Let\\u2019s look into \",(0,o.jsxDEV)(t.code,{children:\"generateColorPaletteVariants\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:89,columnNumber:17},this),\" to see what it does internally. Admittedly, it is a bit hacky\\u2026 but hey, it works!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.pre,{children:(0,o.jsxDEV)(t.code,{className:\"language-tsx:generateColorPaletteVariants.ts\",children:`import * as Stitches from '@stitches/react';\n\nimport { theme } from '@config/stitches.config';\n\nconst COLOR_PATTERN = '$\\u2013\\u2013color\\u2013\\u2013';\nconst REGEX = /\\\\\"([^\\\\\"]*?\\\\$\\u2013\\u2013color\\u2013\\u2013[^\\\\\"]*?)\\\\\"/;\n\nexport const generateColorPaletteVariants = (css: Stitches.CSS) => {\n  const cssString = JSON.stringify(css);\n\n  return Object.values(theme.colors).reduce((prev, color) => {\n    const substringToReplace = REGEX.exec(cssString);\n    if (!substringToReplace?.length) throw Error('No Color Token provided.');\n\n    const replacedSubstring = substringToReplace[0].replace(\n      COLOR_PATTERN,\n      \\`$\\${color.token}\\`\n    );\n\n    const replacedString = cssString.replace(\n      substringToReplace[0],\n      replacedSubstring\n    );\n\n    return { ...prev, [color.token]: JSON.parse(replacedString) };\n  }, {}) as Record<keyof typeof theme.colors, Stitches.CSS>;\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:91,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"In essence, we just stringify our Stitches CSS object, do some magic replacing via regex, and return the parsed string that contains the modified styles.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"The \",(0,o.jsxDEV)(t.code,{children:\"css\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:123,columnNumber:5},this),\" parameter of the function represents the styles of each variant item. In the previous example, we used \",(0,o.jsxDEV)(t.code,{children:\"{ backgroundColor: '$\\u2013\\u2013color\\u2013\\u2013' }\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:123,columnNumber:114},this),\" but it could be more complex too, of course.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"By using a specific color pattern (\",(0,o.jsxDEV)(t.code,{children:\"$\\u2013\\u2013color\\u2013\\u2013\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:125,columnNumber:36},this),\"), we can automatically insert theme colors in the styling of the variant. So, when looping through the theme colors object, \",(0,o.jsxDEV)(t.code,{children:\"{ backgroundColor: '$\\u2013\\u2013color\\u2013\\u2013' }\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:125,columnNumber:173},this),\" becomes \",(0,o.jsxDEV)(t.code,{children:\"{ backgroundColor: '$surface50' }\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:125,columnNumber:217},this),\" in the first iteration.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Thus, we have a button that accepts each theme color for the color prop - without manually adding all necessary variants.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"I hope this helps you in speeding up your development process using Stitches. If you have a better approach for doing this, let me know!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Also, I highly recommend checking out the library if you look for a fresh and performant way of writing your CSS-in-JS styles.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:131,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\",lineNumber:1,columnNumber:1},this)}function _n(c={}){let{wrapper:t}=c.components||{};return t?(0,o.jsxDEV)(t,Object.assign({},c,{children:(0,o.jsxDEV)(Re,c,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-cddb505d-82b9-4ba2-8813-4d3f8368acb2.mdx\"},this):Re(c)}var gn=_n;return hn(yn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/003-generating-stitches-variants-for-theme-colors.mdx",
    "_raw": {
      "sourceFilePath": "posts/003-generating-stitches-variants-for-theme-colors.mdx",
      "sourceFileName": "003-generating-stitches-variants-for-theme-colors.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/003-generating-stitches-variants-for-theme-colors"
    },
    "type": "Post",
    "slug": "generating-stitches-variants-for-theme-colors"
  },
  {
    "title": "ES Modules: All You Need To Know",
    "publishedAt": "2022-09-02T21:00:00.000Z",
    "summary": "ESM and CommonJS are Javascript's module systems. Let's understand how they compare and when to choose which system.",
    "cover": {
      "src": "/images/posts/es-modules-all-you-need-to-know/ej-li-fCyfgmnTj4o-unsplash.jpg",
      "alt": "Boxes",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@jiaweizhao\" target=\"_blank\" rel=\"noopener noreferrer\">Jiawei Zhao</a> on Unsplash",
        "html": "<p>Photo by Jiawei Zhao on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/es-modules-all-you-need-to-know-9e6412780ae5",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "ES Modules",
      "Modules",
      "CommonJS",
      "ESM",
      "CJS",
      "Javascript"
    ],
    "body": {
      "raw": "\nES Modules (or short: ESM) and CommonJS (or short: CJS) are the two module systems in Javascript that are actively being used. Module Systems allow us to share and reuse code easily. For example, we can write a module for image compression which can then be distributed via [npmjs.com](http://npmjs.com) and used by developers around the world.\n\n## What is CommonJS?\n\nCommonJS was introduced as the default module system for Node.js. Since this was way before ES Modules were released, most of the tooling and packages you find on [npmjs.com](http://npmjs.com) and [yarnpkg.com](http://yarnpkg.com) were initially written in CommonJS.\n\nIn Node, each file is treated as a separate module. You can import and export with the following CommonJS syntax:\n\n| Importing | `const fs = require(\"fs\");`                           |\n| --------- | ----------------------------------------------------- |\n| Exporting | `module.exports = function() { return “Hi there!”; }` |\n\nWhile Node.js has been using the CommonJS standard for years, the browser never had a module system, as every major decision such as a module system must be first standardized by ECMAScript and then implemented by the browser.\n\n## What are ES Modules?\n\nThis standardization process has been completed with ES6. It defines ES Modules as the ECMAScript standard for working with modules in the browser.\n\nThe syntax for importing and exporting is slightly different compared to CommonJS:\n\n| Importing | `import fs from “fs”`                               |\n| --------- | --------------------------------------------------- |\n| Exporting | `export default function() { return “Hi there!”; }` |\n\nFrontend frameworks like React or Vue have been using the ESM syntax even before it became a standard in the browser. Though they used tools like Babel to transpile it to CommonJS syntax. Hence, most frontend devs are more familiar with ESM than CJS.\n\n## Incompatibilities Between ES Modules and CommonJS\n\nEffectively, we now had two module systems that had a different syntax as well as some internal details that worked differently: ESM as the standard in browser-land, and CJS as the standard in node-land.\n\nThis was a problem though since most modules were initially written in CommonJS.\n\nWhile it is possible to import CJS modules in ESM (using `import * as CJS from 'cjs-module'`), the other way around doesn’t work. Hence, a lot of tools that worked with your code required you to still use CommonJS.\n\nBut there a few things that helped and still help to circumvent these issues:\n\n#### Adopting ES Modules in Node.js\n\nAfter ES Modules were released and declared as the _future of modules_ in Javascript, Node.js implement this newer approach too.\n\nNow you can decide whether you want to use ESM or CJS in your Node application. This works either by using the `.mjs` file extension for all ESM files or by declaring `type: “module”` in your package.json. The latter will tell Node that all of your files are written with the newer ES Modules syntax.\n\nWith that, a lot of packages that were incompatible with ESM before could add support for the ES Modules syntax. Nowadays, most packages are shipped in a hybrid way - supporting ESM and CJS.\n\n#### Using Module Bundlers like Rollup\n\nAnother way of working around incompatibilities is using tools like Rollup. Rollup is a module bundler, meaning it resolves the imports/exports in your code at build time, not at run time.\n\nThus, it is more flexible about what it allows and supports. You can use different syntaxes and just tell Rollup how the bundled output should look like. For example, you can write CJS syntax and tell Rollup to output you an ESM module.\n\n## Should I Use ESM or CJS?\n\nLong story short: Use ES Modules wherever you can. Especially if you build a new application and support modern browsers only, you should use it.\n\nIf you need to support old browsers or have dependencies that still require CommonJS syntax, you likely have no other choice than using CJS. But it is always worth checking if there are newer, ESM-compatible packages out there if it is a dependency that holds you in CJS-land (e.g. as Jest did not support ESM for a long time, Vitest appeared).\n\n---\n\nI hope this helps understanding how ES Modules work and how they compare to the CommonJS approach of working with modules. If you have questions, thoughts, or improvements to the article, let me know!\n",
      "code": "var Component=(()=>{var dn=Object.create;var P=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var q=(u,r)=>()=>(r||u((r={exports:{}}).exports,r),r.exports),vn=(u,r)=>{for(var p in r)P(u,p,{get:r[p],enumerable:!0})},Ne=(u,r,p,g)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let y of cn(r))!mn.call(u,y)&&y!==p&&P(u,y,{get:()=>r[y],enumerable:!(g=un(r,y))||g.enumerable});return u};var hn=(u,r,p)=>(p=u!=null?dn(fn(u)):{},Ne(r||!u||!u.__esModule?P(p,\"default\",{value:u,enumerable:!0}):p,u)),pn=u=>Ne(P({},\"__esModule\",{value:!0}),u);var we=q((xn,xe)=>{xe.exports=React});var Ee=q(z=>{\"use strict\";(function(){\"use strict\";var u=we(),r=Symbol.for(\"react.element\"),p=Symbol.for(\"react.portal\"),g=Symbol.for(\"react.fragment\"),y=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),G=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),C=Symbol.for(\"react.forward_ref\"),M=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),X=Symbol.iterator,Ue=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var n=X&&e[X]||e[Ue];return typeof n==\"function\"?n:null}var x=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(e){{for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];Te(\"error\",e,o)}}function Te(e,n,o){{var a=x.ReactDebugCurrentFrame,s=a.getStackAddendum();s!==\"\"&&(n+=\"%s\",o=o.concat([s]));var d=o.map(function(l){return String(l)});d.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,d)}}var je=!1,Oe=!1,Pe=!1,Me=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===g||e===H||Ae||e===y||e===M||e===A||Me||e===Re||je||Oe||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===R||e.$$typeof===G||e.$$typeof===K||e.$$typeof===C||e.$$typeof===Z||e.getModuleId!==void 0))}function Ie(e,n,o){var a=e.displayName;if(a)return a;var s=n.displayName||n.name||\"\";return s!==\"\"?o+\"(\"+s+\")\":o}function Q(e){return e.displayName||\"Context\"}function _(e){if(e==null)return null;if(typeof e.tag==\"number\"&&m(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case g:return\"Fragment\";case p:return\"Portal\";case H:return\"Profiler\";case y:return\"StrictMode\";case M:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var n=e;return Q(n)+\".Consumer\";case G:var o=e;return Q(o._context)+\".Provider\";case C:return Ie(e,e.render,\"ForwardRef\");case R:var a=e.displayName||null;return a!==null?a:_(e.type)||\"Memo\";case F:{var s=e,d=s._payload,l=s._init;try{return _(l(d))}catch{return null}}}return null}var N=Object.assign,S=0,ee,ne,re,te,oe,ae,ie;function le(){}le.__reactDisabledLog=!0;function Je(){{if(S===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,oe=console.group,ae=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}S++}}function We(){{if(S--,S===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:re}),error:N({},e,{value:te}),group:N({},e,{value:oe}),groupCollapsed:N({},e,{value:ae}),groupEnd:N({},e,{value:ie})})}S<0&&m(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var I=x.ReactCurrentDispatcher,J;function U(e,n,o){{if(J===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\\n( *(at )?)/);J=a&&a[1]||\"\"}return`\n`+J+e}}var W=!1,k;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;k=new Ye}function se(e,n){if(!e||W)return\"\";{var o=k.get(e);if(o!==void 0)return o}var a;W=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=I.current,I.current=null,Je();try{if(n){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(b){a=b}Reflect.construct(e,[],l)}else{try{l.call()}catch(b){a=b}e.call(l.prototype)}}else{try{throw Error()}catch(b){a=b}e()}}catch(b){if(b&&a&&typeof b.stack==\"string\"){for(var i=b.stack.split(`\n`),v=a.stack.split(`\n`),c=i.length-1,f=v.length-1;c>=1&&f>=0&&i[c]!==v[f];)f--;for(;c>=1&&f>=0;c--,f--)if(i[c]!==v[f]){if(c!==1||f!==1)do if(c--,f--,f<0||i[c]!==v[f]){var h=`\n`+i[c].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&k.set(e,h),h}while(c>=1&&f>=0);break}}}finally{W=!1,I.current=d,We(),Error.prepareStackTrace=s}var E=e?e.displayName||e.name:\"\",ge=E?U(E):\"\";return typeof e==\"function\"&&k.set(e,ge),ge}function $e(e,n,o){return se(e,!1)}function Ve(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function T(e,n,o){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Ve(e));if(typeof e==\"string\")return U(e);switch(e){case M:return U(\"Suspense\");case A:return U(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case C:return $e(e.render);case R:return T(e.type,n,o);case F:{var a=e,s=a._payload,d=a._init;try{return T(d(s),n,o)}catch{}}}return\"\"}var j=Object.prototype.hasOwnProperty,de={},ue=x.ReactDebugCurrentFrame;function O(e){if(e){var n=e._owner,o=T(e.type,e._source,n?n.type:null);ue.setExtraStackFrame(o)}else ue.setExtraStackFrame(null)}function Le(e,n,o,a,s){{var d=Function.call.bind(j);for(var l in e)if(d(e,l)){var i=void 0;try{if(typeof e[l]!=\"function\"){var v=Error((a||\"React class\")+\": \"+o+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw v.name=\"Invariant Violation\",v}i=e[l](n,l,a,o,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){i=c}i&&!(i instanceof Error)&&(O(s),m(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",a||\"React class\",o,l,typeof i),O(null)),i instanceof Error&&!(i.message in de)&&(de[i.message]=!0,O(s),m(\"Failed %s type: %s\",o,i.message),O(null))}}}var Be=Array.isArray;function Y(e){return Be(e)}function qe(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,o=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return o}}function ze(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(ze(e))return m(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),ce(e)}var D=x.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},me,ve,$;$={};function Ge(e){if(j.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(j.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function Xe(e,n){if(typeof e.ref==\"string\"&&D.current&&n&&D.current.stateNode!==n){var o=_(D.current.type);$[o]||(m('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',_(D.current.type),e.ref),$[o]=!0)}}function Ze(e,n){{var o=function(){me||(me=!0,m(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};o.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:o,configurable:!0})}}function Qe(e,n){{var o=function(){ve||(ve=!0,m(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};o.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:o,configurable:!0})}}var en=function(e,n,o,a,s,d,l){var i={$$typeof:r,type:e,key:n,ref:o,props:l,_owner:d};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nn(e,n,o,a,s){{var d,l={},i=null,v=null;o!==void 0&&(fe(o),i=\"\"+o),Ke(n)&&(fe(n.key),i=\"\"+n.key),Ge(n)&&(v=n.ref,Xe(n,s));for(d in n)j.call(n,d)&&!He.hasOwnProperty(d)&&(l[d]=n[d]);if(e&&e.defaultProps){var c=e.defaultProps;for(d in c)l[d]===void 0&&(l[d]=c[d])}if(i||v){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(l,f),v&&Qe(l,f)}return en(e,i,v,s,a,D.current,l)}}var V=x.ReactCurrentOwner,he=x.ReactDebugCurrentFrame;function w(e){if(e){var n=e._owner,o=T(e.type,e._source,n?n.type:null);he.setExtraStackFrame(o)}else he.setExtraStackFrame(null)}var L;L=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===r}function pe(){{if(V.current){var e=_(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),o=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+o+\".\"}return\"\"}}var _e={};function tn(e){{var n=pe();if(!n){var o=typeof e==\"string\"?e:e.displayName||e.name;o&&(n=`\n\nCheck the top-level render call using <`+o+\">.\")}return n}}function be(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var o=tn(n);if(_e[o])return;_e[o]=!0;var a=\"\";e&&e._owner&&e._owner!==V.current&&(a=\" It was passed a child from \"+_(e._owner.type)+\".\"),w(e),m('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',o,a),w(null)}}function ye(e,n){{if(typeof e!=\"object\")return;if(Y(e))for(var o=0;o<e.length;o++){var a=e[o];B(a)&&be(a,n)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var s=ke(e);if(typeof s==\"function\"&&s!==e.entries)for(var d=s.call(e),l;!(l=d.next()).done;)B(l.value)&&be(l.value,n)}}}function on(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var o;if(typeof n==\"function\")o=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===C||n.$$typeof===R))o=n.propTypes;else return;if(o){var a=_(n);Le(o,e.props,\"prop\",a,e)}else if(n.PropTypes!==void 0&&!L){L=!0;var s=_(n);m(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&m(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var n=Object.keys(e.props),o=0;o<n.length;o++){var a=n[o];if(a!==\"children\"&&a!==\"key\"){w(e),m(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",a),w(null);break}}e.ref!==null&&(w(e),m(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function ln(e,n,o,a,s,d){{var l=Fe(e);if(!l){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var v=rn(s);v?i+=v:i+=pe();var c;e===null?c=\"null\":Y(e)?c=\"array\":e!==void 0&&e.$$typeof===r?(c=\"<\"+(_(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,m(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,i)}var f=nn(e,n,o,s,d);if(f==null)return f;if(l){var h=n.children;if(h!==void 0)if(a)if(Y(h)){for(var E=0;E<h.length;E++)ye(h[E],e);Object.freeze&&Object.freeze(h)}else m(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(h,e)}return e===g?an(f):on(f),f}}var sn=ln;z.Fragment=g,z.jsxDEV=sn})()});var De=q((En,Se)=>{\"use strict\";Se.exports=Ee()});var gn={};vn(gn,{default:()=>yn,frontmatter:()=>_n});var t=hn(De()),_n={title:\"ES Modules: All You Need To Know\",summary:\"ESM and CommonJS are Javascript's module systems. Let's understand how they compare and when to choose which system.\",category:\"Engineering\",cover:{src:\"/images/posts/es-modules-all-you-need-to-know/ej-li-fCyfgmnTj4o-unsplash.jpg\",alt:\"Boxes\",caption:'Photo by <a href=\"https://unsplash.com/@jiaweizhao\" target=\"_blank\" rel=\"noopener noreferrer\">Jiawei Zhao</a> on Unsplash'},tags:[\"ES Modules\",\"Modules\",\"CommonJS\",\"ESM\",\"CJS\",\"Javascript\"],publishedAt:\"2022/09/03\",externals:{Medium:\"https://konstantinmuenster.medium.com/es-modules-all-you-need-to-know-9e6412780ae5\"}};function Ce(u){let r=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",code:\"code\",tbody:\"tbody\",td:\"td\",h4:\"h4\",em:\"em\",hr:\"hr\"},u.components);return(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(r.p,{children:[\"ES Modules (or short: ESM) and CommonJS (or short: CJS) are the two module systems in Javascript that are actively being used. Module Systems allow us to share and reuse code easily. For example, we can write a module for image compression which can then be distributed via \",(0,t.jsxDEV)(r.a,{href:\"http://npmjs.com\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"npmjs.com\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:15,columnNumber:275},this),\" and used by developers around the world.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"what-is-commonjs\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-is-commonjs\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"What is CommonJS?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"CommonJS was introduced as the default module system for Node.js. Since this was way before ES Modules were released, most of the tooling and packages you find on \",(0,t.jsxDEV)(r.a,{href:\"http://npmjs.com\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"npmjs.com\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:19,columnNumber:164},this),\" and \",(0,t.jsxDEV)(r.a,{href:\"http://yarnpkg.com\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"yarnpkg.com\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:19,columnNumber:198},this),\" were initially written in CommonJS.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"In Node, each file is treated as a separate module. You can import and export with the following CommonJS syntax:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.table,{children:[(0,t.jsxDEV)(r.thead,{children:(0,t.jsxDEV)(r.tr,{children:[(0,t.jsxDEV)(r.th,{children:\"Importing\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:1},this),(0,t.jsxDEV)(r.th,{children:(0,t.jsxDEV)(r.code,{children:'const fs = require(\"fs\");'},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:15},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:13},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:1},this),(0,t.jsxDEV)(r.tbody,{children:(0,t.jsxDEV)(r.tr,{children:[(0,t.jsxDEV)(r.td,{children:\"Exporting\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:25,columnNumber:1},this),(0,t.jsxDEV)(r.td,{children:(0,t.jsxDEV)(r.code,{children:\"module.exports = function() { return \\u201CHi there!\\u201D; }\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:25,columnNumber:15},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:25,columnNumber:13},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:25,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:25,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"While Node.js has been using the CommonJS standard for years, the browser never had a module system, as every major decision such as a module system must be first standardized by ECMAScript and then implemented by the browser.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"what-are-es-modules\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#what-are-es-modules\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"What are ES Modules?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"This standardization process has been completed with\\xA0ES6. It defines ES Modules as the ECMAScript standard for working with modules in the browser.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"The syntax for importing and exporting is slightly different compared to CommonJS:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.table,{children:[(0,t.jsxDEV)(r.thead,{children:(0,t.jsxDEV)(r.tr,{children:[(0,t.jsxDEV)(r.th,{children:\"Importing\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:1},this),(0,t.jsxDEV)(r.th,{children:(0,t.jsxDEV)(r.code,{children:\"import fs from \\u201Cfs\\u201D\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:15},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:13},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:1},this),(0,t.jsxDEV)(r.tbody,{children:(0,t.jsxDEV)(r.tr,{children:[(0,t.jsxDEV)(r.td,{children:\"Exporting\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:37,columnNumber:1},this),(0,t.jsxDEV)(r.td,{children:(0,t.jsxDEV)(r.code,{children:\"export default function() { return \\u201CHi there!\\u201D; }\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:37,columnNumber:15},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:37,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:37,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"Frontend frameworks like React or Vue have been using the ESM syntax even before it became a standard in the browser. Though they used tools like Babel to transpile it to CommonJS syntax. Hence, most frontend devs are more familiar with ESM than CJS.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"incompatibilities-between-es-modules-and-commonjs\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#incompatibilities-between-es-modules-and-commonjs\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"Incompatibilities Between ES Modules and CommonJS\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"Effectively, we now had two module systems that had a different syntax as well as some internal details that worked differently: ESM as the standard in browser-land, and CJS as the standard in node-land.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"This was a problem though since most modules were initially written in CommonJS.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"While it is possible to import CJS modules in ESM (using \",(0,t.jsxDEV)(r.code,{children:\"import * as CJS from 'cjs-module'\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:47,columnNumber:58},this),\"), the other way around doesn\\u2019t work. Hence, a lot of tools that worked with your code required you to still use CommonJS.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"But there a few things that helped and still help to circumvent these issues:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h4,{id:\"adopting-es-modules-in-nodejs\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adopting-es-modules-in-nodejs\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"Adopting ES Modules in Node.js\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"After ES Modules were released and declared as the \",(0,t.jsxDEV)(r.em,{children:\"future of modules\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:53,columnNumber:52},this),\" in Javascript, Node.js implement this newer approach too.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:[\"Now you can decide whether you want to use ESM or CJS in your Node application. This works either by using the \",(0,t.jsxDEV)(r.code,{children:\".mjs\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:55,columnNumber:112},this),\" file extension for all ESM files or by declaring \",(0,t.jsxDEV)(r.code,{children:\"type: \\u201Cmodule\\u201D\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:55,columnNumber:168},this),\" in your package.json. The latter will tell Node that all of your files are written with the newer ES Modules syntax.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"With that, a lot of packages that were incompatible with ESM before could add support for the ES Modules syntax. Nowadays, most packages are shipped in a hybrid way - supporting ESM and CJS.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h4,{id:\"using-module-bundlers-like-rollup\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#using-module-bundlers-like-rollup\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"Using Module Bundlers like Rollup\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"Another way of working around incompatibilities is using tools like Rollup. Rollup is a module bundler, meaning it resolves the imports/exports in your code at build time, not at run time.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"Thus, it is more flexible about what it allows and supports. You can use different syntaxes and just tell Rollup how the bundled output should look like. For example, you can write CJS syntax and tell Rollup to output you an ESM module.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:63,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.h2,{id:\"should-i-use-esm-or-cjs\",children:[(0,t.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#should-i-use-esm-or-cjs\",children:(0,t.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this),\"Should I Use ESM or CJS?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"Long story short: Use ES Modules wherever you can. Especially if you build a new application and support modern browsers only, you should use it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"If you need to support old browsers or have dependencies that still require CommonJS syntax, you likely have no other choice than using CJS. But it is always worth checking if there are newer, ESM-compatible packages out there if it is a dependency that holds you in CJS-land (e.g. as Jest did not support ESM for a long time, Vitest appeared).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,t.jsxDEV)(r.p,{children:\"I hope this helps understanding how ES Modules work and how they compare to the CommonJS approach of working with modules. If you have questions, thoughts, or improvements to the article, let me know!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:73,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\",lineNumber:1,columnNumber:1},this)}function bn(u={}){let{wrapper:r}=u.components||{};return r?(0,t.jsxDEV)(r,Object.assign({},u,{children:(0,t.jsxDEV)(Ce,u,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-03485777-9030-4d72-8ca2-3afa00c7a3f6.mdx\"},this):Ce(u)}var yn=bn;return pn(gn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/004-es-modules-all-you-need-to-know.mdx",
    "_raw": {
      "sourceFilePath": "posts/004-es-modules-all-you-need-to-know.mdx",
      "sourceFileName": "004-es-modules-all-you-need-to-know.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/004-es-modules-all-you-need-to-know"
    },
    "type": "Post",
    "slug": "es-modules-all-you-need-to-know"
  },
  {
    "title": "Should You Quit Your Job For Your Side-Project?",
    "publishedAt": "2022-09-23T21:00:00.000Z",
    "summary": "Going all-in on one’s beloved side-project? Sounds great! But how do you know it is the right project and time to do so? Let’s take a look at a simple concept.",
    "cover": {
      "src": "/images/posts/quitting-job-for-side-project/andrew-neel-fqoYO9MjLLQ-unsplash.jpg",
      "alt": "Man with luggage",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@andrewtneel\" target=\"_blank\" rel=\"noopener noreferrer\">Andrew Neel</a> on Unsplash",
        "html": "<p>Photo by Andrew Neel on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/should-you-quit-your-job-for-your-side-project-ed77985431c",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Careers",
    "tags": [
      "career",
      "side project",
      "money",
      "productivity",
      "job",
      "side hustle"
    ],
    "body": {
      "raw": "\nSide projects are increasingly popular. Partly because it has become easier than ever to create and distribute. And partly because the chances of succeeding in times of virality seem just one Tiktok video away.\n\nThis is also why I sometimes see the popularity of “side hustles” with caution. It seems as every minute of the day must be economically optimized. Pursuing a hobby without the intention of turning it into a startup becomes increasingly embarrassing.\n\nThat said, I am too guilty of quitting my job to become a freelance developer. But it was more about changing professions instead of building yet another income stream.\n\nIf you intend to do the same but don’t know if and when you should do it, this simple framework will help you.\n\n## Don’t Ask Your Friends For Advice\n\nI only discovered this concept recently on Cal Newport’s podcast, yet I realized I did exactly the same when I switched careers.\n\nThe core premise is that we should use money rather our friend’s advice as an indicator of value.\n\nIf we face important decisions like “should I quit my job to become a full-time XYZ\", we most always ask the people around us for advice. Though this advice can be misleading.\n\nUsually, people don’t want to discourage you. Nobody likes to destroy other peoples’ dreams. Thus, most people, even your closest friends, will tell you to just try it. Unless you have really risk-averse parent’s as I did back then. 😉\n\nSame with asking friends if they consider buying your product/service - of course they would - until they really have to make the first payment.\n\n## Money As An Indicator Of Value\n\nUltimately, it comes down to finding people who actually buy your goods or services.\n\nDon’t look for friends who tell you you have a great idea. Don’t look for people who seem willing to buy your product. Instead, find a few first customers who actually sent you money for it.\n\nIf you find a few first and both sides are happy with the results, chances are high that you find even more and can actually make a living from it.\n\nBefore I decided to do web development full-time, I already had a few clients on the side who proved me that people are interested in what I do.\n\nAdditionally, it makes the start of your side project adventure much more enjoyable as you don’t start from scratch.\n\n## The Very First Customer Trap\n\nOne caveat: if you look long enough, you will eventually find someone who buys into your idea. Avoiding treating your very first client or customer as a validation of your business idea.\n\nTry to ideally find a couple of first believers outside your circle of friends and family. The more you find, the more you know that you are onto something.\n\nIf you think it seems impossible to find first customers **before** you quit, be creative to find ways around your barriers.\n\nFor example, you could find first customers for your SaaS through a paid waitlist even before you have built the service. If you are a carpenter, build your first pieces and sell them on marketplaces like Etsy. Authors can try finding interested literary agents or publish smaller stories in online publications first.\n\n---\n\nIn summary, try to validate your idea by finding first customers who are happy with your work. Luckily, as easy as it is to become hyped about side projects, as easy it is to validate those through numerous creative ways. Just make sure you do not quit your job only to find out that friend’s evaluation of “a great idea” does not turn out to be true.\n\n<Callout>\n  A little disclaimer: I borrowed this simple concept from Cal Newport’s\n  podcast. If you want to hear more about, [check out this\n  episode](https://www.youtube.com/watch?v=GUbuCnRGR-s).\n</Callout>\n\nAlso, if you are generally interested in hearing more tips like this on this blog, let me know on Twitter!\n",
      "code": "var Component=(()=>{var lr=Object.create;var U=Object.defineProperty;var ur=Object.getOwnPropertyDescriptor;var dr=Object.getOwnPropertyNames;var cr=Object.getPrototypeOf,fr=Object.prototype.hasOwnProperty;var G=(u,t)=>()=>(t||u((t={exports:{}}).exports,t),t.exports),mr=(u,t)=>{for(var m in t)U(u,m,{get:t[m],enumerable:!0})},xe=(u,t,m,g)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let _ of dr(t))!fr.call(u,_)&&_!==m&&U(u,_,{get:()=>t[_],enumerable:!(g=ur(t,_))||g.enumerable});return u};var vr=(u,t,m)=>(m=u!=null?lr(cr(u)):{},xe(t||!u||!u.__esModule?U(m,\"default\",{value:u,enumerable:!0}):m,u)),pr=u=>xe(U({},\"__esModule\",{value:!0}),u);var Ne=G((wr,we)=>{we.exports=React});var Ee=G(z=>{\"use strict\";(function(){\"use strict\";var u=Ne(),t=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),g=Symbol.for(\"react.fragment\"),_=Symbol.for(\"react.strict_mode\"),X=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),H=Symbol.for(\"react.context\"),T=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),k=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),ke=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,je=\"@@iterator\";function Ce(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[je];return typeof r==\"function\"?r:null}var w=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){{for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];Oe(\"error\",e,n)}}function Oe(e,r,n){{var a=w.ReactDebugCurrentFrame,l=a.getStackAddendum();l!==\"\"&&(r+=\"%s\",n=n.concat([l]));var d=n.map(function(s){return String(s)});d.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,d)}}var Se=!1,Pe=!1,Ue=!1,Ie=!1,Ae=!1,Q;Q=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===g||e===X||Ae||e===_||e===I||e===A||Ie||e===ke||Se||Pe||Ue||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===k||e.$$typeof===K||e.$$typeof===H||e.$$typeof===T||e.$$typeof===Q||e.getModuleId!==void 0))}function Ye(e,r,n){var a=e.displayName;if(a)return a;var l=r.displayName||r.name||\"\";return l!==\"\"?n+\"(\"+l+\")\":n}function Z(e){return e.displayName||\"Context\"}function b(e){if(e==null)return null;if(typeof e.tag==\"number\"&&v(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case g:return\"Fragment\";case m:return\"Portal\";case X:return\"Profiler\";case _:return\"StrictMode\";case I:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case H:var r=e;return Z(r)+\".Consumer\";case K:var n=e;return Z(n._context)+\".Provider\";case T:return Ye(e,e.render,\"ForwardRef\");case k:var a=e.displayName||null;return a!==null?a:b(e.type)||\"Memo\";case F:{var l=e,d=l._payload,s=l._init;try{return b(s(d))}catch{return null}}}return null}var x=Object.assign,R=0,ee,re,ne,te,ae,oe,ie;function se(){}se.__reactDisabledLog=!0;function Me(){{if(R===0){ee=console.log,re=console.info,ne=console.warn,te=console.error,ae=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}R++}}function $e(){{if(R--,R===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:re}),warn:x({},e,{value:ne}),error:x({},e,{value:te}),group:x({},e,{value:ae}),groupCollapsed:x({},e,{value:oe}),groupEnd:x({},e,{value:ie})})}R<0&&v(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var Y=w.ReactCurrentDispatcher,M;function j(e,r,n){{if(M===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\\n( *(at )?)/);M=a&&a[1]||\"\"}return`\n`+M+e}}var $=!1,C;{var Ve=typeof WeakMap==\"function\"?WeakMap:Map;C=new Ve}function le(e,r){if(!e||$)return\"\";{var n=C.get(e);if(n!==void 0)return n}var a;$=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=Y.current,Y.current=null,Me();try{if(r){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(y){a=y}Reflect.construct(e,[],s)}else{try{s.call()}catch(y){a=y}e.call(s.prototype)}}else{try{throw Error()}catch(y){a=y}e()}}catch(y){if(y&&a&&typeof y.stack==\"string\"){for(var i=y.stack.split(`\n`),p=a.stack.split(`\n`),c=i.length-1,f=p.length-1;c>=1&&f>=0&&i[c]!==p[f];)f--;for(;c>=1&&f>=0;c--,f--)if(i[c]!==p[f]){if(c!==1||f!==1)do if(c--,f--,f<0||i[c]!==p[f]){var h=`\n`+i[c].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&C.set(e,h),h}while(c>=1&&f>=0);break}}}finally{$=!1,Y.current=d,$e(),Error.prepareStackTrace=l}var E=e?e.displayName||e.name:\"\",ge=E?j(E):\"\";return typeof e==\"function\"&&C.set(e,ge),ge}function We(e,r,n){return le(e,!1)}function Le(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function O(e,r,n){if(e==null)return\"\";if(typeof e==\"function\")return le(e,Le(e));if(typeof e==\"string\")return j(e);switch(e){case I:return j(\"Suspense\");case A:return j(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case T:return We(e.render);case k:return O(e.type,r,n);case F:{var a=e,l=a._payload,d=a._init;try{return O(d(l),r,n)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,ue={},de=w.ReactDebugCurrentFrame;function P(e){if(e){var r=e._owner,n=O(e.type,e._source,r?r.type:null);de.setExtraStackFrame(n)}else de.setExtraStackFrame(null)}function qe(e,r,n,a,l){{var d=Function.call.bind(S);for(var s in e)if(d(e,s)){var i=void 0;try{if(typeof e[s]!=\"function\"){var p=Error((a||\"React class\")+\": \"+n+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}i=e[s](r,s,a,n,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){i=c}i&&!(i instanceof Error)&&(P(l),v(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",a||\"React class\",n,s,typeof i),P(null)),i instanceof Error&&!(i.message in ue)&&(ue[i.message]=!0,P(l),v(\"Failed %s type: %s\",n,i.message),P(null))}}}var Be=Array.isArray;function V(e){return Be(e)}function Ge(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,n=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return n}}function ze(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(ze(e))return v(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(e)),ce(e)}var D=w.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0},me,ve,W;W={};function Ke(e){if(S.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function He(e){if(S.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Je(e,r){if(typeof e.ref==\"string\"&&D.current&&r&&D.current.stateNode!==r){var n=b(D.current.type);W[n]||(v('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',b(D.current.type),e.ref),W[n]=!0)}}function Qe(e,r){{var n=function(){me||(me=!0,v(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};n.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:n,configurable:!0})}}function Ze(e,r){{var n=function(){ve||(ve=!0,v(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};n.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:n,configurable:!0})}}var er=function(e,r,n,a,l,d,s){var i={$$typeof:t,type:e,key:r,ref:n,props:s,_owner:d};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function rr(e,r,n,a,l){{var d,s={},i=null,p=null;n!==void 0&&(fe(n),i=\"\"+n),He(r)&&(fe(r.key),i=\"\"+r.key),Ke(r)&&(p=r.ref,Je(r,l));for(d in r)S.call(r,d)&&!Xe.hasOwnProperty(d)&&(s[d]=r[d]);if(e&&e.defaultProps){var c=e.defaultProps;for(d in c)s[d]===void 0&&(s[d]=c[d])}if(i||p){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Qe(s,f),p&&Ze(s,f)}return er(e,i,p,l,a,D.current,s)}}var L=w.ReactCurrentOwner,pe=w.ReactDebugCurrentFrame;function N(e){if(e){var r=e._owner,n=O(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(n)}else pe.setExtraStackFrame(null)}var q;q=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function he(){{if(L.current){var e=b(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function nr(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),n=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+n+\".\"}return\"\"}}var be={};function tr(e){{var r=he();if(!r){var n=typeof e==\"string\"?e:e.displayName||e.name;n&&(r=`\n\nCheck the top-level render call using <`+n+\">.\")}return r}}function ye(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var n=tr(r);if(be[n])return;be[n]=!0;var a=\"\";e&&e._owner&&e._owner!==L.current&&(a=\" It was passed a child from \"+b(e._owner.type)+\".\"),N(e),v('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,a),N(null)}}function _e(e,r){{if(typeof e!=\"object\")return;if(V(e))for(var n=0;n<e.length;n++){var a=e[n];B(a)&&ye(a,r)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var l=Ce(e);if(typeof l==\"function\"&&l!==e.entries)for(var d=l.call(e),s;!(s=d.next()).done;)B(s.value)&&ye(s.value,r)}}}function ar(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var n;if(typeof r==\"function\")n=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===T||r.$$typeof===k))n=r.propTypes;else return;if(n){var a=b(r);qe(n,e.props,\"prop\",a,e)}else if(r.PropTypes!==void 0&&!q){q=!0;var l=b(r);v(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&v(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function or(e){{for(var r=Object.keys(e.props),n=0;n<r.length;n++){var a=r[n];if(a!==\"children\"&&a!==\"key\"){N(e),v(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",a),N(null);break}}e.ref!==null&&(N(e),v(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),N(null))}}function ir(e,r,n,a,l,d){{var s=Fe(e);if(!s){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=nr(l);p?i+=p:i+=he();var c;e===null?c=\"null\":V(e)?c=\"array\":e!==void 0&&e.$$typeof===t?(c=\"<\"+(b(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,v(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,i)}var f=rr(e,r,n,l,d);if(f==null)return f;if(s){var h=r.children;if(h!==void 0)if(a)if(V(h)){for(var E=0;E<h.length;E++)_e(h[E],e);Object.freeze&&Object.freeze(h)}else v(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else _e(h,e)}return e===g?or(f):ar(f),f}}var sr=ir;z.Fragment=g,z.jsxDEV=sr})()});var De=G((Er,Re)=>{\"use strict\";Re.exports=Ee()});var gr={};mr(gr,{default:()=>yr,frontmatter:()=>hr});var o=vr(De()),hr={title:\"Should You Quit Your Job For Your Side-Project?\",summary:\"Going all-in on one\\u2019s beloved side-project? Sounds great! But how do you know it is the right project and time to do so? Let\\u2019s take a look at a simple concept.\",category:\"Careers\",cover:{src:\"/images/posts/quitting-job-for-side-project/andrew-neel-fqoYO9MjLLQ-unsplash.jpg\",alt:\"Man with luggage\",caption:'Photo by <a href=\"https://unsplash.com/@andrewtneel\" target=\"_blank\" rel=\"noopener noreferrer\">Andrew Neel</a> on Unsplash'},tags:[\"career\",\"side project\",\"money\",\"productivity\",\"job\",\"side hustle\"],publishedAt:\"2022/09/24\",externals:{Medium:\"https://konstantinmuenster.medium.com/should-you-quit-your-job-for-your-side-project-ed77985431c\"}};function Te(u){let t=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",strong:\"strong\",hr:\"hr\"},u.components),{Callout:m}=t;return m||_r(\"Callout\",!0,\"61:1-65:11\"),(0,o.jsxDEV)(o.Fragment,{children:[(0,o.jsxDEV)(t.p,{children:\"Side projects are increasingly popular. Partly because it has become easier than ever to create and distribute. And partly because the chances of succeeding in times of virality seem just one Tiktok video away.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"This is also why I sometimes see the popularity of \\u201Cside hustles\\u201D with caution. It seems as every minute of the day must be economically optimized. Pursuing a hobby without the intention of turning it into a startup becomes increasingly embarrassing.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"That said, I am too guilty of quitting my job to become a freelance developer. But it was more about changing professions instead of building yet another income stream.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"If you intend to do the same but don\\u2019t know if and when you should do it, this simple framework will help you.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h2,{id:\"dont-ask-your-friends-for-advice\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#dont-ask-your-friends-for-advice\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this),\"Don\\u2019t Ask Your Friends For Advice\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"I only discovered this concept recently on Cal Newport\\u2019s podcast, yet I realized I did exactly the same when I switched careers.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"The core premise is that we should use money rather our friend\\u2019s advice as an indicator of value.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:'If we face important decisions like \\u201Cshould I quit my job to become a full-time XYZ\", we most always ask the people around us for advice. Though this advice can be misleading.'},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Usually, people don\\u2019t want to discourage you. Nobody likes to destroy other peoples\\u2019 dreams. Thus, most people, even your closest friends, will tell you to just try it. Unless you have really risk-averse parent\\u2019s as I did back then. \\u{1F609}\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Same with asking friends if they consider buying your product/service - of course they would - until they really have to make the first payment.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h2,{id:\"money-as-an-indicator-of-value\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#money-as-an-indicator-of-value\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this),\"Money As An Indicator Of Value\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Ultimately, it comes down to finding people who actually buy your goods or services.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Don\\u2019t look for friends who tell you you have a great idea. Don\\u2019t look for people who seem willing to buy your product. Instead, find a few first customers who actually sent you money for it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"If you find a few first and both sides are happy with the results, chances are high that you find even more and can actually make a living from it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Before I decided to do web development full-time, I already had a few clients on the side who proved me that people are interested in what I do.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Additionally, it makes the start of your side project adventure much more enjoyable as you don\\u2019t start from scratch.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.h2,{id:\"the-very-first-customer-trap\",children:[(0,o.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#the-very-first-customer-trap\",children:(0,o.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this),\"The Very First Customer Trap\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"One caveat: if you look long enough, you will eventually find someone who buys into your idea. Avoiding treating your very first client or customer as a validation of your business idea.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Try to ideally find a couple of first believers outside your circle of friends and family. The more you find, the more you know that you are onto something.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:[\"If you think it seems impossible to find first customers \",(0,o.jsxDEV)(t.strong,{children:\"before\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:53,columnNumber:58},this),\" you quit, be creative to find ways around your barriers.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"For example, you could find first customers for your SaaS through a paid waitlist even before you have built the service. If you are a carpenter, build your first pieces and sell them on marketplaces like Etsy. Authors can try finding interested literary agents or publish smaller stories in online publications first.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"In summary, try to validate your idea by finding first customers who are happy with your work. Luckily, as easy as it is to become hyped about side projects, as easy it is to validate those through numerous creative ways. Just make sure you do not quit your job only to find out that friend\\u2019s evaluation of \\u201Ca great idea\\u201D does not turn out to be true.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,o.jsxDEV)(m,{children:(0,o.jsxDEV)(t.p,{children:[`A little disclaimer: I borrowed this simple concept from Cal Newport\\u2019s\npodcast. If you want to hear more about, `,(0,o.jsxDEV)(t.a,{href:\"https://www.youtube.com/watch?v=GUbuCnRGR-s\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:`check out this\nepisode`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:63,columnNumber:44},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:62,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,o.jsxDEV)(t.p,{children:\"Also, if you are generally interested in hearing more tips like this on this blog, let me know on Twitter!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:67,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\",lineNumber:1,columnNumber:1},this)}function br(u={}){let{wrapper:t}=u.components||{};return t?(0,o.jsxDEV)(t,Object.assign({},u,{children:(0,o.jsxDEV)(Te,u,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx\"},this):Te(u)}var yr=br;function _r(u,t,m){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+u+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-634567ca-17e5-4f5a-a262-5a009807249a.mdx`\":\"\"))}return pr(gr);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/005-quitting-job-for-side-project.mdx",
    "_raw": {
      "sourceFilePath": "posts/005-quitting-job-for-side-project.mdx",
      "sourceFileName": "005-quitting-job-for-side-project.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/005-quitting-job-for-side-project"
    },
    "type": "Post",
    "slug": "quitting-job-for-side-project"
  },
  {
    "title": "3 Things That Helped Me Going Deep (Work)",
    "publishedAt": "2022-10-14T21:00:00.000Z",
    "summary": "How to put Cal Newport’s deep work concept to practice? These 3 tips helped me over the last years.",
    "cover": {
      "src": "/images/posts/things-that-helped-me-doing-deep-work/ruben-ramirez-xhKG01FN2uk-unsplash.jpg",
      "alt": "Cafe setting",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@pinchebesu\" target=\"_blank\" rel=\"noopener noreferrer\">Ruben Ramirez</a> on Unsplash",
        "html": "<p>Photo by Ruben Ramirez on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/3-things-that-helped-me-going-deep-work-4fc8fc280ed8",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Careers",
    "tags": [
      "deep work",
      "productivity",
      "careers",
      "freelancing",
      "organization",
      "concentration"
    ],
    "body": {
      "raw": "\nIn his 2016 book, Cal Newport coined the term _Deep Work_, which essentially means working on a single task for prolonged periods without getting distracted.\n\nA concept that back then could have been blamed as productivity geekery is nowadays more relevant than ever and on everybody’s lips.\n\nEspecially remote workers often face an environment of constant communication in which it becomes hard to escape Zoom and Slack. Finding time for value-producing work is almost impossible.\n\nEnter deep work. If done right, it enables us to get meaningful work done while simultaneously navigating the jungle of messaging and calls.\n\nOver the years, I tried to embrace the concept as much as possible in my own schedule (meaning as much as you actually put these self-help-book advices to practice).\n\nThis article outlines three tips for planning and executing deep work sessions more effectively and rewardingly. These were the things that helped me repeatedly go deeper. Hence, I hope it helps you too!\n\n<Callout>\n  _Note: As a developer, I am very fortunate to work on my own schedule. If you\n  work in a corporate setting, it can be harder. Ideally, schedule meetings with\n  yourself so that colleagues know you are busy during those periods._\n</Callout>\n\n## 1. Setting The Frame\n\nDeep work, and work in general, becomes more effective and rewarding if you set yourself well-defined artifacts to work on. While a task like “designing my portfolio” can feel like a never-ending undertaking, “finish design for blog post page” is much more specific and achievable.\n\nDefining a realistically chosen outcome of the session upfront will help you stay focused on that very task since you clearly defined something tangible to work on.\n\nAdditionally, it helps you get creative to reach your goal before the deep work session ends. I found that a bit of time pressure can be helpful to skip unnecessary revisions (especially if you tend to be a perfectionist like me).\n\nNext to the defined outcome, a time boundary is necessary since doing challenging work can be draining. For me, anything between one and four hours seems ideal for a deep work session.\n\nEven though I was not too fond of it initially, I became a fan of Promodoro timers for scheduling breaks (once you found your sweet spot for the slot duration). So often, I thought, “This is hard, and I feel stuck. Why not take a break now?” while working on a task. Sticking to my Pomodoro slots helps me work through a problem without immediately escaping to the next break.\n\n<Callout>\n  If you defined a <u>clear outcome and set period</u>, you set the perfect\n  frame for your deep work session.\n</Callout>\n\n## 2. Shutting Down Distractions\n\nThis next tip should hopefully be nothing new to you. You can’t concentrate on a task if your brain constantly bumps around Slack and Outlook notifications.\n\nFortunately, many platforms make this more accessible nowadays (although the amount of noise has increased too). Even Apple has built-in support for focus settings, meaning you can configure which notifications should be allowed during work periods.\n\nMore generally, it helps to set clear expectations for colleagues to avoid distractions. If you plan on working on a task, block off time on your calendar so that others know you are unavailable during this period. And put every device you don’t need for the task as far away as possible.\n\nI don’t use my phone some Sundays. The mental space you get by not carrying around your device is enormous. And it made me realize how much we implicitly occupy our brains with being reachable even though we don’t actually use our phones.\n\nWhile putting away the phone is easy, not using the computer is much harder for most tasks. And the computer is a distraction-generating machine too. How often did I go down rabbit holes just because I found an interesting new video online.\n\nTo prevent this, you can separate your tasks into different activities and do the distraction-prone ones up front. For example, when I write blog posts, I do the research (which is usually the source of distraction) a few days before I actually start writing. This allows me to do the writing (the deep work part) without being connected to the internet.\n\n<Callout>\n  Being unavailable to others is key. Put your phone away and block all\n  notifications. Separating out distraction-prone activities can help to avoid\n  going down rabbit holes.\n</Callout>\n\n## 3. Environment Matters\n\nLast but not least, I realized over the years that your work environment matters a lot - especially when doing deep work.\n\nFor example, an academic who writes papers in Oxford’s beautiful Trinity College feels much more inspired and upbeat than his colleague sitting cramped at his kitchen table.\n\nScenic locations help you be more creative. And it makes working on challenging tasks much more enjoyable. Personally, I like writing in cafés because it has an upbeat vibe (and I can feel much more like J.K. Rowling).\n\nUsing dedicated locations for specific activities also improves your ability to focus faster on the task at hand. Over time, your brain associates the place with the job and remembers _“café = writing”_. Thus you get a lot quicker in the mood of writing.\n\nYou can achieve the same effect with rituals around your deep work sessions. For example, doing the same walk around your neighborhood before you start working on your thesis prepares your brain for what’s ahead.\n\nGenerally, if possible, pick a location outside your home. Although it can be convenient to work in your living room, your body associates this environment with rest, not work. This makes it more difficult to focus on challenging tasks. And if you are not living alone, you will be interrupted while working (speaking of experience).\n\n<Callout>\n  Setting the right conditions – a scenic location and a little ritual your\n  brain associates with deep work – will get into a flow state more easily.\n</Callout>\n\n---\n\nIn summary, deep work will never become easy due to its inherently difficult nature. And having a few tips at hand won’t change this. It will always feel challenging, as if you were doing something wrong.\n\nNonetheless, I hope those three ideas will help you immerse yourself better in whatever tasks you are facing and leave your sessions in more rewarding and pleasant ways.\n\nIn the end, it often just comes down to how we can make tricky tasks more enjoyable so that we don’t procrastinate on them. So feel free to experiment a bit yourself! And let me know how it goes:\n",
      "code": "var Component=(()=>{var un=Object.create;var j=Object.defineProperty;var dn=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var G=(u,r)=>()=>(r||u((r={exports:{}}).exports,r),r.exports),hn=(u,r)=>{for(var m in r)j(u,m,{get:r[m],enumerable:!0})},we=(u,r,m,y)=>{if(r&&typeof r==\"object\"||typeof r==\"function\")for(let _ of cn(r))!mn.call(u,_)&&_!==m&&j(u,_,{get:()=>r[_],enumerable:!(y=dn(r,_))||y.enumerable});return u};var pn=(u,r,m)=>(m=u!=null?un(fn(u)):{},we(r||!u||!u.__esModule?j(m,\"default\",{value:u,enumerable:!0}):m,u)),vn=u=>we(j({},\"__esModule\",{value:!0}),u);var Ne=G((Nn,xe)=>{xe.exports=React});var ke=G(H=>{\"use strict\";(function(){\"use strict\";var u=Ne(),r=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),_=Symbol.for(\"react.strict_mode\"),q=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),R=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Ce=\"@@iterator\";function Ue(e){if(e===null||typeof e!=\"object\")return null;var n=J&&e[J]||e[Ce];return typeof n==\"function\"?n:null}var x=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function h(e){{for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];Se(\"error\",e,t)}}function Se(e,n,t){{var i=x.ReactDebugCurrentFrame,l=i.getStackAddendum();l!==\"\"&&(n+=\"%s\",t=t.concat([l]));var d=t.map(function(s){return String(s)});d.unshift(\"Warning: \"+n),Function.prototype.apply.call(console[e],console,d)}}var Oe=!1,Pe=!1,je=!1,Ie=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===y||e===q||Ae||e===_||e===I||e===A||Ie||e===Te||Oe||Pe||je||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===T||e.$$typeof===K||e.$$typeof===X||e.$$typeof===R||e.$$typeof===Z||e.getModuleId!==void 0))}function We(e,n,t){var i=e.displayName;if(i)return i;var l=n.displayName||n.name||\"\";return l!==\"\"?t+\"(\"+l+\")\":t}function Q(e){return e.displayName||\"Context\"}function b(e){if(e==null)return null;if(typeof e.tag==\"number\"&&h(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case y:return\"Fragment\";case m:return\"Portal\";case q:return\"Profiler\";case _:return\"StrictMode\";case I:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var n=e;return Q(n)+\".Consumer\";case K:var t=e;return Q(t._context)+\".Provider\";case R:return We(e,e.render,\"ForwardRef\");case T:var i=e.displayName||null;return i!==null?i:b(e.type)||\"Memo\";case F:{var l=e,d=l._payload,s=l._init;try{return b(s(d))}catch{return null}}}return null}var w=Object.assign,E=0,ee,ne,re,te,oe,ie,ae;function se(){}se.__reactDisabledLog=!0;function Me(){{if(E===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,oe=console.group,ie=console.groupCollapsed,ae=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}E++}}function Ye(){{if(E--,E===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:w({},e,{value:ee}),info:w({},e,{value:ne}),warn:w({},e,{value:re}),error:w({},e,{value:te}),group:w({},e,{value:oe}),groupCollapsed:w({},e,{value:ie}),groupEnd:w({},e,{value:ae})})}E<0&&h(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var W=x.ReactCurrentDispatcher,M;function C(e,n,t){{if(M===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\\n( *(at )?)/);M=i&&i[1]||\"\"}return`\n`+M+e}}var Y=!1,U;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;U=new $e}function le(e,n){if(!e||Y)return\"\";{var t=U.get(e);if(t!==void 0)return t}var i;Y=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=W.current,W.current=null,Me();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(g){i=g}Reflect.construct(e,[],s)}else{try{s.call()}catch(g){i=g}e.call(s.prototype)}}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack==\"string\"){for(var a=g.stack.split(`\n`),p=i.stack.split(`\n`),c=a.length-1,f=p.length-1;c>=1&&f>=0&&a[c]!==p[f];)f--;for(;c>=1&&f>=0;c--,f--)if(a[c]!==p[f]){if(c!==1||f!==1)do if(c--,f--,f<0||a[c]!==p[f]){var v=`\n`+a[c].replace(\" at new \",\" at \");return e.displayName&&v.includes(\"<anonymous>\")&&(v=v.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&U.set(e,v),v}while(c>=1&&f>=0);break}}}finally{Y=!1,W.current=d,Ye(),Error.prepareStackTrace=l}var k=e?e.displayName||e.name:\"\",ye=k?C(k):\"\";return typeof e==\"function\"&&U.set(e,ye),ye}function Ve(e,n,t){return le(e,!1)}function Le(e){var n=e.prototype;return!!(n&&n.isReactComponent)}function S(e,n,t){if(e==null)return\"\";if(typeof e==\"function\")return le(e,Le(e));if(typeof e==\"string\")return C(e);switch(e){case I:return C(\"Suspense\");case A:return C(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case R:return Ve(e.render);case T:return S(e.type,n,t);case F:{var i=e,l=i._payload,d=i._init;try{return S(d(l),n,t)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,ue={},de=x.ReactDebugCurrentFrame;function P(e){if(e){var n=e._owner,t=S(e.type,e._source,n?n.type:null);de.setExtraStackFrame(t)}else de.setExtraStackFrame(null)}function ze(e,n,t,i,l){{var d=Function.call.bind(O);for(var s in e)if(d(e,s)){var a=void 0;try{if(typeof e[s]!=\"function\"){var p=Error((i||\"React class\")+\": \"+t+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}a=e[s](n,s,i,t,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){a=c}a&&!(a instanceof Error)&&(P(l),h(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",t,s,typeof a),P(null)),a instanceof Error&&!(a.message in ue)&&(ue[a.message]=!0,P(l),h(\"Failed %s type: %s\",t,a.message),P(null))}}}var Be=Array.isArray;function $(e){return Be(e)}function Ge(e){{var n=typeof Symbol==\"function\"&&Symbol.toStringTag,t=n&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return t}}function He(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(He(e))return h(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Ge(e)),ce(e)}var D=x.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0},me,he,V;V={};function Ke(e){if(O.call(e,\"ref\")){var n=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(n&&n.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(O.call(e,\"key\")){var n=Object.getOwnPropertyDescriptor(e,\"key\").get;if(n&&n.isReactWarning)return!1}return e.key!==void 0}function Je(e,n){if(typeof e.ref==\"string\"&&D.current&&n&&D.current.stateNode!==n){var t=b(D.current.type);V[t]||(h('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',b(D.current.type),e.ref),V[t]=!0)}}function Ze(e,n){{var t=function(){me||(me=!0,h(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};t.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:t,configurable:!0})}}function Qe(e,n){{var t=function(){he||(he=!0,h(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",n))};t.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:t,configurable:!0})}}var en=function(e,n,t,i,l,d,s){var a={$$typeof:r,type:e,key:n,ref:t,props:s,_owner:d};return a._store={},Object.defineProperty(a._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(a,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(a.props),Object.freeze(a)),a};function nn(e,n,t,i,l){{var d,s={},a=null,p=null;t!==void 0&&(fe(t),a=\"\"+t),Xe(n)&&(fe(n.key),a=\"\"+n.key),Ke(n)&&(p=n.ref,Je(n,l));for(d in n)O.call(n,d)&&!qe.hasOwnProperty(d)&&(s[d]=n[d]);if(e&&e.defaultProps){var c=e.defaultProps;for(d in c)s[d]===void 0&&(s[d]=c[d])}if(a||p){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;a&&Ze(s,f),p&&Qe(s,f)}return en(e,a,p,l,i,D.current,s)}}var L=x.ReactCurrentOwner,pe=x.ReactDebugCurrentFrame;function N(e){if(e){var n=e._owner,t=S(e.type,e._source,n?n.type:null);pe.setExtraStackFrame(t)}else pe.setExtraStackFrame(null)}var z;z=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===r}function ve(){{if(L.current){var e=b(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var n=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),t=e.lineNumber;return`\n\nCheck your code at `+n+\":\"+t+\".\"}return\"\"}}var be={};function tn(e){{var n=ve();if(!n){var t=typeof e==\"string\"?e:e.displayName||e.name;t&&(n=`\n\nCheck the top-level render call using <`+t+\">.\")}return n}}function ge(e,n){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var t=tn(n);if(be[t])return;be[t]=!0;var i=\"\";e&&e._owner&&e._owner!==L.current&&(i=\" It was passed a child from \"+b(e._owner.type)+\".\"),N(e),h('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',t,i),N(null)}}function _e(e,n){{if(typeof e!=\"object\")return;if($(e))for(var t=0;t<e.length;t++){var i=e[t];B(i)&&ge(i,n)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var l=Ue(e);if(typeof l==\"function\"&&l!==e.entries)for(var d=l.call(e),s;!(s=d.next()).done;)B(s.value)&&ge(s.value,n)}}}function on(e){{var n=e.type;if(n==null||typeof n==\"string\")return;var t;if(typeof n==\"function\")t=n.propTypes;else if(typeof n==\"object\"&&(n.$$typeof===R||n.$$typeof===T))t=n.propTypes;else return;if(t){var i=b(n);ze(t,e.props,\"prop\",i,e)}else if(n.PropTypes!==void 0&&!z){z=!0;var l=b(n);h(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof n.getDefaultProps==\"function\"&&!n.getDefaultProps.isReactClassApproved&&h(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var n=Object.keys(e.props),t=0;t<n.length;t++){var i=n[t];if(i!==\"children\"&&i!==\"key\"){N(e),h(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),N(null);break}}e.ref!==null&&(N(e),h(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),N(null))}}function sn(e,n,t,i,l,d){{var s=Fe(e);if(!s){var a=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(a+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=rn(l);p?a+=p:a+=ve();var c;e===null?c=\"null\":$(e)?c=\"array\":e!==void 0&&e.$$typeof===r?(c=\"<\"+(b(e.type)||\"Unknown\")+\" />\",a=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,h(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,a)}var f=nn(e,n,t,l,d);if(f==null)return f;if(s){var v=n.children;if(v!==void 0)if(i)if($(v)){for(var k=0;k<v.length;k++)_e(v[k],e);Object.freeze&&Object.freeze(v)}else h(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else _e(v,e)}return e===y?an(f):on(f),f}}var ln=sn;H.Fragment=y,H.jsxDEV=ln})()});var De=G((En,Ee)=>{\"use strict\";Ee.exports=ke()});var wn={};hn(wn,{default:()=>_n,frontmatter:()=>bn});var o=pn(De()),bn={title:\"3 Things That Helped Me Going Deep (Work)\",summary:\"How to put Cal Newport\\u2019s deep work concept to practice? These 3 tips helped me over the last years.\",category:\"Careers\",cover:{src:\"/images/posts/things-that-helped-me-doing-deep-work/ruben-ramirez-xhKG01FN2uk-unsplash.jpg\",alt:\"Cafe setting\",caption:'Photo by <a href=\"https://unsplash.com/@pinchebesu\" target=\"_blank\" rel=\"noopener noreferrer\">Ruben Ramirez</a> on Unsplash'},tags:[\"deep work\",\"productivity\",\"careers\",\"freelancing\",\"organization\",\"concentration\"],publishedAt:\"2022/10/15\",externals:{Medium:\"https://konstantinmuenster.medium.com/3-things-that-helped-me-going-deep-work-4fc8fc280ed8\"}};function Re(u){let r=Object.assign({p:\"p\",em:\"em\",h2:\"h2\",a:\"a\",span:\"span\",hr:\"hr\"},u.components),{Callout:m}=r;return m||yn(\"Callout\",!0,\"35:1-39:11\"),(0,o.jsxDEV)(o.Fragment,{children:[(0,o.jsxDEV)(r.p,{children:[\"In his 2016 book, Cal Newport coined the term \",(0,o.jsxDEV)(r.em,{children:\"Deep Work\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:23,columnNumber:47},this),\", which essentially means working on a single task for prolonged periods without getting distracted.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"A concept that back then could have been blamed as productivity geekery is nowadays more relevant than ever and on everybody\\u2019s lips.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Especially remote workers often face an environment of constant communication in which it becomes hard to escape Zoom and Slack. Finding time for value-producing work is almost impossible.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Enter deep work. If done right, it enables us to get meaningful work done while simultaneously navigating the jungle of messaging and calls.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Over the years, I tried to embrace the concept as much as possible in my own schedule (meaning as much as you actually put these self-help-book advices to practice).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"This article outlines three tips for planning and executing deep work sessions more effectively and rewardingly. These were the things that helped me repeatedly go deeper. Hence, I hope it helps you too!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,o.jsxDEV)(m,{children:(0,o.jsxDEV)(r.p,{children:(0,o.jsxDEV)(r.em,{children:`Note: As a developer, I am very fortunate to work on my own schedule. If you\nwork in a corporate setting, it can be harder. Ideally, schedule meetings with\nyourself so that colleagues know you are busy during those periods.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:36,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:36,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.h2,{id:\"1-setting-the-frame\",children:[(0,o.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-setting-the-frame\",children:(0,o.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this),\"1. Setting The Frame\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Deep work, and work in general, becomes more effective and rewarding if you set yourself well-defined artifacts to work on. While a task like \\u201Cdesigning my portfolio\\u201D can feel like a never-ending undertaking, \\u201Cfinish design for blog post page\\u201D is much more specific and achievable.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Defining a realistically chosen outcome of the session upfront will help you stay focused on that very task since you clearly defined something tangible to work on.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Additionally, it helps you get creative to reach your goal before the deep work session ends. I found that a bit of time pressure can be helpful to skip unnecessary revisions (especially if you tend to be a perfectionist like me).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Next to the defined outcome, a time boundary is necessary since doing challenging work can be draining. For me, anything between one and four hours seems ideal for a deep work session.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Even though I was not too fond of it initially, I became a fan of Promodoro timers for scheduling breaks (once you found your sweet spot for the slot duration). So often, I thought, \\u201CThis is hard, and I feel stuck. Why not take a break now?\\u201D while working on a task. Sticking to my Pomodoro slots helps me work through a problem without immediately escaping to the next break.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,o.jsxDEV)(m,{children:(0,o.jsxDEV)(r.p,{children:[\"If you defined a \",(0,o.jsxDEV)(\"u\",{children:\"clear outcome and set period\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:54,columnNumber:20},this),`, you set the perfect\nframe for your deep work session.`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:54,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.h2,{id:\"2-shutting-down-distractions\",children:[(0,o.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-shutting-down-distractions\",children:(0,o.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this),\"2. Shutting Down Distractions\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"This next tip should hopefully be nothing new to you. You can\\u2019t concentrate on a task if your brain constantly bumps around Slack and Outlook notifications.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Fortunately, many platforms make this more accessible nowadays (although the amount of noise has increased too). Even Apple has built-in support for focus settings, meaning you can configure which notifications should be allowed during work periods.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"More generally, it helps to set clear expectations for colleagues to avoid distractions. If you plan on working on a task, block off time on your calendar so that others know you are unavailable during this period. And put every device you don\\u2019t need for the task as far away as possible.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"I don\\u2019t use my phone some Sundays. The mental space you get by not carrying around your device is enormous. And it made me realize how much we implicitly occupy our brains with being reachable even though we don\\u2019t actually use our phones.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"While putting away the phone is easy, not using the computer is much harder for most tasks. And the computer is a distraction-generating machine too. How often did I go down rabbit holes just because I found an interesting new video online.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"To prevent this, you can separate your tasks into different activities and do the distraction-prone ones up front. For example, when I write blog posts, I do the research (which is usually the source of distraction) a few days before I actually start writing. This allows me to do the writing (the deep work part) without being connected to the internet.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,o.jsxDEV)(m,{children:(0,o.jsxDEV)(r.p,{children:`Being unavailable to others is key. Put your phone away and block all\nnotifications. Separating out distraction-prone activities can help to avoid\ngoing down rabbit holes.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:73,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:72,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.h2,{id:\"3-environment-matters\",children:[(0,o.jsxDEV)(r.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-environment-matters\",children:(0,o.jsxDEV)(r.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this),\"3. Environment Matters\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:78,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Last but not least, I realized over the years that your work environment matters a lot - especially when doing deep work.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:80,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"For example, an academic who writes papers in Oxford\\u2019s beautiful Trinity College feels much more inspired and upbeat than his colleague sitting cramped at his kitchen table.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:82,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Scenic locations help you be more creative. And it makes working on challenging tasks much more enjoyable. Personally, I like writing in caf\\xE9s because it has an upbeat vibe (and I can feel much more like J.K. Rowling).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:84,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:[\"Using dedicated locations for specific activities also improves your ability to focus faster on the task at hand. Over time, your brain associates the place with the job and remembers \",(0,o.jsxDEV)(r.em,{children:\"\\u201Ccaf\\xE9 = writing\\u201D\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:86,columnNumber:185},this),\". Thus you get a lot quicker in the mood of writing.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:86,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"You can achieve the same effect with rituals around your deep work sessions. For example, doing the same walk around your neighborhood before you start working on your thesis prepares your brain for what\\u2019s ahead.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:88,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Generally, if possible, pick a location outside your home. Although it can be convenient to work in your living room, your body associates this environment with rest, not work. This makes it more difficult to focus on challenging tasks. And if you are not living alone, you will be interrupted while working (speaking of experience).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,o.jsxDEV)(m,{children:(0,o.jsxDEV)(r.p,{children:`Setting the right conditions \\u2013 a scenic location and a little ritual your\nbrain associates with deep work \\u2013 will get into a flow state more easily.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:93,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"In summary, deep work will never become easy due to its inherently difficult nature. And having a few tips at hand won\\u2019t change this. It will always feel challenging, as if you were doing something wrong.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"Nonetheless, I hope those three ideas will help you immerse yourself better in whatever tasks you are facing and leave your sessions in more rewarding and pleasant ways.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,o.jsxDEV)(r.p,{children:\"In the end, it often just comes down to how we can make tricky tasks more enjoyable so that we don\\u2019t procrastinate on them. So feel free to experiment a bit yourself! And let me know how it goes:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:103,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\",lineNumber:1,columnNumber:1},this)}function gn(u={}){let{wrapper:r}=u.components||{};return r?(0,o.jsxDEV)(r,Object.assign({},u,{children:(0,o.jsxDEV)(Re,u,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx\"},this):Re(u)}var _n=gn;function yn(u,r,m){throw new Error(\"Expected \"+(r?\"component\":\"object\")+\" `\"+u+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-dcfa5e50-9497-4486-9975-a2b9a84fc167.mdx`\":\"\"))}return vn(wn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/006-things-that-helped-me-doing-deep-work.mdx",
    "_raw": {
      "sourceFilePath": "posts/006-things-that-helped-me-doing-deep-work.mdx",
      "sourceFileName": "006-things-that-helped-me-doing-deep-work.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/006-things-that-helped-me-doing-deep-work"
    },
    "type": "Post",
    "slug": "things-that-helped-me-doing-deep-work"
  },
  {
    "title": "Tagged Template Literals - How Tools Like Styled Components Work",
    "publishedAt": "2022-11-09T21:00:00.000Z",
    "summary": "Have you ever wondered how syntactical sugar like `styled` just magically works? Let’s recreate this functionality using tagged template strings in Javascript.",
    "cover": {
      "src": "/images/posts/tagged-template-literals-how-tools-like-styled-components-work/styled.jsx.png",
      "alt": "Screenshot Styled Component",
      "caption": {
        "raw": "Styled Components and other libraries made template tags quite popular.",
        "html": "<p>Styled Components and other libraries made template tags quite popular.</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/tagged-template-literals-how-tools-like-styled-components-work-81b26647e5ab",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "tagged template literals",
      "es6",
      "template strings",
      "styled components",
      "styled",
      "string interpolation"
    ],
    "body": {
      "raw": "\nIf you used tools like [styled-components](https://styled-components.com/) or [graphql](https://graphql.org/), you most likely came across tagged template literals. A new Javascript feature that was introduced with ES6.\n\nIn styled components, template strings allow you to create components almost magically like this:\n\n```jsx\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n```\n\nIn this example, `styled.h1` is the _template function_ or _tag_. The succeeding string represents the actual template. We call it _template string_. Combining both pieces, we get the magic 🪄\n\nLet’s take a look first at the template string. It uses the backticks syntax which supports string interpolation. Thus, we can write…\n\n```jsx\nconst output = `My name is ${name}.`;\n```\n\n… and dynamically populate the `name` value.\n\nThe template function `styled.h1` is used to tag the string, hence the name tagged template literals. It allows us to tell the engine how the tagged string should be populated and constructed.\n\nGiven the simple example of printing `My name is ${name}`, the browser would usually just insert the current value of `name` into the string.\n\nBut maybe we want to do something different with the string? By running a template function against the string, we can do exactly this and control how the output will look like.\n\nThe template function receives all the information about the template string (its parts and variables) and whatever we return from the function will be our `output`.\n\n## Understanding The Template Function\n\nBefore we try rebuilding our own `styled` template function, let’s first understand how those functions work.\n\nIn this simple example below, we print out a brief introduction using the `introduce` tag.\n\n```jsx\nfunction introduce(strings, name, food) {\n  // construct and return string\n}\n\nconst name = 'Nina';\nconst food = '🍕';\nconst output = introduce`I am ${name}. I like ${food}.`;\n```\n\nWhen running the function against a template string, we receive all the details we need via arguments.\n\n`strings` contains an array of strings, essentially all the static parts between the dynamic variables. In our case, it is an array containing 3 items: `I am` , `. I like` , and `.`.\n\nAll subsequent arguments are the values of our interpolated variables, `name` and `food`.\n\nUsing the ES6 rest operator, we can batch those subsequent arguments together like this:\n\n```jsx\nfunction introduce(strings, ...args) {\n  // construct and return string\n}\n```\n\nThus, we can use templates that are not restricted to two values only.\n\n## Building Our Own `styled` Tag\n\nKnowing how template functions generally work, let’s get back to our initial example: the `styled` tag.\n\n```jsx\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n```\n\nInstead of returning a simple string, we now want to return a React component, called `Title`. This component should render an HTML heading element with the styling we provide inside the template string.\n\nFor the styling, we make use of a theme which we access inside our template string. The `Title` component should thus respect the font sizes we inject via our theme.\n\nAlthough this might look complex, it is fairly simple to implement!\n\nFirst, let’s scaffold some prerequisites:\n\n```jsx showLineNumbers\n// This acts as our theme provider\nconst props = {\n  theme: {\n    sizes: {\n      xl: '2rem',\n      lg: '1.5rem',\n      md: '1rem',\n      xs: '0.75rem',\n    },\n  },\n};\n\n// This will be our template function\nfunction h1(strings, ...args) {\n  // Do something\n}\n\nconst styled = { h1 };\n\n// This will be our styled component\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n```\n\nWe the sake of simplicity we assume that we can access a global `props` object which acts like a theme provider for us.\n\nBelow our `props` object, we define our `h1` template function. To make it look even more like styled-components, I wrapped the function in an object called `styled` which we then use to build our `Title` component.\n\nLet’s take a closer look at the `h1` function and how it’s being used:\n\n```jsx\nfunction h1(strings, ...args) {\n  // Do something\n}\n\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n```\n\nRecalling what we learned previously, the `strings` argument contains all the static string parts of our template. In this case, it only has two items: `font-size:` and `; text-align: center; …`\n\n`args` contains the interpolated values. Note that in this example we actually interpolate functions, not just strings as we did before. It works the same but provides way more possibilities as we will see in a sec!\n\nTo create a tagged template literal that outputs such a styled component, we need to do two things:\n\n1. Generating the theme-based styles based on the provided template string\n2. Creating and returning a React component with those styles\n\nSo let’s do exactly this and start with step one.\n\n### Generating Theme-Based Styles\n\nIn this first step, we generate the styling which we later apply to our component. For now, we can output the styling as a simple CSS string, likewise to the current format in the template string.\n\n```jsx\nconst props = {\n  theme: {\n    sizes: {\n      xl: '2rem',\n      lg: '1.5rem',\n      md: '1rem',\n      xs: '0.75rem',\n    },\n  },\n};\n\nfunction h1(strings, ...args) {\n  let str = '';\n\n  strings.forEach((string, i) => {\n    str += string + (args[i] ? args[i](props) : '');\n  });\n\n  return str;\n}\n\nconst styles = h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n```\n\nIn our function `h1`, we loop through the static string parts of the template and concatenate those incrementally. By using the index `i`, we can check for each part whether there is an associated interpolated value.\n\nSo, after concatenating `font-size:` to the initial empty string, we check if there exists an interpolated value at index 0. And indeed, there is! Our function we provided to define the theme-based font size.\n\nSince `args[i]` contains our injected value `(props) => props.theme.sizes.lg`, we can call this function with the global `props` object and receive the font size back. Perfect!\n\nFinally, we return `str` from our template function. It contains a CSS string like this:\n\n```css\nfont-size: 1.5rem;\ntext-align: center;\ncolor: palevioletred;\n```\n\n### Returning A Styled React Component\n\nTo thoroughly emulate styled components, we now want to return a styled React component instead of the CSS string.\n\nWe can do this easily by using a little helper function `css2obj` that transforms the CSS string into a CSS object which can be applied to a React component. This is not exactly how styled components works, but it does the job for now. You can check the implementation [here](https://gist.github.com/konstantinmuenster/dd391a78b167972f03e198198fe6b5ae) if you are interested.\n\n```jsx\nfunction h1(strings, ...args) {\n  let str = '';\n\n  strings.forEach((string, i) => {\n    str += string + (args[i] ? args[i](props) : '');\n  });\n\n  return React.createElement('h1', {\n    style: css2obj(str),\n  });\n}\n```\n\nWith this, we can adapt our `h1` implementation so that we don’t return the CSS string but create a React element that has the proper heading type and the generated style object.\n\nAnd that’s it! We can now use this tagged template literal to create awesomely styled headings as easy as this:\n\n```jsx\nconst Title = styled.h1`\n  font-size: ${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n`;\n\nexport const MyComponent = () => {\n  return <Title>My Heading</Title>;\n};\n```\n\n---\n\nOf course, in reality, styled components hides more complexity than this simple example. Nonetheless, I hope we unveiled a bit of the magic tagged template literals provide.\n\nFor me, this has been one of the things that always looked (and sounded) far more complex than it actually is.\n\nSo for you to remember:\n\n<Callout>\n  Tagged template literals enable you to define how a template string should be\n  constructed and returned.\n</Callout>\n\nYet another nice technique for one’s tool-belt! If you are interested, you find the full example in this [CodeSandbox](https://codesandbox.io/s/styled-components-tagged-template-literal-article-dbiyd9).\n",
      "code": "var Component=(()=>{var an=Object.create;var P=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var mn=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var q=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),bn=(a,n)=>{for(var f in n)P(a,f,{get:n[f],enumerable:!0})},xe=(a,n,f,N)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of cn(n))!fn.call(a,g)&&g!==f&&P(a,g,{get:()=>n[g],enumerable:!(N=un(n,g))||N.enumerable});return a};var pn=(a,n,f)=>(f=a!=null?an(mn(a)):{},xe(n||!a||!a.__esModule?P(f,\"default\",{value:a,enumerable:!0}):f,a)),vn=a=>xe(P({},\"__esModule\",{value:!0}),a);var we=q((wn,ye)=>{ye.exports=React});var De=q(G=>{\"use strict\";(function(){\"use strict\";var a=we(),n=Symbol.for(\"react.element\"),f=Symbol.for(\"react.portal\"),N=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),T=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),F=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Re=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,ke=\"@@iterator\";function Se(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[ke];return typeof r==\"function\"?r:null}var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var r=arguments.length,l=new Array(r>1?r-1:0),i=1;i<r;i++)l[i-1]=arguments[i];Ce(\"error\",e,l)}}function Ce(e,r,l){{var i=y.ReactDebugCurrentFrame,d=i.getStackAddendum();d!==\"\"&&(r+=\"%s\",l=l.concat([d]));var u=l.map(function(s){return String(s)});u.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,u)}}var je=!1,Oe=!1,Pe=!1,Ie=!1,Fe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===N||e===H||Fe||e===g||e===I||e===F||Ie||e===Re||je||Oe||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===R||e.$$typeof===K||e.$$typeof===X||e.$$typeof===T||e.$$typeof===Z||e.getModuleId!==void 0))}function $e(e,r,l){var i=e.displayName;if(i)return i;var d=r.displayName||r.name||\"\";return d!==\"\"?l+\"(\"+d+\")\":l}function Q(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case N:return\"Fragment\";case f:return\"Portal\";case H:return\"Profiler\";case g:return\"StrictMode\";case I:return\"Suspense\";case F:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var r=e;return Q(r)+\".Consumer\";case K:var l=e;return Q(l._context)+\".Provider\";case T:return $e(e,e.render,\"ForwardRef\");case R:var i=e.displayName||null;return i!==null?i:h(e.type)||\"Memo\";case A:{var d=e,u=d._payload,s=d._init;try{return h(s(u))}catch{return null}}}return null}var x=Object.assign,U=0,ee,ne,te,re,le,ie,oe;function se(){}se.__reactDisabledLog=!0;function We(){{if(U===0){ee=console.log,ne=console.info,te=console.warn,re=console.error,le=console.group,ie=console.groupCollapsed,oe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:se,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}U++}}function ze(){{if(U--,U===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ee}),info:x({},e,{value:ne}),warn:x({},e,{value:te}),error:x({},e,{value:re}),group:x({},e,{value:le}),groupCollapsed:x({},e,{value:ie}),groupEnd:x({},e,{value:oe})})}U<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var $=y.ReactCurrentDispatcher,W;function k(e,r,l){{if(W===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\\n( *(at )?)/);W=i&&i[1]||\"\"}return`\n`+W+e}}var z=!1,S;{var Me=typeof WeakMap==\"function\"?WeakMap:Map;S=new Me}function de(e,r){if(!e||z)return\"\";{var l=S.get(e);if(l!==void 0)return l}var i;z=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=$.current,$.current=null,We();try{if(r){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(_){i=_}Reflect.construct(e,[],s)}else{try{s.call()}catch(_){i=_}e.call(s.prototype)}}else{try{throw Error()}catch(_){i=_}e()}}catch(_){if(_&&i&&typeof _.stack==\"string\"){for(var o=_.stack.split(`\n`),p=i.stack.split(`\n`),c=o.length-1,m=p.length-1;c>=1&&m>=0&&o[c]!==p[m];)m--;for(;c>=1&&m>=0;c--,m--)if(o[c]!==p[m]){if(c!==1||m!==1)do if(c--,m--,m<0||o[c]!==p[m]){var v=`\n`+o[c].replace(\" at new \",\" at \");return e.displayName&&v.includes(\"<anonymous>\")&&(v=v.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&S.set(e,v),v}while(c>=1&&m>=0);break}}}finally{z=!1,$.current=u,ze(),Error.prepareStackTrace=d}var D=e?e.displayName||e.name:\"\",Ne=D?k(D):\"\";return typeof e==\"function\"&&S.set(e,Ne),Ne}function Ye(e,r,l){return de(e,!1)}function Le(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function C(e,r,l){if(e==null)return\"\";if(typeof e==\"function\")return de(e,Le(e));if(typeof e==\"string\")return k(e);switch(e){case I:return k(\"Suspense\");case F:return k(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case T:return Ye(e.render);case R:return C(e.type,r,l);case A:{var i=e,d=i._payload,u=i._init;try{return C(u(d),r,l)}catch{}}}return\"\"}var j=Object.prototype.hasOwnProperty,ae={},ue=y.ReactDebugCurrentFrame;function O(e){if(e){var r=e._owner,l=C(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(l)}else ue.setExtraStackFrame(null)}function Ve(e,r,l,i,d){{var u=Function.call.bind(j);for(var s in e)if(u(e,s)){var o=void 0;try{if(typeof e[s]!=\"function\"){var p=Error((i||\"React class\")+\": \"+l+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}o=e[s](r,s,i,l,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){o=c}o&&!(o instanceof Error)&&(O(d),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",l,s,typeof o),O(null)),o instanceof Error&&!(o.message in ae)&&(ae[o.message]=!0,O(d),b(\"Failed %s type: %s\",l,o.message),O(null))}}}var Be=Array.isArray;function M(e){return Be(e)}function qe(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,l=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return l}}function Ge(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function me(e){if(Ge(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),ce(e)}var E=y.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},fe,be,Y;Y={};function Ke(e){if(j.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(j.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Je(e,r){if(typeof e.ref==\"string\"&&E.current&&r&&E.current.stateNode!==r){var l=h(E.current.type);Y[l]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(E.current.type),e.ref),Y[l]=!0)}}function Ze(e,r){{var l=function(){fe||(fe=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};l.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:l,configurable:!0})}}function Qe(e,r){{var l=function(){be||(be=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};l.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:l,configurable:!0})}}var en=function(e,r,l,i,d,u,s){var o={$$typeof:n,type:e,key:r,ref:l,props:s,_owner:u};return o._store={},Object.defineProperty(o._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(o,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(o,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(o.props),Object.freeze(o)),o};function nn(e,r,l,i,d){{var u,s={},o=null,p=null;l!==void 0&&(me(l),o=\"\"+l),Xe(r)&&(me(r.key),o=\"\"+r.key),Ke(r)&&(p=r.ref,Je(r,d));for(u in r)j.call(r,u)&&!He.hasOwnProperty(u)&&(s[u]=r[u]);if(e&&e.defaultProps){var c=e.defaultProps;for(u in c)s[u]===void 0&&(s[u]=c[u])}if(o||p){var m=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;o&&Ze(s,m),p&&Qe(s,m)}return en(e,o,p,d,i,E.current,s)}}var L=y.ReactCurrentOwner,pe=y.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,l=C(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(l)}else pe.setExtraStackFrame(null)}var V;V=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function ve(){{if(L.current){var e=h(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),l=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+l+\".\"}return\"\"}}var he={};function rn(e){{var r=ve();if(!r){var l=typeof e==\"string\"?e:e.displayName||e.name;l&&(r=`\n\nCheck the top-level render call using <`+l+\">.\")}return r}}function _e(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var l=rn(r);if(he[l])return;he[l]=!0;var i=\"\";e&&e._owner&&e._owner!==L.current&&(i=\" It was passed a child from \"+h(e._owner.type)+\".\"),w(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',l,i),w(null)}}function ge(e,r){{if(typeof e!=\"object\")return;if(M(e))for(var l=0;l<e.length;l++){var i=e[l];B(i)&&_e(i,r)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var d=Se(e);if(typeof d==\"function\"&&d!==e.entries)for(var u=d.call(e),s;!(s=u.next()).done;)B(s.value)&&_e(s.value,r)}}}function ln(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var l;if(typeof r==\"function\")l=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===T||r.$$typeof===R))l=r.propTypes;else return;if(l){var i=h(r);Ve(l,e.props,\"prop\",i,e)}else if(r.PropTypes!==void 0&&!V){V=!0;var d=h(r);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function on(e){{for(var r=Object.keys(e.props),l=0;l<r.length;l++){var i=r[l];if(i!==\"children\"&&i!==\"key\"){w(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),w(null);break}}e.ref!==null&&(w(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function sn(e,r,l,i,d,u){{var s=Ae(e);if(!s){var o=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(o+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=tn(d);p?o+=p:o+=ve();var c;e===null?c=\"null\":M(e)?c=\"array\":e!==void 0&&e.$$typeof===n?(c=\"<\"+(h(e.type)||\"Unknown\")+\" />\",o=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,o)}var m=nn(e,r,l,d,u);if(m==null)return m;if(s){var v=r.children;if(v!==void 0)if(i)if(M(v)){for(var D=0;D<v.length;D++)ge(v[D],e);Object.freeze&&Object.freeze(v)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(v,e)}return e===N?on(m):ln(m),m}}var dn=sn;G.Fragment=N,G.jsxDEV=dn})()});var Ee=q((Un,Ue)=>{\"use strict\";Ue.exports=De()});var xn={};bn(xn,{default:()=>gn,frontmatter:()=>hn});var t=pn(Ee()),hn={title:\"Tagged Template Literals - How Tools Like Styled Components Work\",summary:\"Have you ever wondered how syntactical sugar like `styled` just magically works? Let\\u2019s recreate this functionality using tagged template strings in Javascript.\",category:\"Engineering\",cover:{src:\"/images/posts/tagged-template-literals-how-tools-like-styled-components-work/styled.jsx.png\",alt:\"Screenshot Styled Component\",caption:\"Styled Components and other libraries made template tags quite popular.\"},tags:[\"tagged template literals\",\"es6\",\"template strings\",\"styled components\",\"styled\",\"string interpolation\"],publishedAt:\"2022/11/10\",externals:{Medium:\"https://konstantinmuenster.medium.com/tagged-template-literals-how-tools-like-styled-components-work-81b26647e5ab\"}};function Te(a){let n=Object.assign({p:\"p\",a:\"a\",pre:\"pre\",code:\"code\",em:\"em\",h2:\"h2\",span:\"span\",ol:\"ol\",li:\"li\",h3:\"h3\",hr:\"hr\"},a.components),{Callout:f}=n;return f||Nn(\"Callout\",!0,\"253:1-256:11\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:[\"If you used tools like \",(0,t.jsxDEV)(n.a,{href:\"https://styled-components.com/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"styled-components\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:23,columnNumber:24},this),\" or \",(0,t.jsxDEV)(n.a,{href:\"https://graphql.org/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"graphql\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:23,columnNumber:79},this),\", you most likely came across tagged template literals. A new Javascript feature that was introduced with ES6.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In styled components, template strings allow you to create components almost magically like this:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const Title = styled.h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:27,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In this example, \",(0,t.jsxDEV)(n.code,{children:\"styled.h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:35,columnNumber:18},this),\" is the \",(0,t.jsxDEV)(n.em,{children:\"template function\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:35,columnNumber:37},this),\" or \",(0,t.jsxDEV)(n.em,{children:\"tag\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:35,columnNumber:60},this),\". The succeeding string represents the actual template. We call it \",(0,t.jsxDEV)(n.em,{children:\"template string\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:35,columnNumber:132},this),\". Combining both pieces, we get the magic \\u{1FA84}\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s take a look first at the template string. It uses the backticks syntax which supports string interpolation. Thus, we can write\\u2026\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:\"const output = `My name is ${name}.`;\\n\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:39,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"\\u2026 and dynamically populate the \",(0,t.jsxDEV)(n.code,{children:\"name\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:43,columnNumber:32},this),\" value.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The template function \",(0,t.jsxDEV)(n.code,{children:\"styled.h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:45,columnNumber:23},this),\" is used to tag the string, hence the name tagged template literals. It allows us to tell the engine how the tagged string should be populated and constructed.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:45,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Given the simple example of printing \",(0,t.jsxDEV)(n.code,{children:\"My name is ${name}\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:47,columnNumber:38},this),\", the browser would usually just insert the current value of \",(0,t.jsxDEV)(n.code,{children:\"name\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:47,columnNumber:119},this),\" into the string.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"But maybe we want to do something different with the string? By running a template function against the string, we can do exactly this and control how the output will look like.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The template function receives all the information about the template string (its parts and variables) and whatever we return from the function will be our \",(0,t.jsxDEV)(n.code,{children:\"output\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:51,columnNumber:157},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"understanding-the-template-function\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#understanding-the-template-function\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this),\"Understanding The Template Function\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Before we try rebuilding our own \",(0,t.jsxDEV)(n.code,{children:\"styled\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:55,columnNumber:34},this),\" template function, let\\u2019s first understand how those functions work.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In this simple example below, we print out a brief introduction using the \",(0,t.jsxDEV)(n.code,{children:\"introduce\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:57,columnNumber:75},this),\" tag.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`function introduce(strings, name, food) {\n  // construct and return string\n}\n\nconst name = 'Nina';\nconst food = '\\u{1F355}';\nconst output = introduce\\`I am \\${name}. I like \\${food}.\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:59,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"When running the function against a template string, we receive all the details we need via arguments.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.code,{children:\"strings\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:71,columnNumber:1},this),\" contains an array of strings, essentially all the static parts between the dynamic variables. In our case, it is an array containing 3 items: \",(0,t.jsxDEV)(n.code,{children:\"I am\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:71,columnNumber:153},this),\" , \",(0,t.jsxDEV)(n.code,{children:\". I like\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:71,columnNumber:162},this),\" , and \",(0,t.jsxDEV)(n.code,{children:\".\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:71,columnNumber:179},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"All subsequent arguments are the values of our interpolated variables, \",(0,t.jsxDEV)(n.code,{children:\"name\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:73,columnNumber:72},this),\" and \",(0,t.jsxDEV)(n.code,{children:\"food\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:73,columnNumber:83},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:73,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Using the ES6 rest operator, we can batch those subsequent arguments together like this:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`function introduce(strings, ...args) {\n  // construct and return string\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:77,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Thus, we can use templates that are not restricted to two values only.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"building-our-own-styled-tag\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#building-our-own-styled-tag\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this),\"Building Our Own \",(0,t.jsxDEV)(n.code,{children:\"styled\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:85,columnNumber:21},this),\" Tag\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Knowing how template functions generally work, let\\u2019s get back to our initial example: the \",(0,t.jsxDEV)(n.code,{children:\"styled\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:87,columnNumber:91},this),\" tag.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const Title = styled.h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:89,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Instead of returning a simple string, we now want to return a React component, called \",(0,t.jsxDEV)(n.code,{children:\"Title\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:97,columnNumber:87},this),\". This component should render an HTML heading element with the styling we provide inside the template string.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"For the styling, we make use of a theme which we access inside our template string. The \",(0,t.jsxDEV)(n.code,{children:\"Title\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:99,columnNumber:89},this),\" component should thus respect the font sizes we inject via our theme.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Although this might look complex, it is fairly simple to implement!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"First, let\\u2019s scaffold some prerequisites:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`// This acts as our theme provider\nconst props = {\n  theme: {\n    sizes: {\n      xl: '2rem',\n      lg: '1.5rem',\n      md: '1rem',\n      xs: '0.75rem',\n    },\n  },\n};\n\n// This will be our template function\nfunction h1(strings, ...args) {\n  // Do something\n}\n\nconst styled = { h1 };\n\n// This will be our styled component\nconst Title = styled.h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:105,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"We the sake of simplicity we assume that we can access a global \",(0,t.jsxDEV)(n.code,{children:\"props\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:133,columnNumber:65},this),\" object which acts like a theme provider for us.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:133,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Below our \",(0,t.jsxDEV)(n.code,{children:\"props\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:135,columnNumber:11},this),\" object, we define our \",(0,t.jsxDEV)(n.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:135,columnNumber:41},this),\" template function. To make it look even more like styled-components, I wrapped the function in an object called \",(0,t.jsxDEV)(n.code,{children:\"styled\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:135,columnNumber:158},this),\" which we then use to build our \",(0,t.jsxDEV)(n.code,{children:\"Title\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:135,columnNumber:198},this),\" component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:135,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Let\\u2019s take a closer look at the \",(0,t.jsxDEV)(n.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:137,columnNumber:33},this),\" function and how it\\u2019s being used:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:137,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`function h1(strings, ...args) {\n  // Do something\n}\n\nconst Title = styled.h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:139,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:139,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Recalling what we learned previously, the \",(0,t.jsxDEV)(n.code,{children:\"strings\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:151,columnNumber:43},this),\" argument contains all the static string parts of our template. In this case, it only has two items: \",(0,t.jsxDEV)(n.code,{children:\"font-size:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:151,columnNumber:153},this),\" and \",(0,t.jsxDEV)(n.code,{children:\"; text-align: center; \\u2026\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:151,columnNumber:170},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:151,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.code,{children:\"args\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:153,columnNumber:1},this),\" contains the interpolated values. Note that in this example we actually interpolate functions, not just strings as we did before. It works the same but provides way more possibilities as we will see in a sec!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:153,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"To create a tagged template literal that outputs such a styled component, we need to do two things:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:155,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"Generating the theme-based styles based on the provided template string\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Creating and returning a React component with those styles\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:158,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So let\\u2019s do exactly this and start with step one.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:160,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"generating-theme-based-styles\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#generating-theme-based-styles\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this),\"Generating Theme-Based Styles\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:162,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In this first step, we generate the styling which we later apply to our component. For now, we can output the styling as a simple CSS string, likewise to the current format in the template string.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:164,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const props = {\n  theme: {\n    sizes: {\n      xl: '2rem',\n      lg: '1.5rem',\n      md: '1rem',\n      xs: '0.75rem',\n    },\n  },\n};\n\nfunction h1(strings, ...args) {\n  let str = '';\n\n  strings.forEach((string, i) => {\n    str += string + (args[i] ? args[i](props) : '');\n  });\n\n  return str;\n}\n\nconst styles = h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:166,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:166,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In our function \",(0,t.jsxDEV)(n.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:195,columnNumber:17},this),\", we loop through the static string parts of the template and concatenate those incrementally. By using the index \",(0,t.jsxDEV)(n.code,{children:\"i\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:195,columnNumber:135},this),\", we can check for each part whether there is an associated interpolated value.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:195,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"So, after concatenating \",(0,t.jsxDEV)(n.code,{children:\"font-size:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:197,columnNumber:25},this),\" to the initial empty string, we check if there exists an interpolated value at index 0. And indeed, there is! Our function we provided to define the theme-based font size.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:197,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Since \",(0,t.jsxDEV)(n.code,{children:\"args[i]\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:199,columnNumber:7},this),\" contains our injected value \",(0,t.jsxDEV)(n.code,{children:\"(props) => props.theme.sizes.lg\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:199,columnNumber:45},this),\", we can call this function with the global \",(0,t.jsxDEV)(n.code,{children:\"props\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:199,columnNumber:122},this),\" object and receive the font size back. Perfect!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:199,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Finally, we return \",(0,t.jsxDEV)(n.code,{children:\"str\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:201,columnNumber:20},this),\" from our template function. It contains a CSS string like this:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-css\",children:`font-size: 1.5rem;\ntext-align: center;\ncolor: palevioletred;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:203,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:203,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"returning-a-styled-react-component\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#returning-a-styled-react-component\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this),\"Returning A Styled React Component\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:209,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"To thoroughly emulate styled components, we now want to return a styled React component instead of the CSS string.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:211,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"We can do this easily by using a little helper function \",(0,t.jsxDEV)(n.code,{children:\"css2obj\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:213,columnNumber:57},this),\" that transforms the CSS string into a CSS object which can be applied to a React component. This is not exactly how styled components works, but it does the job for now. You can check the implementation \",(0,t.jsxDEV)(n.a,{href:\"https://gist.github.com/konstantinmuenster/dd391a78b167972f03e198198fe6b5ae\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"here\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:213,columnNumber:270},this),\" if you are interested.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:213,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`function h1(strings, ...args) {\n  let str = '';\n\n  strings.forEach((string, i) => {\n    str += string + (args[i] ? args[i](props) : '');\n  });\n\n  return React.createElement('h1', {\n    style: css2obj(str),\n  });\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:215,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:215,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With this, we can adapt our \",(0,t.jsxDEV)(n.code,{children:\"h1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:229,columnNumber:29},this),\" implementation so that we don\\u2019t return the CSS string but create a React element that has the proper heading type and the generated style object.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:229,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"And that\\u2019s it! We can now use this tagged template literal to create awesomely styled headings as easy as this:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:231,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const Title = styled.h1\\`\n  font-size: \\${props => props.theme.sizes.lg};\n  text-align: center;\n  color: palevioletred;\n\\`;\n\nexport const MyComponent = () => {\n  return <Title>My Heading</Title>;\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:233,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:233,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:245,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Of course, in reality, styled components hides more complexity than this simple example. Nonetheless, I hope we unveiled a bit of the magic tagged template literals provide.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:247,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For me, this has been one of the things that always looked (and sounded) far more complex than it actually is.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:249,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So for you to remember:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:251,columnNumber:1},this),`\n`,(0,t.jsxDEV)(f,{children:(0,t.jsxDEV)(n.p,{children:`Tagged template literals enable you to define how a template string should be\nconstructed and returned.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:254,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:253,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Yet another nice technique for one\\u2019s tool-belt! If you are interested, you find the full example in this \",(0,t.jsxDEV)(n.a,{href:\"https://codesandbox.io/s/styled-components-tagged-template-literal-article-dbiyd9\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"CodeSandbox\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:258,columnNumber:106},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:258,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\",lineNumber:1,columnNumber:1},this)}function _n(a={}){let{wrapper:n}=a.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},a,{children:(0,t.jsxDEV)(Te,a,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx\"},this):Te(a)}var gn=_n;function Nn(a,n,f){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(f?\"\\nIt\\u2019s referenced in your code at `\"+f+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-2ab808e4-b11d-48f8-a6e5-ec4517e90137.mdx`\":\"\"))}return vn(xn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/007-tagged-template-literals-how-tools-like-styled-components-work.mdx",
    "_raw": {
      "sourceFilePath": "posts/007-tagged-template-literals-how-tools-like-styled-components-work.mdx",
      "sourceFileName": "007-tagged-template-literals-how-tools-like-styled-components-work.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/007-tagged-template-literals-how-tools-like-styled-components-work"
    },
    "type": "Post",
    "slug": "tagged-template-literals-how-tools-like-styled-components-work"
  },
  {
    "title": "How To Build A Text Editor With Lexical and React",
    "publishedAt": "2023-01-09T21:00:00.000Z",
    "summary": "Lexical is a new framework for building rich text editors. Let's build a simple WYSIWYG editor with it.",
    "cover": {
      "src": "/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-text-editor-react-tutorial.png",
      "alt": "Rich Text Editor with Lexical and React",
      "caption": {
        "raw": "Lexical integrates perfectly with React to build complex editor experiences.",
        "html": "<p>Lexical integrates perfectly with React to build complex editor experiences.</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/how-to-build-a-text-editor-with-lexical-and-react-27204c186d0f",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "Contenteditable",
      "Text Editor",
      "Rich Editor",
      "WYSIWYG",
      "Block Editor",
      "React.js",
      "Lexical",
      "Notion"
    ],
    "body": {
      "raw": "\nIn April 2022, Meta open-sourced [Lexical](https://lexical.dev/) – “an extensible text editor framework”.\n\nGiven that it powers some of the most popular web apps in the world, it especially focuses on accessibility and performance. Among other things, by its native support for React 18.\n\nThis caught my eye since a lot of text editing experiences are inherently inaccessible and struggle performance-wise as things get more complicated. Furthermore, Lexical adopted a lot of paradigms of React which makes it fairly easy to pick it up as a React developer (although it is framework agnostic).\n\nSo, I decided to give it a try and build a simple WYSIWYG editor with it.\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-react-rich-text-demo.gif\"\n  alt=\"Rich Text Editor with Lexical and React\"\n  caption=\"WYSIWYG editor built with Lexical and React\"\n/>\n\n<LearningPath\n  items={[\n    'Understanding Lexical’s foundational concepts (editor state, nodes, commands)',\n    'Setting up an editor with Lexical and React',\n    'Developing custom plugins',\n  ]}\n/>\n\n<TargetAudience>\n  React developers with beginner or intermediate text editing experience\n</TargetAudience>\n\nSo, let's jump right into it!\n\n## How To Setup Lexical with React\n\nLexical can be used with any framework of your choice – or without a framework at all. It even offers a **`@lexical/headless`** package which lets you run the editor in a Node.js environment. This can come in handy sometimes (e.g. running Lexical on the server)!\n\nIn our example, however, we will use Lexical with React.\n\nSetting up an editor with Lexical and React is fairly easy. First we need to install necessary packages:\n\n```bash\nnpm i react react-dom lexical @lexical/react\n```\n\nLexical ships with a React-specific package (`@lexical/react`) that let you compose your first editor in just a breeze:\n\n```tsx:Editor.tsx\nimport { LexicalComposer } from '@lexical/react/LexicalComposer';\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin';\nimport { ContentEditable } from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\ntype LexicalEditorProps = {\n  config: Parameters<typeof LexicalComposer>['0']['initialConfig'];\n};\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<div>Start writing...</div>}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n    </LexicalComposer>\n  );\n}\n```\n\nEach editor has a `LexicalComposer` instance at the root. This root component internally executes Lexical’s `createEditor` function and exposes the editor instance to its children, i.e. our plugins.\n\nI immediately fell in love with the paradigm of _each plugin is a React component_.\n\nThis let you build your plugins as extensible building blocks – just as regular components in React.\n\nA plugin can extend and customize the functionality of the editor, such as adding custom commands (which we will learn later on) or rendering toolbars (which we will learn too!).\n\nAs we can see, Lexical ships with pre-defined plugins, such as the `RichTextPlugin`. We can configure it with custom elements (e.g. placeholder) and get a working editor with just a few lines of code. It already provides a few handy utilities, like shortcuts to add text marks.\n\nAlthough before we try that, let’s add some styling. The editor config we passed into the `LexicalEditor` component accepts classes for each text node. Thus we can theme the editor.\n\n```tsx:Editor.tsx\nimport { LexicalComposer } from '@lexical/react/LexicalComposer';\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin';\nimport { ContentEditable } from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\ntype LexicalEditorProps = {\n  config: Parameters<typeof LexicalComposer>['0']['initialConfig'];\n};\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n    </LexicalComposer>\n  );\n}\n\nconst Placeholder = () => {\n  return (\n    <div className=\"absolute top-[1.125rem] left-[1.125rem] opacity-50\">\n      Start writing...\n    </div>\n  );\n};\n\nexport function Editor() {\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        'relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2'\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: 'lexical-editor',\n          theme: {\n            root: 'p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black',\n            link: 'cursor-pointer',\n            text: {\n              bold: 'font-semibold',\n              underline: 'underline',\n              italic: 'italic',\n              strikethrough: 'line-through',\n              underlineStrikethrough: 'underlined-line-through',\n            },\n          },\n          onError: error => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n```\n\n<Callout>\n  Note: In our example, we use [tailwindui.com](http://tailwindui.com) to style\n  our editor. For the sake of simplicity, I don’t cover the styling part in this\n  article. If you want to follow along, take a look at the final repository to\n  see the Tailwind setup.\n</Callout>\n\nAnd with a few classes added, we get this pretty neatly looking editor:\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-nodes.png\"\n  alt=\"Lexical Setup\"\n/>\n\n## Deep Dive: How Lexical Works Internally\n\nAlbeit we use `LexicalComposer` to initiate our editor with React, Lexical doesn’t use React to render regular text nodes. It comes with its own renderer. This renderer is responsible for syncing state updates to the DOM. Hence, we can only use static classes to style those.\n\nIf we want to render editor nodes with React, and thus be able to render more complex components, we would need to create a so-called decorator node. This type of node can’t hold any text content and is kind of a black hole for Lexical.\n\nThe concept of an internal editor state object that acts as single source of truth and syncs updates with the DOM seems familiar compared to other text editor frameworks.\n\nLexical, however, utilizes another interesting concept. Instead of flushing changes directly to the actual DOM, it creates a virtual DOM first. If actual and virtual DOM differ, only the changed parts get marked as “dirty” and re-render. This is great news from a performance perspective!\n\n<Callout>\n  Note: Although the concept of a virtual DOM may be familiar to React\n  developers, Lexical and React do not share the same virtual DOM. The Lexical\n  editor creates its own based on its text nodes, while React creates its own\n  based on components that may be rendered by the editor.\n</Callout>\n\n## Editor State: Persisting Content In Local Storage\n\nNow that we have a bare minimum editor up and running, let’s extend it!\n\nAs mentioned, one of Lexical core concepts is its [editor state](https://lexical.dev/docs/concepts/editor-state) – the single source of truth that represents the editor content and the selection. If we type within the editor, each keystroke dispatches an update to the editor state.\n\nTo see how the editor state works in an application, we will write our first custom plugin that syncs the editor state with an external store. Thus, users don’t lose their content when they refresh the page.\n\nFor the sake of simplicity, I chose local storage for that. But it would work similarly with any other external store.\n\nAs mentioned before, each plugin is just a React component. Our `LocalStoragePlugin` looks like this:\n\n```tsx:plugins/LocalStorage.tsx\nimport { useCallback, useEffect } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\n\nimport { debounce } from '../utils/debounce';\n\ntype LocalStoragePluginProps = {\n  namespace: string;\n};\n\nexport function LocalStoragePlugin({ namespace }: LocalStoragePluginProps) {\n  const [editor] = useLexicalComposerContext();\n\n  const saveContent = useCallback(\n    (content: string) => {\n      localStorage.setItem(namespace, content);\n    },\n    [namespace]\n  );\n\n  const debouncedSaveContent = debounce(saveContent, 500);\n\n  useEffect(() => {\n    return editor.registerUpdateListener(\n      ({ editorState, dirtyElements, dirtyLeaves }) => {\n        // Don't update if nothing changed\n        if (dirtyElements.size === 0 && dirtyLeaves.size === 0) return;\n\n        const serializedState = JSON.stringify(editorState);\n        debouncedSaveContent(serializedState);\n      }\n    );\n  }, [debouncedSaveContent, editor]);\n\n  return null;\n}\n```\n\nIn our newly created plugin, we get access to the editor instance by using the `useLexicalComposerContext` hook. Each plugin is nested within the root `LexicalEditorComposer` component, so we can simply access the editor instance like this.\n\nNext, we define a debounced callback that syncs content changes to the external store. Usually, this would the piece that updates your remote database.\n\nLastly, we create a `useEffect` hook that registers an update listener on the editor instance. In there, we can check if there are any _dirty_ elements that need to be synced with the state. If so, we call our debounced `saveContent` callback.\n\nNote that `editor.registerUpdateListener()` returns a callback to remove the update listener again. To avoid memory leaks, we use this returned callback for the cleanup function of `useEffect`.\n\nAs this plugin shouldn’t render any decoration or toolbar, we simply return `null` at the very end of the component.\n\nWith the plugin written, we can add it to our editor:\n\n```tsx:Editor.tsx\n...\n\nimport { LocalStoragePlugin } from \"./plugins/LocalStorage\";\n\n...\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n    </LexicalComposer>\n  );\n}\n\n...\n\nconst EDITOR_NAMESPACE = \"lexical-editor\";\n\nexport function Editor() {\n  const content = localStorage.getItem(EDITOR_NAMESPACE);\n\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        \"relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2\"\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: EDITOR_NAMESPACE,\n          editorState: content,\n          theme: {\n            root: \"p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black\",\n            link: \"cursor-pointer\",\n            text: {\n              bold: \"font-semibold\",\n              underline: \"underline\",\n              italic: \"italic\",\n              strikethrough: \"line-through\",\n              underlineStrikethrough: \"underlined-line-through\",\n            },\n          },\n          onError: (error) => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n```\n\nWe added two pieces:\n\n1. we inserted our `LocalStoragePlugin` as a child of the `LexicalComposer` component\n2. we retrieved the content from local storage in the `Editor` component\n\nIn this example, we used `EDITOR_NAMESPACE` as an identifier to store and retrieve our data. If `EDITOR_NAMESPACE` would be dynamic, e.g. an editor id, we could spin up several editors and store their data separately.\n\nWith that in place, we have extended our editor so that it stores our content safely in an external store, utilizing the concept of Lexical’s editor state. Now, let’s move on to the next important part of Lexical!\n\n## Nodes: Adding Headings And More Text Elements\n\nAnother foundational concept are [nodes](https://lexical.dev/docs/concepts/nodes). Nodes are the building blocks of our editor content. We can define for each type of node how it should be displayed, how it should behave on certain interactions, and what type of content it may contain.\n\nThe `ParagraphNode`, for instance, is a simple node that the `LexicalRichTextPlugin` includes already. We could, however, define more advanced node types. A `DecoratorNode` can embed a React component, for example, which allows complex renderings.\n\nUltimately, nodes define our data model. Hence, we need to tell Lexical which nodes may occur in the editor. To do that, we can extend the editor config by passing in an array of possible nodes.\n\nBut before, we need to install nodes Lexical does not automatically ship with:\n\n```bash\nnpm install --legacy-peer-deps @lexical/list @lexical/link @lexical/code\n```\n\nWith that, we can import each node from its respective package and pass it to the editor configuration:\n\n```tsx:Editor.tsx\nimport { HeadingNode, QuoteNode } from \"@lexical/rich-text\";\nimport { ListNode, ListItemNode } from \"@lexical/list\";\nimport { LinkNode } from \"@lexical/link\";\nimport { CodeNode } from \"@lexical/code\";\n\n...\n\nconst EDITOR_NODES = [\n  CodeNode,\n  HeadingNode,\n  LinkNode,\n  ListNode,\n  ListItemNode,\n  QuoteNode,\n];\n\n...\n\nexport function Editor() {\n  const content = localStorage.getItem(EDITOR_NAMESPACE);\n\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        \"relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2\"\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: EDITOR_NAMESPACE,\n          editorState: content,\n          nodes: EDITOR_NODES,\n          theme: {\n            root: \"p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black\",\n            link: \"cursor-pointer\",\n            text: {\n              bold: \"font-semibold\",\n              underline: \"underline\",\n              italic: \"italic\",\n              strikethrough: \"line-through\",\n              underlineStrikethrough: \"underlined-line-through\",\n            },\n          },\n          onError: (error) => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n```\n\nCool that was easy. Now that our editor can handle other node types, let’s add a way to create them!\n\n## Built-in Plugins: Adding Markdown Support\n\nMarkdown syntax allows us to easily create nodes of certain types. For example, typing \"_# My Lexical Editor_\" gets transformed into a heading with the title \"_My Lexical Editor_\".\n\nAdding Markdown capabilities to our editor is as simple as adding new nodes. Lexical provides a package for this too! So let’s add it by executing:\n\n```bash\nnpm install --legacy-peer-deps @lexical/markdown\n```\n\nThis package provides `TRANSFORMERS`. They configure how text input should be interpreted and handled.\n\nFor example, if the user’s text input matches the following regular expression `/^(#{1,6})\\s/`, it should turn the node into a heading node and remove the leading hashmark.\n\nThese `TRANSFORMERS` can be plugged into Lexical’s `MarkdownShortcutPlugin`. So we just need to embed the plugin in our `LexicalComposer` wrapper like this:\n\n```tsx:Editor.tsx\nimport { TRANSFORMERS } from \"@lexical/markdown\";\nimport { MarkdownShortcutPlugin } from \"@lexical/react/LexicalMarkdownShortcutPlugin\";\n\n...\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n      <MarkdownShortcutPlugin transformers={TRANSFORMERS} />\n    </LexicalComposer>\n  );\n}\n```\n\nThis gives us Markdown support with just a few lines of code. If you had custom node types which aren’t included in the default list of `TRANSFORMERS`, you could extend it as you like, of course.\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-nodes.png\"\n  alt=\"Lexical Nodes\"\n/>\n\nSo far, we got a basic WYSIWYG editor with just a few lines of code. Not bad, right?\n\nBy providing a lot of utilities, Lexical makes it easy to get something simple up and running very quickly. I like that a lot as it reduces boilerplate code and encourages best practices.\n\nBefore we wrap up this article, let’s improve our editor even further by adding a toolbar. Thus we get to know another core concept of Lexical’s internals: commands.\n\n## Custom Plugins: Creating An Actions Toolbar\n\n#### Writing Our First Command\n\nWe already learned what nodes – Lexical’s building blocks – are. To define how those building blocks react to certain interactions, we can create [commands](https://lexical.dev/docs/concepts/commands).\n\nA command is basically an event listener that holds a callback function. The function gets executed when the event occurs.\n\n```tsx\nconst CLEAR_EDITOR_COMMAND: LexicalCommand<undefined> = createCommand();\n\neditor.registerCommand(\n  CLEAR_EDITOR_COMMAND,\n  () => {\n    editor.update(() => {\n      const root = $getRoot();\n      const paragraph = $createParagraphNode();\n      root.clear();\n      root.append(paragraph);\n      paragraph.select();\n    });\n    return true;\n  },\n  LowPriority\n);\n\neditor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n```\n\nIn this example, we created a simple command that erases all editor content. We first need to run `createCommand()` and create a typed `CLEAR_EDITOR_COMMAND` variable that we can use throughout our application. With that, we can register a callback function that should run whenever the command gets dispatched.\n\nInside the callback function, we wrap our code inside `editor.update()`. Thus, we get access to the latest editor state tick and can use all $-prefixed helper functions (those are provided by Lexical itself).\n\nWe clear all content and return `true` to mark this event as handled. Thus, no other succeeding command handler is called.\n\nCommands are perfectly suited to create interactive elements such as toolbars. Since every WYSIWYG has one, let’s build our own too.\n\n#### Rendering A Toolbar Outside the Editor\n\nSince we already created a command that can clear the editor, we will start with a simple toolbar that has a button for exactly that.\n\n```tsx:plugins/Actions.tsx\nimport { useMemo } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { ClearEditorPlugin } from '@lexical/react/LexicalClearEditorPlugin';\nimport { CLEAR_EDITOR_COMMAND } from 'lexical';\n\nimport { Button } from '../components/Button';\n\nexport function ActionsPlugin() {\n  const [editor] = useLexicalComposerContext();\n\n  const MandatoryPlugins = useMemo(() => {\n    return <ClearEditorPlugin />;\n  }, []);\n\n  return (\n    <>\n      {MandatoryPlugins}\n      <div className=\"my-4\">\n        <Button\n          onClick={() => {\n            editor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n          }}\n        >\n          {ActionIcons.Clear}\n        </Button>\n      </div>\n    </>\n  );\n}\n```\n\nOur new `ActionsPlugin` is fairly simple. We, again, get access to the editor by `LexicalComposerContext`. With that, we can later call the `CLEAR_EDITOR_COMMAND` on button click.\n\nOne note: as Lexical ships with its own `ClearEditorPlugin` for React applications, we use this instead our example we previously created. By returning `<ClearEditorPlugin />` as well as our toolbar decoration, we can include the functionality of the plugin in our editor.\n\nAs you see, the paradigm of _each plugin is a component_ makes it really easy to extend our editor. Whether it's custom functionality or a React-rendered toolbar, as long as we wrap it in the `LexicalComposer` container, it just works!\n\n```tsx:Editor.tsx\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n      <MarkdownShortcutPlugin transformers={TRANSFORMERS} />\n      <ActionsPlugin />\n    </LexicalComposer>\n  );\n}\n```\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-toolbar.png\"\n  alt=\"Lexical Toolbar\"\n/>\n\nWe now have our first toolbar button! Similarly, we could add more, e.g. to undo and redo changes.\n\nBut since we already covered a lot, let’s wrap things up for now. Though, there is a tiny tweak we can add to improve the experience.\n\n#### Registering A State Update Listener\n\nRight now, we can always clear the editor, even though there is no content. Let’s disable the button if the editor is empty. We can do so with this `useEffect` that runs on any change and checks if the editor has content or not.\n\n```tsx:plugins/Actions.tsx {3,6-27,34} showLineNumbers\nexport function ActionsPlugin() {\n  ...\n  const [isEditorEmpty, setIsEditorEmpty] = useState(true);\n\n  ...\n  useEffect(\n    function checkEditorEmptyState() {\n      return editor.registerUpdateListener(({ editorState }) => {\n        editorState.read(() => {\n          const root = $getRoot();\n          const children = root.getChildren();\n\n          if (children.length > 1) {\n            setIsEditorEmpty(false);\n            return;\n          }\n\n          if ($isParagraphNode(children[0])) {\n            setIsEditorEmpty(children[0].getChildren().length === 0);\n          } else {\n            setIsEditorEmpty(false);\n          }\n        });\n      });\n    },\n    [editor]\n  );\n\n  return (\n    <>\n      {MandatoryPlugins}\n      <div className=\"my-4\">\n        <Button\n          disabled={isEditorEmpty}\n          onClick={() => {\n            editor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n          }}\n        >\n          {ActionIcons.Clear}\n        </Button>\n      </div>\n    </>\n  );\n}\n```\n\nWith this change, we can pass the `isEditorEmpty` boolean to the button and display a disabled state:\n\n<Image\n  src=\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-toolbar-disabled.png\"\n  alt=\"Lexical Toolbar Disabled\"\n/>\n\n## Wrap Up\n\nIn this article, we did a lot! We went from knowing nothing about Lexical to building a simple WYSIWYG text editor. We covered foundational concepts of Lexical, such as editor state, nodes, commands, and how everything works hand in hand with React.\n\nHave fun extending the editor with even more functionality. I already created a version that has slightly more features, such as more toolbar actions and a floating menu.\n\n[🗳️ Github Repository](https://github.com/konstantinmuenster/lexical-rich-text-react-demo)\n\n[🛝 Live Demo](https://lexical-rich-text-react-demo.vercel.app/)\n\nFeel free to play with it. If you have questions or found a bug in the application, let me know on Twitter:\n\nI am always happy about feedback!\n\nIf you are interested in learning more about Lexical, check out the [documentation](https://lexical.dev) as well as its [Discord community](https://discord.gg/KmG4wQnnD9).\n",
      "code": "var Component=(()=>{var cn=Object.create;var A=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var mn=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,pn=Object.prototype.hasOwnProperty;var q=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),bn=(a,n)=>{for(var m in n)A(a,m,{get:n[m],enumerable:!0})},ye=(a,n,m,v)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let _ of mn(n))!pn.call(a,_)&&_!==m&&A(a,_,{get:()=>n[_],enumerable:!(v=un(n,_))||v.enumerable});return a};var hn=(a,n,m)=>(m=a!=null?cn(fn(a)):{},ye(n||!a||!a.__esModule?A(m,\"default\",{value:a,enumerable:!0}):m,a)),_n=a=>ye(A({},\"__esModule\",{value:!0}),a);var De=q((wn,we)=>{we.exports=React});var Ee=q(K=>{\"use strict\";(function(){\"use strict\";var a=De(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),v=Symbol.for(\"react.fragment\"),_=Symbol.for(\"react.strict_mode\"),y=Symbol.for(\"react.profiler\"),X=Symbol.for(\"react.provider\"),Q=Symbol.for(\"react.context\"),C=Symbol.for(\"react.forward_ref\"),M=Symbol.for(\"react.suspense\"),j=Symbol.for(\"react.suspense_list\"),k=Symbol.for(\"react.memo\"),W=Symbol.for(\"react.lazy\"),ke=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Le=\"@@iterator\";function Te(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[Le];return typeof r==\"function\"?r:null}var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];Se(\"error\",e,i)}}function Se(e,r,i){{var o=w.ReactDebugCurrentFrame,d=o.getStackAddendum();d!==\"\"&&(r+=\"%s\",i=i.concat([d]));var c=i.map(function(s){return String(s)});c.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,c)}}var Pe=!1,Oe=!1,Ae=!1,Ie=!1,Me=!1,Z;Z=Symbol.for(\"react.module.reference\");function je(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===v||e===y||Me||e===_||e===M||e===j||Ie||e===ke||Pe||Oe||Ae||typeof e==\"object\"&&e!==null&&(e.$$typeof===W||e.$$typeof===k||e.$$typeof===X||e.$$typeof===Q||e.$$typeof===C||e.$$typeof===Z||e.getModuleId!==void 0))}function We(e,r,i){var o=e.displayName;if(o)return o;var d=r.displayName||r.name||\"\";return d!==\"\"?i+\"(\"+d+\")\":i}function ee(e){return e.displayName||\"Context\"}function x(e){if(e==null)return null;if(typeof e.tag==\"number\"&&p(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case v:return\"Fragment\";case m:return\"Portal\";case y:return\"Profiler\";case _:return\"StrictMode\";case M:return\"Suspense\";case j:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case Q:var r=e;return ee(r)+\".Consumer\";case X:var i=e;return ee(i._context)+\".Provider\";case C:return We(e,e.render,\"ForwardRef\");case k:var o=e.displayName||null;return o!==null?o:x(e.type)||\"Memo\";case W:{var d=e,c=d._payload,s=d._init;try{return x(s(c))}catch{return null}}}return null}var N=Object.assign,U=0,ne,te,re,ie,oe,le,se;function de(){}de.__reactDisabledLog=!0;function Fe(){{if(U===0){ne=console.log,te=console.info,re=console.warn,ie=console.error,oe=console.group,le=console.groupCollapsed,se=console.groupEnd;var e={configurable:!0,enumerable:!0,value:de,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}U++}}function Be(){{if(U--,U===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ne}),info:N({},e,{value:te}),warn:N({},e,{value:re}),error:N({},e,{value:ie}),group:N({},e,{value:oe}),groupCollapsed:N({},e,{value:le}),groupEnd:N({},e,{value:se})})}U<0&&p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var F=w.ReactCurrentDispatcher,B;function L(e,r,i){{if(B===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\\n( *(at )?)/);B=o&&o[1]||\"\"}return`\n`+B+e}}var Y=!1,T;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;T=new Ye}function ae(e,r){if(!e||Y)return\"\";{var i=T.get(e);if(i!==void 0)return i}var o;Y=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=F.current,F.current=null,Fe();try{if(r){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(g){o=g}Reflect.construct(e,[],s)}else{try{s.call()}catch(g){o=g}e.call(s.prototype)}}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack==\"string\"){for(var l=g.stack.split(`\n`),b=o.stack.split(`\n`),u=l.length-1,f=b.length-1;u>=1&&f>=0&&l[u]!==b[f];)f--;for(;u>=1&&f>=0;u--,f--)if(l[u]!==b[f]){if(u!==1||f!==1)do if(u--,f--,f<0||l[u]!==b[f]){var h=`\n`+l[u].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&T.set(e,h),h}while(u>=1&&f>=0);break}}}finally{Y=!1,F.current=c,Be(),Error.prepareStackTrace=d}var E=e?e.displayName||e.name:\"\",Ne=E?L(E):\"\";return typeof e==\"function\"&&T.set(e,Ne),Ne}function $e(e,r,i){return ae(e,!1)}function Ve(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function S(e,r,i){if(e==null)return\"\";if(typeof e==\"function\")return ae(e,Ve(e));if(typeof e==\"string\")return L(e);switch(e){case M:return L(\"Suspense\");case j:return L(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case C:return $e(e.render);case k:return S(e.type,r,i);case W:{var o=e,d=o._payload,c=o._init;try{return S(c(d),r,i)}catch{}}}return\"\"}var P=Object.prototype.hasOwnProperty,ce={},ue=w.ReactDebugCurrentFrame;function O(e){if(e){var r=e._owner,i=S(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(i)}else ue.setExtraStackFrame(null)}function Ge(e,r,i,o,d){{var c=Function.call.bind(P);for(var s in e)if(c(e,s)){var l=void 0;try{if(typeof e[s]!=\"function\"){var b=Error((o||\"React class\")+\": \"+i+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}l=e[s](r,s,o,i,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){l=u}l&&!(l instanceof Error)&&(O(d),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",i,s,typeof l),O(null)),l instanceof Error&&!(l.message in ce)&&(ce[l.message]=!0,O(d),p(\"Failed %s type: %s\",i,l.message),O(null))}}}var ze=Array.isArray;function $(e){return ze(e)}function He(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,i=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return i}}function qe(e){try{return me(e),!1}catch{return!0}}function me(e){return\"\"+e}function fe(e){if(qe(e))return p(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",He(e)),me(e)}var R=w.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0},pe,be,V;V={};function Xe(e){if(P.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Qe(e){if(P.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Je(e,r){if(typeof e.ref==\"string\"&&R.current&&r&&R.current.stateNode!==r){var i=x(R.current.type);V[i]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',x(R.current.type),e.ref),V[i]=!0)}}function Ze(e,r){{var i=function(){pe||(pe=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};i.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:i,configurable:!0})}}function en(e,r){{var i=function(){be||(be=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};i.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:i,configurable:!0})}}var nn=function(e,r,i,o,d,c,s){var l={$$typeof:n,type:e,key:r,ref:i,props:s,_owner:c};return l._store={},Object.defineProperty(l._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function tn(e,r,i,o,d){{var c,s={},l=null,b=null;i!==void 0&&(fe(i),l=\"\"+i),Qe(r)&&(fe(r.key),l=\"\"+r.key),Xe(r)&&(b=r.ref,Je(r,d));for(c in r)P.call(r,c)&&!Ke.hasOwnProperty(c)&&(s[c]=r[c]);if(e&&e.defaultProps){var u=e.defaultProps;for(c in u)s[c]===void 0&&(s[c]=u[c])}if(l||b){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;l&&Ze(s,f),b&&en(s,f)}return nn(e,l,b,d,o,R.current,s)}}var G=w.ReactCurrentOwner,he=w.ReactDebugCurrentFrame;function D(e){if(e){var r=e._owner,i=S(e.type,e._source,r?r.type:null);he.setExtraStackFrame(i)}else he.setExtraStackFrame(null)}var z;z=!1;function H(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function _e(){{if(G.current){var e=x(G.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),i=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+i+\".\"}return\"\"}}var ve={};function on(e){{var r=_e();if(!r){var i=typeof e==\"string\"?e:e.displayName||e.name;i&&(r=`\n\nCheck the top-level render call using <`+i+\">.\")}return r}}function xe(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var i=on(r);if(ve[i])return;ve[i]=!0;var o=\"\";e&&e._owner&&e._owner!==G.current&&(o=\" It was passed a child from \"+x(e._owner.type)+\".\"),D(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,o),D(null)}}function ge(e,r){{if(typeof e!=\"object\")return;if($(e))for(var i=0;i<e.length;i++){var o=e[i];H(o)&&xe(o,r)}else if(H(e))e._store&&(e._store.validated=!0);else if(e){var d=Te(e);if(typeof d==\"function\"&&d!==e.entries)for(var c=d.call(e),s;!(s=c.next()).done;)H(s.value)&&xe(s.value,r)}}}function ln(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var i;if(typeof r==\"function\")i=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===C||r.$$typeof===k))i=r.propTypes;else return;if(i){var o=x(r);Ge(i,e.props,\"prop\",o,e)}else if(r.PropTypes!==void 0&&!z){z=!0;var d=x(r);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function sn(e){{for(var r=Object.keys(e.props),i=0;i<r.length;i++){var o=r[i];if(o!==\"children\"&&o!==\"key\"){D(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),D(null);break}}e.ref!==null&&(D(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),D(null))}}function dn(e,r,i,o,d,c){{var s=je(e);if(!s){var l=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(l+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=rn(d);b?l+=b:l+=_e();var u;e===null?u=\"null\":$(e)?u=\"array\":e!==void 0&&e.$$typeof===n?(u=\"<\"+(x(e.type)||\"Unknown\")+\" />\",l=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,l)}var f=tn(e,r,i,d,c);if(f==null)return f;if(s){var h=r.children;if(h!==void 0)if(o)if($(h)){for(var E=0;E<h.length;E++)ge(h[E],e);Object.freeze&&Object.freeze(h)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(h,e)}return e===v?sn(f):ln(f),f}}var an=dn;K.Fragment=v,K.jsxDEV=an})()});var Re=q((En,Ue)=>{\"use strict\";Ue.exports=Ee()});var Nn={};bn(Nn,{default:()=>gn,frontmatter:()=>vn});var t=hn(Re()),vn={title:\"How To Build A Text Editor With Lexical and React\",summary:\"Lexical is a new framework for building rich text editors. Let's build a simple WYSIWYG editor with it.\",publishedAt:\"2023/01/10\",category:\"Engineering\",cover:{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-text-editor-react-tutorial.png\",alt:\"Rich Text Editor with Lexical and React\",caption:\"Lexical integrates perfectly with React to build complex editor experiences.\"},tags:[\"Contenteditable\",\"Text Editor\",\"Rich Editor\",\"WYSIWYG\",\"Block Editor\",\"React.js\",\"Lexical\",\"Notion\"],externals:{Medium:\"https://konstantinmuenster.medium.com/how-to-build-a-text-editor-with-lexical-and-react-27204c186d0f\"}};function Ce(a){let n=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",strong:\"strong\",code:\"code\",pre:\"pre\",em:\"em\",ol:\"ol\",li:\"li\",h4:\"h4\"},a.components),{Image:m,LearningPath:v,TargetAudience:_,Callout:y}=n;return y||I(\"Callout\",!0,\"164:1-169:11\"),m||I(\"Image\",!0,\"33:1-37:3\"),v||I(\"LearningPath\",!0,\"39:1-45:3\"),_||I(\"TargetAudience\",!0,\"47:1-49:18\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:[\"In April 2022, Meta open-sourced \",(0,t.jsxDEV)(n.a,{href:\"https://lexical.dev/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Lexical\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:25,columnNumber:34},this),\" \\u2013 \\u201Can extensible text editor framework\\u201D.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Given that it powers some of the most popular web apps in the world, it especially focuses on accessibility and performance. Among other things, by its native support for React 18.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This caught my eye since a lot of text editing experiences are inherently inaccessible and struggle performance-wise as things get more complicated. Furthermore, Lexical adopted a lot of paradigms of React which makes it fairly easy to pick it up as a React developer (although it is framework agnostic).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So, I decided to give it a try and build a simple WYSIWYG editor with it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-react-rich-text-demo.gif\",alt:\"Rich Text Editor with Lexical and React\",caption:\"WYSIWYG editor built with Lexical and React\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(v,{items:[\"Understanding Lexical\\u2019s foundational concepts (editor state, nodes, commands)\",\"Setting up an editor with Lexical and React\",\"Developing custom plugins\"]},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(_,{children:(0,t.jsxDEV)(n.p,{children:\"React developers with beginner or intermediate text editing experience\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:48,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So, let's jump right into it!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"how-to-setup-lexical-with-react\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-to-setup-lexical-with-react\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"How To Setup Lexical with React\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Lexical can be used with any framework of your choice \\u2013 or without a framework at all. It even offers a \",(0,t.jsxDEV)(n.strong,{children:(0,t.jsxDEV)(n.code,{children:\"@lexical/headless\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:55,columnNumber:107},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:55,columnNumber:105},this),\" package which lets you run the editor in a Node.js environment. This can come in handy sometimes (e.g. running Lexical on the server)!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In our example, however, we will use Lexical with React.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Setting up an editor with Lexical and React is fairly easy. First we need to install necessary packages:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-bash\",children:`npm i react react-dom lexical @lexical/react\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:61,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Lexical ships with a React-specific package (\",(0,t.jsxDEV)(n.code,{children:\"@lexical/react\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:65,columnNumber:46},this),\") that let you compose your first editor in just a breeze:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`import { LexicalComposer } from '@lexical/react/LexicalComposer';\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin';\nimport { ContentEditable } from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\ntype LexicalEditorProps = {\n  config: Parameters<typeof LexicalComposer>['0']['initialConfig'];\n};\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<div>Start writing...</div>}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n    </LexicalComposer>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:67,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Each editor has a \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:90,columnNumber:19},this),\" instance at the root. This root component internally executes Lexical\\u2019s \",(0,t.jsxDEV)(n.code,{children:\"createEditor\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:90,columnNumber:109},this),\" function and exposes the editor instance to its children, i.e. our plugins.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"I immediately fell in love with the paradigm of \",(0,t.jsxDEV)(n.em,{children:\"each plugin is a React component\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:92,columnNumber:49},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This let you build your plugins as extensible building blocks \\u2013 just as regular components in React.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:94,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"A plugin can extend and customize the functionality of the editor, such as adding custom commands (which we will learn later on) or rendering toolbars (which we will learn too!).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:96,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"As we can see, Lexical ships with pre-defined plugins, such as the \",(0,t.jsxDEV)(n.code,{children:\"RichTextPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:98,columnNumber:68},this),\". We can configure it with custom elements (e.g. placeholder) and get a working editor with just a few lines of code. It already provides a few handy utilities, like shortcuts to add text marks.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:98,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Although before we try that, let\\u2019s add some styling. The editor config we passed into the \",(0,t.jsxDEV)(n.code,{children:\"LexicalEditor\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:100,columnNumber:91},this),\" component accepts classes for each text node. Thus we can theme the editor.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:100,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`import { LexicalComposer } from '@lexical/react/LexicalComposer';\nimport { RichTextPlugin } from '@lexical/react/LexicalRichTextPlugin';\nimport { ContentEditable } from '@lexical/react/LexicalContentEditable';\nimport LexicalErrorBoundary from '@lexical/react/LexicalErrorBoundary';\n\ntype LexicalEditorProps = {\n  config: Parameters<typeof LexicalComposer>['0']['initialConfig'];\n};\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n    </LexicalComposer>\n  );\n}\n\nconst Placeholder = () => {\n  return (\n    <div className=\"absolute top-[1.125rem] left-[1.125rem] opacity-50\">\n      Start writing...\n    </div>\n  );\n};\n\nexport function Editor() {\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        'relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2'\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: 'lexical-editor',\n          theme: {\n            root: 'p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black',\n            link: 'cursor-pointer',\n            text: {\n              bold: 'font-semibold',\n              underline: 'underline',\n              italic: 'italic',\n              strikethrough: 'line-through',\n              underlineStrikethrough: 'underlined-line-through',\n            },\n          },\n          onError: error => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:102,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:102,columnNumber:1},this),`\n`,(0,t.jsxDEV)(y,{children:(0,t.jsxDEV)(n.p,{children:[\"Note: In our example, we use \",(0,t.jsxDEV)(n.a,{href:\"http://tailwindui.com\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"tailwindui.com\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:165,columnNumber:32},this),` to style\nour editor. For the sake of simplicity, I don\\u2019t cover the styling part in this\narticle. If you want to follow along, take a look at the final repository to\nsee the Tailwind setup.`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:165,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:164,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"And with a few classes added, we get this pretty neatly looking editor:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:171,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-nodes.png\",alt:\"Lexical Setup\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:173,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"deep-dive-how-lexical-works-internally\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#deep-dive-how-lexical-works-internally\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Deep Dive: How Lexical Works Internally\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:178,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Albeit we use \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:180,columnNumber:15},this),\" to initiate our editor with React, Lexical doesn\\u2019t use React to render regular text nodes. It comes with its own renderer. This renderer is responsible for syncing state updates to the DOM. Hence, we can only use static classes to style those.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:180,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If we want to render editor nodes with React, and thus be able to render more complex components, we would need to create a so-called decorator node. This type of node can\\u2019t hold any text content and is kind of a black hole for Lexical.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:182,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The concept of an internal editor state object that acts as single source of truth and syncs updates with the DOM seems familiar compared to other text editor frameworks.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:184,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Lexical, however, utilizes another interesting concept. Instead of flushing changes directly to the actual DOM, it creates a virtual DOM first. If actual and virtual DOM differ, only the changed parts get marked as \\u201Cdirty\\u201D and re-render. This is great news from a performance perspective!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:186,columnNumber:1},this),`\n`,(0,t.jsxDEV)(y,{children:(0,t.jsxDEV)(n.p,{children:`Note: Although the concept of a virtual DOM may be familiar to React\ndevelopers, Lexical and React do not share the same virtual DOM. The Lexical\neditor creates its own based on its text nodes, while React creates its own\nbased on components that may be rendered by the editor.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:189,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:188,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"editor-state-persisting-content-in-local-storage\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#editor-state-persisting-content-in-local-storage\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Editor State: Persisting Content In Local Storage\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:195,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now that we have a bare minimum editor up and running, let\\u2019s extend it!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:197,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"As mentioned, one of Lexical core concepts is its \",(0,t.jsxDEV)(n.a,{href:\"https://lexical.dev/docs/concepts/editor-state\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"editor state\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:199,columnNumber:51},this),\" \\u2013 the single source of truth that represents the editor content and the selection. If we type within the editor, each keystroke dispatches an update to the editor state.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:199,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"To see how the editor state works in an application, we will write our first custom plugin that syncs the editor state with an external store. Thus, users don\\u2019t lose their content when they refresh the page.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For the sake of simplicity, I chose local storage for that. But it would work similarly with any other external store.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:203,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"As mentioned before, each plugin is just a React component. Our \",(0,t.jsxDEV)(n.code,{children:\"LocalStoragePlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:205,columnNumber:65},this),\" looks like this:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:205,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:plugins/LocalStorage.tsx\",children:`import { useCallback, useEffect } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\n\nimport { debounce } from '../utils/debounce';\n\ntype LocalStoragePluginProps = {\n  namespace: string;\n};\n\nexport function LocalStoragePlugin({ namespace }: LocalStoragePluginProps) {\n  const [editor] = useLexicalComposerContext();\n\n  const saveContent = useCallback(\n    (content: string) => {\n      localStorage.setItem(namespace, content);\n    },\n    [namespace]\n  );\n\n  const debouncedSaveContent = debounce(saveContent, 500);\n\n  useEffect(() => {\n    return editor.registerUpdateListener(\n      ({ editorState, dirtyElements, dirtyLeaves }) => {\n        // Don't update if nothing changed\n        if (dirtyElements.size === 0 && dirtyLeaves.size === 0) return;\n\n        const serializedState = JSON.stringify(editorState);\n        debouncedSaveContent(serializedState);\n      }\n    );\n  }, [debouncedSaveContent, editor]);\n\n  return null;\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:207,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:207,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In our newly created plugin, we get access to the editor instance by using the \",(0,t.jsxDEV)(n.code,{children:\"useLexicalComposerContext\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:245,columnNumber:80},this),\" hook. Each plugin is nested within the root \",(0,t.jsxDEV)(n.code,{children:\"LexicalEditorComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:245,columnNumber:152},this),\" component, so we can simply access the editor instance like this.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:245,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Next, we define a debounced callback that syncs content changes to the external store. Usually, this would the piece that updates your remote database.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:247,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Lastly, we create a \",(0,t.jsxDEV)(n.code,{children:\"useEffect\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:249,columnNumber:21},this),\" hook that registers an update listener on the editor instance. In there, we can check if there are any \",(0,t.jsxDEV)(n.em,{children:\"dirty\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:249,columnNumber:136},this),\" elements that need to be synced with the state. If so, we call our debounced \",(0,t.jsxDEV)(n.code,{children:\"saveContent\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:249,columnNumber:221},this),\" callback.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:249,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Note that \",(0,t.jsxDEV)(n.code,{children:\"editor.registerUpdateListener()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:251,columnNumber:11},this),\" returns a callback to remove the update listener again. To avoid memory leaks, we use this returned callback for the cleanup function of \",(0,t.jsxDEV)(n.code,{children:\"useEffect\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:251,columnNumber:182},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:251,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"As this plugin shouldn\\u2019t render any decoration or toolbar, we simply return \",(0,t.jsxDEV)(n.code,{children:\"null\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:253,columnNumber:77},this),\" at the very end of the component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:253,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With the plugin written, we can add it to our editor:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:255,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`...\n\nimport { LocalStoragePlugin } from \"./plugins/LocalStorage\";\n\n...\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n    </LexicalComposer>\n  );\n}\n\n...\n\nconst EDITOR_NAMESPACE = \"lexical-editor\";\n\nexport function Editor() {\n  const content = localStorage.getItem(EDITOR_NAMESPACE);\n\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        \"relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2\"\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: EDITOR_NAMESPACE,\n          editorState: content,\n          theme: {\n            root: \"p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black\",\n            link: \"cursor-pointer\",\n            text: {\n              bold: \"font-semibold\",\n              underline: \"underline\",\n              italic: \"italic\",\n              strikethrough: \"line-through\",\n              underlineStrikethrough: \"underlined-line-through\",\n            },\n          },\n          onError: (error) => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:257,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:257,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"We added two pieces:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:316,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"we inserted our \",(0,t.jsxDEV)(n.code,{children:\"LocalStoragePlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:318,columnNumber:20},this),\" as a child of the \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:318,columnNumber:59},this),\" component\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:318,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[\"we retrieved the content from local storage in the \",(0,t.jsxDEV)(n.code,{children:\"Editor\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:319,columnNumber:55},this),\" component\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:319,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:318,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In this example, we used \",(0,t.jsxDEV)(n.code,{children:\"EDITOR_NAMESPACE\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:321,columnNumber:26},this),\" as an identifier to store and retrieve our data. If \",(0,t.jsxDEV)(n.code,{children:\"EDITOR_NAMESPACE\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:321,columnNumber:97},this),\" would be dynamic, e.g. an editor id, we could spin up several editors and store their data separately.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:321,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With that in place, we have extended our editor so that it stores our content safely in an external store, utilizing the concept of Lexical\\u2019s editor state. Now, let\\u2019s move on to the next important part of Lexical!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:323,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"nodes-adding-headings-and-more-text-elements\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#nodes-adding-headings-and-more-text-elements\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Nodes: Adding Headings And More Text Elements\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:325,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Another foundational concept are \",(0,t.jsxDEV)(n.a,{href:\"https://lexical.dev/docs/concepts/nodes\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"nodes\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:327,columnNumber:34},this),\". Nodes are the building blocks of our editor content. We can define for each type of node how it should be displayed, how it should behave on certain interactions, and what type of content it may contain.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:327,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The \",(0,t.jsxDEV)(n.code,{children:\"ParagraphNode\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:329,columnNumber:5},this),\", for instance, is a simple node that the \",(0,t.jsxDEV)(n.code,{children:\"LexicalRichTextPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:329,columnNumber:62},this),\" includes already. We could, however, define more advanced node types. A \",(0,t.jsxDEV)(n.code,{children:\"DecoratorNode\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:329,columnNumber:158},this),\" can embed a React component, for example, which allows complex renderings.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:329,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Ultimately, nodes define our data model. Hence, we need to tell Lexical which nodes may occur in the editor. To do that, we can extend the editor config by passing in an array of possible nodes.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:331,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"But before, we need to install nodes Lexical does not automatically ship with:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:333,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-bash\",children:`npm install --legacy-peer-deps @lexical/list @lexical/link @lexical/code\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:335,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:335,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With that, we can import each node from its respective package and pass it to the editor configuration:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:339,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`import { HeadingNode, QuoteNode } from \"@lexical/rich-text\";\nimport { ListNode, ListItemNode } from \"@lexical/list\";\nimport { LinkNode } from \"@lexical/link\";\nimport { CodeNode } from \"@lexical/code\";\n\n...\n\nconst EDITOR_NODES = [\n  CodeNode,\n  HeadingNode,\n  LinkNode,\n  ListNode,\n  ListItemNode,\n  QuoteNode,\n];\n\n...\n\nexport function Editor() {\n  const content = localStorage.getItem(EDITOR_NAMESPACE);\n\n  return (\n    <div\n      id=\"editor-wrapper\"\n      className={\n        \"relative prose prose-slate prose-p:my-0 prose-headings:mb-4 prose-headings:mt-2\"\n      }\n    >\n      <LexicalEditor\n        config={{\n          namespace: EDITOR_NAMESPACE,\n          editorState: content,\n          nodes: EDITOR_NODES,\n          theme: {\n            root: \"p-4 border-slate-500 border-2 rounded h-full min-h-[200px] focus:outline-none focus-visible:border-black\",\n            link: \"cursor-pointer\",\n            text: {\n              bold: \"font-semibold\",\n              underline: \"underline\",\n              italic: \"italic\",\n              strikethrough: \"line-through\",\n              underlineStrikethrough: \"underlined-line-through\",\n            },\n          },\n          onError: (error) => {\n            console.log(error);\n          },\n        }}\n      />\n    </div>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:341,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:341,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Cool that was easy. Now that our editor can handle other node types, let\\u2019s add a way to create them!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:396,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"built-in-plugins-adding-markdown-support\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#built-in-plugins-adding-markdown-support\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Built-in Plugins: Adding Markdown Support\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:398,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:['Markdown syntax allows us to easily create nodes of certain types. For example, typing \"',(0,t.jsxDEV)(n.em,{children:\"# My Lexical Editor\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:400,columnNumber:89},this),'\" gets transformed into a heading with the title \"',(0,t.jsxDEV)(n.em,{children:\"My Lexical Editor\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:400,columnNumber:160},this),'\".']},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:400,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Adding Markdown capabilities to our editor is as simple as adding new nodes. Lexical provides a package for this too! So let\\u2019s add it by executing:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:402,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-bash\",children:`npm install --legacy-peer-deps @lexical/markdown\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:404,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:404,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This package provides \",(0,t.jsxDEV)(n.code,{children:\"TRANSFORMERS\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:408,columnNumber:23},this),\". They configure how text input should be interpreted and handled.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:408,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"For example, if the user\\u2019s text input matches the following regular expression \",(0,t.jsxDEV)(n.code,{children:\"/^(#{1,6})\\\\s/\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:410,columnNumber:80},this),\", it should turn the node into a heading node and remove the leading hashmark.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:410,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"These \",(0,t.jsxDEV)(n.code,{children:\"TRANSFORMERS\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:412,columnNumber:7},this),\" can be plugged into Lexical\\u2019s \",(0,t.jsxDEV)(n.code,{children:\"MarkdownShortcutPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:412,columnNumber:52},this),\". So we just need to embed the plugin in our \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:412,columnNumber:121},this),\" wrapper like this:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:412,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`import { TRANSFORMERS } from \"@lexical/markdown\";\nimport { MarkdownShortcutPlugin } from \"@lexical/react/LexicalMarkdownShortcutPlugin\";\n\n...\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n      <MarkdownShortcutPlugin transformers={TRANSFORMERS} />\n    </LexicalComposer>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:414,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:414,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This gives us Markdown support with just a few lines of code. If you had custom node types which aren\\u2019t included in the default list of \",(0,t.jsxDEV)(n.code,{children:\"TRANSFORMERS\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:435,columnNumber:137},this),\", you could extend it as you like, of course.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:435,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-nodes.png\",alt:\"Lexical Nodes\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:437,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So far, we got a basic WYSIWYG editor with just a few lines of code. Not bad, right?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:442,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"By providing a lot of utilities, Lexical makes it easy to get something simple up and running very quickly. I like that a lot as it reduces boilerplate code and encourages best practices.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:444,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Before we wrap up this article, let\\u2019s improve our editor even further by adding a toolbar. Thus we get to know another core concept of Lexical\\u2019s internals: commands.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:446,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"custom-plugins-creating-an-actions-toolbar\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#custom-plugins-creating-an-actions-toolbar\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Custom Plugins: Creating An Actions Toolbar\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:448,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h4,{id:\"writing-our-first-command\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#writing-our-first-command\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Writing Our First Command\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:450,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"We already learned what nodes \\u2013 Lexical\\u2019s building blocks \\u2013 are. To define how those building blocks react to certain interactions, we can create \",(0,t.jsxDEV)(n.a,{href:\"https://lexical.dev/docs/concepts/commands\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"commands\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:452,columnNumber:147},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:452,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"A command is basically an event listener that holds a callback function. The function gets executed when the event occurs.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:454,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx\",children:`const CLEAR_EDITOR_COMMAND: LexicalCommand<undefined> = createCommand();\n\neditor.registerCommand(\n  CLEAR_EDITOR_COMMAND,\n  () => {\n    editor.update(() => {\n      const root = $getRoot();\n      const paragraph = $createParagraphNode();\n      root.clear();\n      root.append(paragraph);\n      paragraph.select();\n    });\n    return true;\n  },\n  LowPriority\n);\n\neditor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:456,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:456,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In this example, we created a simple command that erases all editor content. We first need to run \",(0,t.jsxDEV)(n.code,{children:\"createCommand()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:477,columnNumber:99},this),\" and create a typed \",(0,t.jsxDEV)(n.code,{children:\"CLEAR_EDITOR_COMMAND\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:477,columnNumber:136},this),\" variable that we can use throughout our application. With that, we can register a callback function that should run whenever the command gets dispatched.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:477,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Inside the callback function, we wrap our code inside \",(0,t.jsxDEV)(n.code,{children:\"editor.update()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:479,columnNumber:55},this),\". Thus, we get access to the latest editor state tick and can use all $-prefixed helper functions (those are provided by Lexical itself).\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:479,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"We clear all content and return \",(0,t.jsxDEV)(n.code,{children:\"true\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:481,columnNumber:33},this),\" to mark this event as handled. Thus, no other succeeding command handler is called.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:481,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Commands are perfectly suited to create interactive elements such as toolbars. Since every WYSIWYG has one, let\\u2019s build our own too.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:483,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h4,{id:\"rendering-a-toolbar-outside-the-editor\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#rendering-a-toolbar-outside-the-editor\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Rendering A Toolbar Outside the Editor\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:485,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Since we already created a command that can clear the editor, we will start with a simple toolbar that has a button for exactly that.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:487,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:plugins/Actions.tsx\",children:`import { useMemo } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { ClearEditorPlugin } from '@lexical/react/LexicalClearEditorPlugin';\nimport { CLEAR_EDITOR_COMMAND } from 'lexical';\n\nimport { Button } from '../components/Button';\n\nexport function ActionsPlugin() {\n  const [editor] = useLexicalComposerContext();\n\n  const MandatoryPlugins = useMemo(() => {\n    return <ClearEditorPlugin />;\n  }, []);\n\n  return (\n    <>\n      {MandatoryPlugins}\n      <div className=\"my-4\">\n        <Button\n          onClick={() => {\n            editor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n          }}\n        >\n          {ActionIcons.Clear}\n        </Button>\n      </div>\n    </>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:489,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:489,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Our new \",(0,t.jsxDEV)(n.code,{children:\"ActionsPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:521,columnNumber:9},this),\" is fairly simple. We, again, get access to the editor by \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposerContext\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:521,columnNumber:82},this),\". With that, we can later call the \",(0,t.jsxDEV)(n.code,{children:\"CLEAR_EDITOR_COMMAND\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:521,columnNumber:141},this),\" on button click.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:521,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"One note: as Lexical ships with its own \",(0,t.jsxDEV)(n.code,{children:\"ClearEditorPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:523,columnNumber:41},this),\" for React applications, we use this instead our example we previously created. By returning \",(0,t.jsxDEV)(n.code,{children:\"<ClearEditorPlugin />\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:523,columnNumber:153},this),\" as well as our toolbar decoration, we can include the functionality of the plugin in our editor.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:523,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"As you see, the paradigm of \",(0,t.jsxDEV)(n.em,{children:\"each plugin is a component\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:525,columnNumber:29},this),\" makes it really easy to extend our editor. Whether it's custom functionality or a React-rendered toolbar, as long as we wrap it in the \",(0,t.jsxDEV)(n.code,{children:\"LexicalComposer\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:525,columnNumber:193},this),\" container, it just works!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:525,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`export function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      <LocalStoragePlugin namespace={props.config.namespace} />\n      <MarkdownShortcutPlugin transformers={TRANSFORMERS} />\n      <ActionsPlugin />\n    </LexicalComposer>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:527,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:527,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-toolbar.png\",alt:\"Lexical Toolbar\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:544,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"We now have our first toolbar button! Similarly, we could add more, e.g. to undo and redo changes.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:549,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"But since we already covered a lot, let\\u2019s wrap things up for now. Though, there is a tiny tweak we can add to improve the experience.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:551,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h4,{id:\"registering-a-state-update-listener\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#registering-a-state-update-listener\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Registering A State Update Listener\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:553,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Right now, we can always clear the editor, even though there is no content. Let\\u2019s disable the button if the editor is empty. We can do so with this \",(0,t.jsxDEV)(n.code,{children:\"useEffect\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:555,columnNumber:149},this),\" that runs on any change and checks if the editor has content or not.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:555,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:plugins/Actions.tsx\",children:`export function ActionsPlugin() {\n  ...\n  const [isEditorEmpty, setIsEditorEmpty] = useState(true);\n\n  ...\n  useEffect(\n    function checkEditorEmptyState() {\n      return editor.registerUpdateListener(({ editorState }) => {\n        editorState.read(() => {\n          const root = $getRoot();\n          const children = root.getChildren();\n\n          if (children.length > 1) {\n            setIsEditorEmpty(false);\n            return;\n          }\n\n          if ($isParagraphNode(children[0])) {\n            setIsEditorEmpty(children[0].getChildren().length === 0);\n          } else {\n            setIsEditorEmpty(false);\n          }\n        });\n      });\n    },\n    [editor]\n  );\n\n  return (\n    <>\n      {MandatoryPlugins}\n      <div className=\"my-4\">\n        <Button\n          disabled={isEditorEmpty}\n          onClick={() => {\n            editor.dispatchCommand(CLEAR_EDITOR_COMMAND, undefined);\n          }}\n        >\n          {ActionIcons.Clear}\n        </Button>\n      </div>\n    </>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:557,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:557,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With this change, we can pass the \",(0,t.jsxDEV)(n.code,{children:\"isEditorEmpty\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:604,columnNumber:35},this),\" boolean to the button and display a disabled state:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:604,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-text-editor-with-lexical-and-react/lexical-toolbar-disabled.png\",alt:\"Lexical Toolbar Disabled\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:606,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"wrap-up\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wrap-up\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this),\"Wrap Up\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:611,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In this article, we did a lot! We went from knowing nothing about Lexical to building a simple WYSIWYG text editor. We covered foundational concepts of Lexical, such as editor state, nodes, commands, and how everything works hand in hand with React.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:613,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Have fun extending the editor with even more functionality. I already created a version that has slightly more features, such as more toolbar actions and a floating menu.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:615,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-rich-text-react-demo\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"\\u{1F5F3}\\uFE0F Github Repository\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:617,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:617,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.a,{href:\"https://lexical-rich-text-react-demo.vercel.app/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"\\u{1F6DD} Live Demo\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:619,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:619,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Feel free to play with it. If you have questions or found a bug in the application, let me know on Twitter:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:621,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I am always happy about feedback!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:623,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If you are interested in learning more about Lexical, check out the \",(0,t.jsxDEV)(n.a,{href:\"https://lexical.dev\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"documentation\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:625,columnNumber:69},this),\" as well as its \",(0,t.jsxDEV)(n.a,{href:\"https://discord.gg/KmG4wQnnD9\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Discord community\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:625,columnNumber:121},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:625,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\",lineNumber:1,columnNumber:1},this)}function xn(a={}){let{wrapper:n}=a.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},a,{children:(0,t.jsxDEV)(Ce,a,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx\"},this):Ce(a)}var gn=xn;function I(a,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7784a257-4940-462b-8814-e346e8833f3c.mdx`\":\"\"))}return _n(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/008-how-to-build-a-text-editor-with-lexical-and-react.mdx",
    "_raw": {
      "sourceFilePath": "posts/008-how-to-build-a-text-editor-with-lexical-and-react.mdx",
      "sourceFileName": "008-how-to-build-a-text-editor-with-lexical-and-react.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/008-how-to-build-a-text-editor-with-lexical-and-react"
    },
    "type": "Post",
    "slug": "how-to-build-a-text-editor-with-lexical-and-react"
  },
  {
    "title": "Generating Dynamic OG Images For Your Blog With Vercel OG",
    "publishedAt": "2023-03-07T21:00:00.000Z",
    "summary": "Improve your Next.js-based blog with OG images generated with @vercel/og.",
    "cover": {
      "src": "/images/posts/generating-dynamic-og-images-with-vercel-og/shubham-dhage-Hatkch_piQM-unsplash.jpg",
      "alt": "A person holding a camera",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@theshubhamdhage\" target=\"_blank\" rel=\"noopener noreferrer\">Shubham Dhage</a> on Unsplash",
        "html": "<p>Photo by Shubham Dhage on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/generating-dynamic-og-images-for-your-blog-with-vercel-og-1b5f940f6fb3",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "next.js",
      "vercel",
      "og-image",
      "automation",
      "blog",
      "seo"
    ],
    "body": {
      "raw": "\nThroughout the years, Open Graph images became more and more important. Most modern tools (like Slack, Facebook, or Twitter) automatically show a little preview image of your website whenever you share it. This is the Open Graph image (or OG image).\n\nEspecially on social media platforms, link preview images influence heavily whether or not the user decides to visit your site. A well-designed image shows your competence even before the first page view.\n\nToo bad that generating those images dynamically has been quite a struggle… until now. Vercel has a new library, called Vercel OG, that helps you create preview images on the fly.\n\nLet’s take a look how we can use it to improve our blog.\n\n<LearningPath\n  items={[\n    'Integrate `@vercel/og` in Next.js-based blog',\n    'Generate and embed dynamic OG images for each blog post',\n  ]}\n/>\n\n<TargetAudience>Beginner React developers</TargetAudience>\n\n### Installing `@vercel/og`\n\nFirst, I set up a brand new Next.js site with the [Blog Starter Kit](https://vercel.com/templates/next.js/blog-starter-kit). We will use this blog as an example throughout this article.\n\nWith the new site up and running, we can install the `@vercel/og` library:\n\n```bash\nnpm install @vercel/og\n```\n\nThat’s it for now! We do not need any further configuration.\n\n### How `@vercel/og` Works\n\nBefore we get into implementation details, let’s first have a look at how Vercel OG image works.\n\nBehind the scenes, Vercel OG uses [Satori](https://github.com/vercel/satori), a new library to convert HTML and CSS to SVGs (and other image formats).\n\nSatori was built for the edge. Hence, it is lightweight, very fast, and runs in a Node.js environment. Sounds like a perfect use-case for API routes in Next.js? It is!\n\nIn our blog, we can utilize `@vercel/og` to do the following:\n\n1. Create an API route handler like `/api/og`. For dynamically generated images, this route may accept parameters via query params (e.g. `/api/og?title=My First Blog Post`)\n2. In your API route handler, define a JSX-like syntax that represents your image. Think of a classic JSX component but instead of HTML markup, you get an image as the rendered output.\n\nAnd that’s it. In production, each generated image will be cached at the edge to avoid unnecessary executions. Hence, our second call to `/api/og?title=My First Blog Post` will serve the generated and cached image right away.\n\n### Creating A `/api/og` API Route\n\nLet’s start implementing the OG image generation for your blog.\n\nInside your `pages/api` directory, create a new file called `og.tsx`. This will be the handler for our API route.\n\n```tsx:og.tsx\nimport { ImageResponse } from '@vercel/og';\nimport { NextApiHandler } from 'next';\n\nexport const config = {\n  runtime: 'edge',\n};\n\nconst handler: NextApiHandler = async req => {\n  try {\n    return new ImageResponse(<div>My First OG Image</div>, {\n      width: 1200,\n      height: 630,\n    });\n  } catch {\n    return new Response(`Failed to generate the image`, {\n      status: 500,\n    });\n  }\n};\n\nexport default handler;\n```\n\nWith this little example, you should already see your first generated OG image. Start your development server and visit `http://localhost:3000/api/og`.\n\nIn the example, we use `ImageResponse` to convert our JSX code (the first parameter) to an image with a specific configuration (the second parameter).\n\nNote: Although it looks like that we can write regular _JSX-like_ components in our API route handler, not all HTML, CSS, and JSX features are supported due to the limitations of the edge and the Satori rendering engine.\n\n### Styling OG Images With `@vercel/og`\n\nNow that we can successfully generate images with our API route, let’s work on the image content.\n\nFor this, I created two new components (`BackgroundCanvas` and `ProfileContent`) that we can import and use in our `og.tsx` file.\n\n```tsx:og.tsx\nconst handler: NextApiHandler = async req => {\n  try {\n    return new ImageResponse(\n      (\n        <BackgroundCanvas>\n          <ProfileContent />\n        </BackgroundCanvas>\n      ),\n      {\n        width: 1200,\n        height: 630,\n      }\n    );\n  } catch {\n    return new Response(`Failed to generate the image`, {\n      status: 500,\n    });\n  }\n};\n```\n\nThe `BackgroundCanvas` component looks like this:\n\n```tsx:BackgroundCanvas.tsx\nexport const BackgroundCanvas = ({ children }: { children?: ReactNode }) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        background: 'linear-gradient(to right, #e8cbc0, #636fa4)',\n        padding: '32px',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          width: '100%',\n          height: '100%',\n          alignItems: 'center',\n          padding: '64px',\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n```\n\nSince Satori (and thus Vercel OG) does not support all CSS properties, styling your components seems a bit rough at first. But since OG images are usually quite simple, I did not run into any problems due to that.\n\nThere is also an [experimental Tailwind CSS example](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation/og-image-examples#using-tailwind-css---experimental) which may be interesting to you.\n\nThe `ProfileContent` component is a more advanced example that also embeds images and custom fonts:\n\n```tsx:ProfileContent.tsx\nexport const ProfileContent = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        height: '100%',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n      }}\n    >\n      <div style={{ display: 'flex', marginTop: '80px' }}>\n        <img\n          alt=\"Vercel\"\n          height={180}\n          src=\"data:image/svg+xml,%3Csvg width='116' height='100' fill='black' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M57.5 0L115 100H0L57.5 0z' /%3E%3C/svg%3E\"\n          width={180}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            marginLeft: '48px',\n          }}\n        >\n          <span\n            style={{\n              fontSize: '56px',\n              color: '#222',\n              paddingTop: '32px',\n              fontFamily: \"'Noto Sans', sans-serif\",\n              fontWeight: 700,\n            }}\n          >\n            Your Name\n          </span>\n          <span\n            style={{\n              fontSize: '28px',\n              color: '#222',\n              fontFamily: \"'Noto Sans', sans-serif\",\n              fontWeight: 500,\n            }}\n          >\n            Frontend Developer\n          </span>\n        </div>\n      </div>\n      <span\n        style={{\n          fontSize: '18px',\n          color: '#222',\n          fontFamily: \"'Noto Sans', sans-serif\",\n          fontWeight: 500,\n        }}\n      >\n        yourname.com\n      </span>\n    </div>\n  );\n};\n```\n\nTo resolve the specified `fontFamily` properties correctly, we need to load those fonts in our `og.tsx` file too:\n\n```tsx:og.tsx\nconst fetchNotoSansMedium = fetch(\n  new URL('../../public/fonts/NotoSans-Medium.ttf', import.meta.url).href\n).then(res => res.arrayBuffer());\n\nconst fetchNotoSansBold = fetch(\n  new URL('../../public/fonts/NotoSans-Bold.ttf', import.meta.url).href\n).then(res => res.arrayBuffer());\n\nconst handler: NextApiHandler = async () => {\n  const NotoSansBold = await fetchNotoSansBold;\n  const NotoSansMedium = await fetchNotoSansMedium;\n\n  try {\n    return new ImageResponse(\n      (\n        <BackgroundCanvas>\n          <ProfileContent />\n        </BackgroundCanvas>\n      ),\n      {\n        width: 1200,\n        height: 630,\n        fonts: [\n          {\n            name: 'Noto Sans',\n            data: NotoSansBold,\n            style: 'normal',\n            weight: 700,\n          },\n          {\n            name: 'Noto Sans',\n            data: NotoSansMedium,\n            style: 'normal',\n            weight: 500,\n          },\n        ],\n      }\n    );\n  } catch {\n    return new Response(`Failed to generate the image`, {\n      status: 500,\n    });\n  }\n};\n```\n\nBy placing our font files inside the `public` directory, we can fetch those inside our handler and pass the data along. The `ImageResponse` configuration allows us to specify multiple fonts using the `fonts` array.\n\nIf you hit your `/api/og` route again, you get this beautiful OG image:\n\n<Image\n  src=\"/images/posts/generating-dynamic-og-images-with-vercel-og/static-og-image-next-js.png\"\n  alt=\"OG image generated with Vercel OG\"\n/>\n\n### Adding The OG Image To Your Site\n\nWith the API route in place, we can add our generated OG image to our site. In Next.js, you can embed any meta properties with the `Head` component.\n\nLet’s assume you have a `Layout` component that wraps every page. To add the OG image to your site, you could extend your component like this:\n\n```tsx:Layout.tsx\nconst Layout = ({ children }: Props) => {\n  return (\n    <>\n      <Head>\n        <meta property=\"og:image\" content={`${BASE_URL}/api/og`} />\n      </Head>\n      <div className=\"min-h-screen\">\n        <main>{children}</main>\n      </div>\n      <Footer />\n    </>\n  );\n};\n```\n\nIn this example, `BASE_URL` is a variable that specifies the domain of our site based on the environment. If we run the site in development mode, this will be `http://localhost:3000`. In production, it will be whatever domain you host your site on.\n\n### Generating Dynamic OG Images For Blog Posts\n\nLastly, we want to create dynamic OG images for each individual blog post. Each image should show a little preview of the blog post title and its author.\n\nTo do that, we can extend our API route so that it accepts query params. Thus, we can call our OG image generation with dynamic data.\n\n```tsx:og.tsx\nconst handler: NextApiHandler = async req => {\n  const NotoSansBold = await fetchNotoSansBold;\n  const NotoSansMedium = await fetchNotoSansMedium;\n\n  const { searchParams } = new URL(req.url);\n\n  const hasTitle = searchParams.has('title');\n  const title = hasTitle ? searchParams.get('title') : undefined;\n\n  const Content = hasTitle ? (\n    <BlogPostContent title={title} />\n  ) : (\n    <ProfileContent />\n  );\n\n  try {\n    return new ImageResponse(<BackgroundCanvas>{Content}</BackgroundCanvas>, {\n      width: 1200,\n      height: 630,\n      fonts: [\n        {\n          name: 'Noto Sans',\n          data: NotoSansBold,\n          style: 'normal',\n          weight: 700,\n        },\n        {\n          name: 'Noto Sans',\n          data: NotoSansMedium,\n          style: 'normal',\n          weight: 500,\n        },\n      ],\n    });\n  } catch {\n    return new Response(`Failed to generate the image`, {\n      status: 500,\n    });\n  }\n};\n```\n\nWe can access the request and retrieve the `title` param from it. If there is a title specified, we simply render a different component. Pretty easy, isn’t it?\n\nIf we now call our API again with the following request: `/api/og?title=Generating Dynamic OG Images For Your Blog`, we get this image in return.\n\n<Image\n  src=\"/images/posts/generating-dynamic-og-images-with-vercel-og/dynamic-og-image-next-js.png\"\n  alt=\"OG image that is dynamically generated\"\n/>\n\nSimilarly to our first OG image, you can embed the dynamically generated OG image on your blog post page using the `Head` component:\n\n```tsx:[slug].tsx\nexport default function Post({ post, preview }: Props) {\n  const title = `${post.title} | Next.js Blog Example with ${CMS_NAME}`;\n\n  return (\n    <Layout preview={preview}>\n      <Container>\n        <Header />\n        <article className=\"mb-32\">\n          <Head>\n            <title>{title}</title>\n            <meta\n              property=\"og:image\"\n              content={`${BASE_URL}/api/og?title=${title}`}\n            />\n          </Head>\n          <PostHeader\n            title={post.title}\n            coverImage={post.coverImage}\n            date={post.date}\n            author={post.author}\n          />\n          <PostBody content={post.content} />\n        </article>\n      </Container>\n    </Layout>\n  );\n}\n```\n\nNow you automatically get an individual OG image for each blog post 🎉\n\n---\n\nWith `@vercel/og`, OG image generation got so much easier. If you want to learn more about, have a look at the [documentation](https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation).\n\nIf you want to check out the full repository of our example, here it is:\n\n[https://github.com/konstantinmuenster/next-js-blog-with-vercel-og-image](https://github.com/konstantinmuenster/next-js-blog-with-vercel-og-image)\n",
      "code": "var Component=(()=>{var cn=Object.create;var I=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var mn=Object.getPrototypeOf,vn=Object.prototype.hasOwnProperty;var H=(s,n)=>()=>(n||s((n={exports:{}}).exports,n),n.exports),bn=(s,n)=>{for(var m in n)I(s,m,{get:n[m],enumerable:!0})},ye=(s,n,m,_)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let p of fn(n))!vn.call(s,p)&&p!==m&&I(s,p,{get:()=>n[p],enumerable:!(_=un(n,p))||_.enumerable});return s};var pn=(s,n,m)=>(m=s!=null?cn(mn(s)):{},ye(n||!s||!s.__esModule?I(m,\"default\",{value:s,enumerable:!0}):m,s)),hn=s=>ye(I({},\"__esModule\",{value:!0}),s);var De=H((wn,we)=>{we.exports=React});var Ue=H(q=>{\"use strict\";(function(){\"use strict\";var s=De(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),_=Symbol.for(\"react.fragment\"),p=Symbol.for(\"react.strict_mode\"),X=Symbol.for(\"react.profiler\"),J=Symbol.for(\"react.provider\"),K=Symbol.for(\"react.context\"),S=Symbol.for(\"react.forward_ref\"),j=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),Q=Symbol.iterator,Ce=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var r=Q&&e[Q]||e[Ce];return typeof r==\"function\"?r:null}var y=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function v(e){{for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Oe(\"error\",e,o)}}function Oe(e,r,o){{var i=y.ReactDebugCurrentFrame,d=i.getStackAddendum();d!==\"\"&&(r+=\"%s\",o=o.concat([d]));var c=o.map(function(a){return String(a)});c.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,c)}}var Pe=!1,Ie=!1,je=!1,Ae=!1,Fe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Be(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===_||e===X||Fe||e===p||e===j||e===A||Ae||e===Te||Pe||Ie||je||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===R||e.$$typeof===J||e.$$typeof===K||e.$$typeof===S||e.$$typeof===Z||e.getModuleId!==void 0))}function Ge(e,r,o){var i=e.displayName;if(i)return i;var d=r.displayName||r.name||\"\";return d!==\"\"?o+\"(\"+d+\")\":o}function ee(e){return e.displayName||\"Context\"}function g(e){if(e==null)return null;if(typeof e.tag==\"number\"&&v(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case _:return\"Fragment\";case m:return\"Portal\";case X:return\"Profiler\";case p:return\"StrictMode\";case j:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case K:var r=e;return ee(r)+\".Consumer\";case J:var o=e;return ee(o._context)+\".Provider\";case S:return Ge(e,e.render,\"ForwardRef\");case R:var i=e.displayName||null;return i!==null?i:g(e.type)||\"Memo\";case F:{var d=e,c=d._payload,a=d._init;try{return g(a(c))}catch{return null}}}return null}var x=Object.assign,U=0,ne,te,re,oe,ie,le,ae;function de(){}de.__reactDisabledLog=!0;function Me(){{if(U===0){ne=console.log,te=console.info,re=console.warn,oe=console.error,ie=console.group,le=console.groupCollapsed,ae=console.groupEnd;var e={configurable:!0,enumerable:!0,value:de,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}U++}}function Le(){{if(U--,U===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:ne}),info:x({},e,{value:te}),warn:x({},e,{value:re}),error:x({},e,{value:oe}),group:x({},e,{value:ie}),groupCollapsed:x({},e,{value:le}),groupEnd:x({},e,{value:ae})})}U<0&&v(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var B=y.ReactCurrentDispatcher,G;function T(e,r,o){{if(G===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\\n( *(at )?)/);G=i&&i[1]||\"\"}return`\n`+G+e}}var M=!1,C;{var We=typeof WeakMap==\"function\"?WeakMap:Map;C=new We}function se(e,r){if(!e||M)return\"\";{var o=C.get(e);if(o!==void 0)return o}var i;M=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=B.current,B.current=null,Me();try{if(r){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(a,[])}catch(N){i=N}Reflect.construct(e,[],a)}else{try{a.call()}catch(N){i=N}e.call(a.prototype)}}else{try{throw Error()}catch(N){i=N}e()}}catch(N){if(N&&i&&typeof N.stack==\"string\"){for(var l=N.stack.split(`\n`),b=i.stack.split(`\n`),u=l.length-1,f=b.length-1;u>=1&&f>=0&&l[u]!==b[f];)f--;for(;u>=1&&f>=0;u--,f--)if(l[u]!==b[f]){if(u!==1||f!==1)do if(u--,f--,f<0||l[u]!==b[f]){var h=`\n`+l[u].replace(\" at new \",\" at \");return e.displayName&&h.includes(\"<anonymous>\")&&(h=h.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&C.set(e,h),h}while(u>=1&&f>=0);break}}}finally{M=!1,B.current=c,Le(),Error.prepareStackTrace=d}var D=e?e.displayName||e.name:\"\",xe=D?T(D):\"\";return typeof e==\"function\"&&C.set(e,xe),xe}function Ve(e,r,o){return se(e,!1)}function $e(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function k(e,r,o){if(e==null)return\"\";if(typeof e==\"function\")return se(e,$e(e));if(typeof e==\"string\")return T(e);switch(e){case j:return T(\"Suspense\");case A:return T(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case S:return Ve(e.render);case R:return k(e.type,r,o);case F:{var i=e,d=i._payload,c=i._init;try{return k(c(d),r,o)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,ce={},ue=y.ReactDebugCurrentFrame;function P(e){if(e){var r=e._owner,o=k(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(o)}else ue.setExtraStackFrame(null)}function Ye(e,r,o,i,d){{var c=Function.call.bind(O);for(var a in e)if(c(e,a)){var l=void 0;try{if(typeof e[a]!=\"function\"){var b=Error((i||\"React class\")+\": \"+o+\" type `\"+a+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[a]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}l=e[a](r,a,i,o,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){l=u}l&&!(l instanceof Error)&&(P(d),v(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",o,a,typeof l),P(null)),l instanceof Error&&!(l.message in ce)&&(ce[l.message]=!0,P(d),v(\"Failed %s type: %s\",o,l.message),P(null))}}}var He=Array.isArray;function L(e){return He(e)}function qe(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,o=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return o}}function ze(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function me(e){if(ze(e))return v(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),fe(e)}var E=y.ReactCurrentOwner,Xe={key:!0,ref:!0,__self:!0,__source:!0},ve,be,W;W={};function Je(e){if(O.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Ke(e){if(O.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Qe(e,r){if(typeof e.ref==\"string\"&&E.current&&r&&E.current.stateNode!==r){var o=g(E.current.type);W[o]||(v('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',g(E.current.type),e.ref),W[o]=!0)}}function Ze(e,r){{var o=function(){ve||(ve=!0,v(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:o,configurable:!0})}}function en(e,r){{var o=function(){be||(be=!0,v(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:o,configurable:!0})}}var nn=function(e,r,o,i,d,c,a){var l={$$typeof:n,type:e,key:r,ref:o,props:a,_owner:c};return l._store={},Object.defineProperty(l._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:d}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function tn(e,r,o,i,d){{var c,a={},l=null,b=null;o!==void 0&&(me(o),l=\"\"+o),Ke(r)&&(me(r.key),l=\"\"+r.key),Je(r)&&(b=r.ref,Qe(r,d));for(c in r)O.call(r,c)&&!Xe.hasOwnProperty(c)&&(a[c]=r[c]);if(e&&e.defaultProps){var u=e.defaultProps;for(c in u)a[c]===void 0&&(a[c]=u[c])}if(l||b){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;l&&Ze(a,f),b&&en(a,f)}return nn(e,l,b,d,i,E.current,a)}}var V=y.ReactCurrentOwner,pe=y.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,o=k(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(o)}else pe.setExtraStackFrame(null)}var $;$=!1;function Y(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function he(){{if(V.current){var e=g(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),o=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+o+\".\"}return\"\"}}var _e={};function on(e){{var r=he();if(!r){var o=typeof e==\"string\"?e:e.displayName||e.name;o&&(r=`\n\nCheck the top-level render call using <`+o+\">.\")}return r}}function ge(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var o=on(r);if(_e[o])return;_e[o]=!0;var i=\"\";e&&e._owner&&e._owner!==V.current&&(i=\" It was passed a child from \"+g(e._owner.type)+\".\"),w(e),v('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',o,i),w(null)}}function Ne(e,r){{if(typeof e!=\"object\")return;if(L(e))for(var o=0;o<e.length;o++){var i=e[o];Y(i)&&ge(i,r)}else if(Y(e))e._store&&(e._store.validated=!0);else if(e){var d=ke(e);if(typeof d==\"function\"&&d!==e.entries)for(var c=d.call(e),a;!(a=c.next()).done;)Y(a.value)&&ge(a.value,r)}}}function ln(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var o;if(typeof r==\"function\")o=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===S||r.$$typeof===R))o=r.propTypes;else return;if(o){var i=g(r);Ye(o,e.props,\"prop\",i,e)}else if(r.PropTypes!==void 0&&!$){$=!0;var d=g(r);v(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",d||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&v(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var r=Object.keys(e.props),o=0;o<r.length;o++){var i=r[o];if(i!==\"children\"&&i!==\"key\"){w(e),v(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),w(null);break}}e.ref!==null&&(w(e),v(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function dn(e,r,o,i,d,c){{var a=Be(e);if(!a){var l=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(l+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=rn(d);b?l+=b:l+=he();var u;e===null?u=\"null\":L(e)?u=\"array\":e!==void 0&&e.$$typeof===n?(u=\"<\"+(g(e.type)||\"Unknown\")+\" />\",l=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,v(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,l)}var f=tn(e,r,o,d,c);if(f==null)return f;if(a){var h=r.children;if(h!==void 0)if(i)if(L(h)){for(var D=0;D<h.length;D++)Ne(h[D],e);Object.freeze&&Object.freeze(h)}else v(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else Ne(h,e)}return e===_?an(f):ln(f),f}}var sn=dn;q.Fragment=_,q.jsxDEV=sn})()});var Se=H((Un,Ee)=>{\"use strict\";Ee.exports=Ue()});var xn={};bn(xn,{default:()=>Nn,frontmatter:()=>_n});var t=pn(Se()),_n={title:\"Generating Dynamic OG Images For Your Blog With Vercel OG\",summary:\"Improve your Next.js-based blog with OG images generated with @vercel/og.\",category:\"Engineering\",cover:{src:\"/images/posts/generating-dynamic-og-images-with-vercel-og/shubham-dhage-Hatkch_piQM-unsplash.jpg\",alt:\"A person holding a camera\",caption:'Photo by <a href=\"https://unsplash.com/@theshubhamdhage\" target=\"_blank\" rel=\"noopener noreferrer\">Shubham Dhage</a> on Unsplash'},tags:[\"next.js\",\"vercel\",\"og-image\",\"automation\",\"blog\",\"seo\"],publishedAt:\"2023/03/08\",externals:{Medium:\"https://konstantinmuenster.medium.com/generating-dynamic-og-images-for-your-blog-with-vercel-og-1b5f940f6fb3\"}};function Re(s){let n=Object.assign({p:\"p\",h3:\"h3\",a:\"a\",span:\"span\",code:\"code\",pre:\"pre\",ol:\"ol\",li:\"li\",em:\"em\",hr:\"hr\"},s.components),{LearningPath:m,TargetAudience:_,Image:p}=n;return p||z(\"Image\",!0,\"275:1-278:3\"),m||z(\"LearningPath\",!0,\"23:1-28:3\"),_||z(\"TargetAudience\",!0,\"30:1-30:59\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:\"Throughout the years, Open Graph images became more and more important. Most modern tools (like Slack, Facebook, or Twitter) automatically show a little preview image of your website whenever you share it. This is the Open Graph image (or OG image).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Especially on social media platforms, link preview images influence heavily whether or not the user decides to visit your site. A well-designed image shows your competence even before the first page view.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Too bad that generating those images dynamically has been quite a struggle\\u2026 until now. Vercel has a new library, called Vercel OG, that helps you create preview images on the fly.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s take a look how we can use it to improve our blog.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{items:[\"Integrate `@vercel/og` in Next.js-based blog\",\"Generate and embed dynamic OG images for each blog post\"]},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(_,{children:\"Beginner React developers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"installing-vercelog\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#installing-vercelog\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"Installing \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:32,columnNumber:16},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"First, I set up a brand new Next.js site with the \",(0,t.jsxDEV)(n.a,{href:\"https://vercel.com/templates/next.js/blog-starter-kit\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Blog Starter Kit\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:34,columnNumber:51},this),\". We will use this blog as an example throughout this article.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With the new site up and running, we can install the \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:36,columnNumber:54},this),\" library:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-bash\",children:`npm install @vercel/og\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:38,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:38,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"That\\u2019s it for now! We do not need any further configuration.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"how-vercelog-works\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-vercelog-works\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"How \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:44,columnNumber:9},this),\" Works\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Before we get into implementation details, let\\u2019s first have a look at how Vercel OG image works.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Behind the scenes, Vercel OG uses \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/vercel/satori\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Satori\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:48,columnNumber:35},this),\", a new library to convert HTML and CSS to SVGs (and other image formats).\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Satori was built for the edge. Hence, it is lightweight, very fast, and runs in a Node.js environment. Sounds like a perfect use-case for API routes in Next.js? It is!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In our blog, we can utilize \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:52,columnNumber:29},this),\" to do the following:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"Create an API route handler like \",(0,t.jsxDEV)(n.code,{children:\"/api/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:54,columnNumber:37},this),\". For dynamically generated images, this route may accept parameters via query params (e.g. \",(0,t.jsxDEV)(n.code,{children:\"/api/og?title=My First Blog Post\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:54,columnNumber:138},this),\")\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"In your API route handler, define a JSX-like syntax that represents your image. Think of a classic JSX component but instead of HTML markup, you get an image as the rendered output.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:55,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"And that\\u2019s it. In production, each generated image will be cached at the edge to avoid unnecessary executions. Hence, our second call to \",(0,t.jsxDEV)(n.code,{children:\"/api/og?title=My First Blog Post\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:57,columnNumber:138},this),\" will serve the generated and cached image right away.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"creating-a-apiog-api-route\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-a-apiog-api-route\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"Creating A \",(0,t.jsxDEV)(n.code,{children:\"/api/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:59,columnNumber:16},this),\" API Route\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s start implementing the OG image generation for your blog.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Inside your \",(0,t.jsxDEV)(n.code,{children:\"pages/api\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:63,columnNumber:13},this),\" directory, create a new file called \",(0,t.jsxDEV)(n.code,{children:\"og.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:63,columnNumber:61},this),\". This will be the handler for our API route.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:63,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:og.tsx\",children:`import { ImageResponse } from '@vercel/og';\nimport { NextApiHandler } from 'next';\n\nexport const config = {\n  runtime: 'edge',\n};\n\nconst handler: NextApiHandler = async req => {\n  try {\n    return new ImageResponse(<div>My First OG Image</div>, {\n      width: 1200,\n      height: 630,\n    });\n  } catch {\n    return new Response(\\`Failed to generate the image\\`, {\n      status: 500,\n    });\n  }\n};\n\nexport default handler;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:65,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With this little example, you should already see your first generated OG image. Start your development server and visit \",(0,t.jsxDEV)(n.code,{children:\"http://localhost:3000/api/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:89,columnNumber:121},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In the example, we use \",(0,t.jsxDEV)(n.code,{children:\"ImageResponse\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:91,columnNumber:24},this),\" to convert our JSX code (the first parameter) to an image with a specific configuration (the second parameter).\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Note: Although it looks like that we can write regular \",(0,t.jsxDEV)(n.em,{children:\"JSX-like\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:93,columnNumber:56},this),\" components in our API route handler, not all HTML, CSS, and JSX features are supported due to the limitations of the edge and the Satori rendering engine.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"styling-og-images-with-vercelog\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#styling-og-images-with-vercelog\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"Styling OG Images With \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:95,columnNumber:28},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now that we can successfully generate images with our API route, let\\u2019s work on the image content.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"For this, I created two new components (\",(0,t.jsxDEV)(n.code,{children:\"BackgroundCanvas\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:99,columnNumber:41},this),\" and \",(0,t.jsxDEV)(n.code,{children:\"ProfileContent\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:99,columnNumber:64},this),\") that we can import and use in our \",(0,t.jsxDEV)(n.code,{children:\"og.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:99,columnNumber:116},this),\" file.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:og.tsx\",children:`const handler: NextApiHandler = async req => {\n  try {\n    return new ImageResponse(\n      (\n        <BackgroundCanvas>\n          <ProfileContent />\n        </BackgroundCanvas>\n      ),\n      {\n        width: 1200,\n        height: 630,\n      }\n    );\n  } catch {\n    return new Response(\\`Failed to generate the image\\`, {\n      status: 500,\n    });\n  }\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:101,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The \",(0,t.jsxDEV)(n.code,{children:\"BackgroundCanvas\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:123,columnNumber:5},this),\" component looks like this:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:BackgroundCanvas.tsx\",children:`export const BackgroundCanvas = ({ children }: { children?: ReactNode }) => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        width: '100%',\n        height: '100%',\n        background: 'linear-gradient(to right, #e8cbc0, #636fa4)',\n        padding: '32px',\n      }}\n    >\n      <div\n        style={{\n          display: 'flex',\n          width: '100%',\n          height: '100%',\n          alignItems: 'center',\n          padding: '64px',\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:125,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Since Satori (and thus Vercel OG) does not support all CSS properties, styling your components seems a bit rough at first. But since OG images are usually quite simple, I did not run into any problems due to that.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:153,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"There is also an \",(0,t.jsxDEV)(n.a,{href:\"https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation/og-image-examples#using-tailwind-css---experimental\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"experimental Tailwind CSS example\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:155,columnNumber:18},this),\" which may be interesting to you.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:155,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"The \",(0,t.jsxDEV)(n.code,{children:\"ProfileContent\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:157,columnNumber:5},this),\" component is a more advanced example that also embeds images and custom fonts:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:ProfileContent.tsx\",children:`export const ProfileContent = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        height: '100%',\n        flexDirection: 'column',\n        justifyContent: 'space-between',\n      }}\n    >\n      <div style={{ display: 'flex', marginTop: '80px' }}>\n        <img\n          alt=\"Vercel\"\n          height={180}\n          src=\"data:image/svg+xml,%3Csvg width='116' height='100' fill='black' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M57.5 0L115 100H0L57.5 0z' /%3E%3C/svg%3E\"\n          width={180}\n        />\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            marginLeft: '48px',\n          }}\n        >\n          <span\n            style={{\n              fontSize: '56px',\n              color: '#222',\n              paddingTop: '32px',\n              fontFamily: \"'Noto Sans', sans-serif\",\n              fontWeight: 700,\n            }}\n          >\n            Your Name\n          </span>\n          <span\n            style={{\n              fontSize: '28px',\n              color: '#222',\n              fontFamily: \"'Noto Sans', sans-serif\",\n              fontWeight: 500,\n            }}\n          >\n            Frontend Developer\n          </span>\n        </div>\n      </div>\n      <span\n        style={{\n          fontSize: '18px',\n          color: '#222',\n          fontFamily: \"'Noto Sans', sans-serif\",\n          fontWeight: 500,\n        }}\n      >\n        yourname.com\n      </span>\n    </div>\n  );\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:159,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:159,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"To resolve the specified \",(0,t.jsxDEV)(n.code,{children:\"fontFamily\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:222,columnNumber:26},this),\" properties correctly, we need to load those fonts in our \",(0,t.jsxDEV)(n.code,{children:\"og.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:222,columnNumber:96},this),\" file too:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:222,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:og.tsx\",children:`const fetchNotoSansMedium = fetch(\n  new URL('../../public/fonts/NotoSans-Medium.ttf', import.meta.url).href\n).then(res => res.arrayBuffer());\n\nconst fetchNotoSansBold = fetch(\n  new URL('../../public/fonts/NotoSans-Bold.ttf', import.meta.url).href\n).then(res => res.arrayBuffer());\n\nconst handler: NextApiHandler = async () => {\n  const NotoSansBold = await fetchNotoSansBold;\n  const NotoSansMedium = await fetchNotoSansMedium;\n\n  try {\n    return new ImageResponse(\n      (\n        <BackgroundCanvas>\n          <ProfileContent />\n        </BackgroundCanvas>\n      ),\n      {\n        width: 1200,\n        height: 630,\n        fonts: [\n          {\n            name: 'Noto Sans',\n            data: NotoSansBold,\n            style: 'normal',\n            weight: 700,\n          },\n          {\n            name: 'Noto Sans',\n            data: NotoSansMedium,\n            style: 'normal',\n            weight: 500,\n          },\n        ],\n      }\n    );\n  } catch {\n    return new Response(\\`Failed to generate the image\\`, {\n      status: 500,\n    });\n  }\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:224,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:224,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"By placing our font files inside the \",(0,t.jsxDEV)(n.code,{children:\"public\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:271,columnNumber:38},this),\" directory, we can fetch those inside our handler and pass the data along. The \",(0,t.jsxDEV)(n.code,{children:\"ImageResponse\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:271,columnNumber:125},this),\" configuration allows us to specify multiple fonts using the \",(0,t.jsxDEV)(n.code,{children:\"fonts\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:271,columnNumber:201},this),\" array.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:271,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If you hit your \",(0,t.jsxDEV)(n.code,{children:\"/api/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:273,columnNumber:17},this),\" route again, you get this beautiful OG image:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:273,columnNumber:1},this),`\n`,(0,t.jsxDEV)(p,{src:\"/images/posts/generating-dynamic-og-images-with-vercel-og/static-og-image-next-js.png\",alt:\"OG image generated with Vercel OG\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:275,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"adding-the-og-image-to-your-site\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#adding-the-og-image-to-your-site\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"Adding The OG Image To Your Site\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:280,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With the API route in place, we can add our generated OG image to our site. In Next.js, you can embed any meta properties with the \",(0,t.jsxDEV)(n.code,{children:\"Head\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:282,columnNumber:132},this),\" component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:282,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Let\\u2019s assume you have a \",(0,t.jsxDEV)(n.code,{children:\"Layout\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:284,columnNumber:25},this),\" component that wraps every page. To add the OG image to your site, you could extend your component like this:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:284,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Layout.tsx\",children:`const Layout = ({ children }: Props) => {\n  return (\n    <>\n      <Head>\n        <meta property=\"og:image\" content={\\`\\${BASE_URL}/api/og\\`} />\n      </Head>\n      <div className=\"min-h-screen\">\n        <main>{children}</main>\n      </div>\n      <Footer />\n    </>\n  );\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:286,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:286,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In this example, \",(0,t.jsxDEV)(n.code,{children:\"BASE_URL\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:302,columnNumber:18},this),\" is a variable that specifies the domain of our site based on the environment. If we run the site in development mode, this will be \",(0,t.jsxDEV)(n.code,{children:\"http://localhost:3000\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:302,columnNumber:160},this),\". In production, it will be whatever domain you host your site on.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:302,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"generating-dynamic-og-images-for-blog-posts\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#generating-dynamic-og-images-for-blog-posts\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this),\"Generating Dynamic OG Images For Blog Posts\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:304,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Lastly, we want to create dynamic OG images for each individual blog post. Each image should show a little preview of the blog post title and its author.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:306,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"To do that, we can extend our API route so that it accepts query params. Thus, we can call our OG image generation with dynamic data.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:308,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:og.tsx\",children:`const handler: NextApiHandler = async req => {\n  const NotoSansBold = await fetchNotoSansBold;\n  const NotoSansMedium = await fetchNotoSansMedium;\n\n  const { searchParams } = new URL(req.url);\n\n  const hasTitle = searchParams.has('title');\n  const title = hasTitle ? searchParams.get('title') : undefined;\n\n  const Content = hasTitle ? (\n    <BlogPostContent title={title} />\n  ) : (\n    <ProfileContent />\n  );\n\n  try {\n    return new ImageResponse(<BackgroundCanvas>{Content}</BackgroundCanvas>, {\n      width: 1200,\n      height: 630,\n      fonts: [\n        {\n          name: 'Noto Sans',\n          data: NotoSansBold,\n          style: 'normal',\n          weight: 700,\n        },\n        {\n          name: 'Noto Sans',\n          data: NotoSansMedium,\n          style: 'normal',\n          weight: 500,\n        },\n      ],\n    });\n  } catch {\n    return new Response(\\`Failed to generate the image\\`, {\n      status: 500,\n    });\n  }\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:310,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:310,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"We can access the request and retrieve the \",(0,t.jsxDEV)(n.code,{children:\"title\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:353,columnNumber:44},this),\" param from it. If there is a title specified, we simply render a different component. Pretty easy, isn\\u2019t it?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:353,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If we now call our API again with the following request: \",(0,t.jsxDEV)(n.code,{children:\"/api/og?title=Generating Dynamic OG Images For Your Blog\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:355,columnNumber:58},this),\", we get this image in return.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:355,columnNumber:1},this),`\n`,(0,t.jsxDEV)(p,{src:\"/images/posts/generating-dynamic-og-images-with-vercel-og/dynamic-og-image-next-js.png\",alt:\"OG image that is dynamically generated\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:357,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Similarly to our first OG image, you can embed the dynamically generated OG image on your blog post page using the \",(0,t.jsxDEV)(n.code,{children:\"Head\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:362,columnNumber:116},this),\" component:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:362,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:[slug].tsx\",children:`export default function Post({ post, preview }: Props) {\n  const title = \\`\\${post.title} | Next.js Blog Example with \\${CMS_NAME}\\`;\n\n  return (\n    <Layout preview={preview}>\n      <Container>\n        <Header />\n        <article className=\"mb-32\">\n          <Head>\n            <title>{title}</title>\n            <meta\n              property=\"og:image\"\n              content={\\`\\${BASE_URL}/api/og?title=\\${title}\\`}\n            />\n          </Head>\n          <PostHeader\n            title={post.title}\n            coverImage={post.coverImage}\n            date={post.date}\n            author={post.author}\n          />\n          <PostBody content={post.content} />\n        </article>\n      </Container>\n    </Layout>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:364,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:364,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now you automatically get an individual OG image for each blog post \\u{1F389}\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:394,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:396,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With \",(0,t.jsxDEV)(n.code,{children:\"@vercel/og\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:398,columnNumber:6},this),\", OG image generation got so much easier. If you want to learn more about, have a look at the \",(0,t.jsxDEV)(n.a,{href:\"https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"documentation\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:398,columnNumber:112},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:398,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you want to check out the full repository of our example, here it is:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:400,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/next-js-blog-with-vercel-og-image\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"https://github.com/konstantinmuenster/next-js-blog-with-vercel-og-image\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:402,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:402,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\",lineNumber:1,columnNumber:1},this)}function gn(s={}){let{wrapper:n}=s.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},s,{children:(0,t.jsxDEV)(Re,s,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx\"},this):Re(s)}var Nn=gn;function z(s,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-fac287d3-24fe-4ebe-8696-af2c3ccda135.mdx`\":\"\"))}return hn(xn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/009-generating-dynamic-og-images-with-vercel-og.mdx",
    "_raw": {
      "sourceFilePath": "posts/009-generating-dynamic-og-images-with-vercel-og.mdx",
      "sourceFileName": "009-generating-dynamic-og-images-with-vercel-og.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/009-generating-dynamic-og-images-with-vercel-og"
    },
    "type": "Post",
    "slug": "generating-dynamic-og-images-with-vercel-og"
  },
  {
    "title": "3 Tips To Write Better Code As A Beginner Frontend Developer",
    "publishedAt": "2023-04-03T21:00:00.000Z",
    "summary": "As a beginner, you don’t think about coding style. Implement these three principles to improve your code base immediately.",
    "cover": {
      "src": "/images/posts/3-tips-to-write-better-code-as-junior-developer/alex-kotliarskyi-ourQHRTE2IM-unsplash.jpg",
      "alt": "A person sitting in front of a laptop",
      "caption": {
        "raw": "Photo by <a href=\"https://unsplash.com/@frantic\" target=\"_blank\" rel=\"noopener noreferrer\">Alex Kotliarskyi</a> on Unsplash",
        "html": "<p>Photo by Alex Kotliarskyi on Unsplash</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://konstantinmuenster.medium.com/3-tips-to-write-better-code-as-a-beginner-frontend-developer-ea0fe9b3492c",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "principles",
      "coding practice",
      "self-taught",
      "beginner",
      "code style"
    ],
    "body": {
      "raw": "\nOver the course of the last months, I had the opportunity to mentor a group of talented new web developers who participated in [TechLabs’ digital shaper program](https://techlabs.org/).\n\nIt was really fun to see the groups’ learning progress from zero to deployed application. While I was reviewing their first bits of code, it reminded me of my first years as a developer.\n\nEspecially if you are self-taught and don’t have any formal education, you just rock n roll. You don’t have any feeling for good or bad code practices. You are happy about anything that works.\n\nThis got me thinking: “Which coding principles do I wish I had known earlier?”. Well, here they are!\n\nYou can implement these simple tips in your coding practice right away. But although simple, they changed a lot in how I write code.\n\n<Callout>\n  The principles are applicable to all areas of programming, even though the\n  title says ‘frontend developers’ specifically.\n</Callout>\n\n## 1. “Return Early” Instead Of Nested Conditions\n\nIn web development, you have a lot of situations in which you have to check if certain conditions are met.\n\nLet’s take the example of an API route that validates a request and returns an user object:\n\n```jsx\nexport const handler = async (req, res) => {\n  if (req.method === 'POST' || req.method === 'OPTIONS') {\n    const email = validateEmail(req.body.email);\n    if (email) {\n      const user = getUserByEmail(email);\n      if (user) {\n        return res.status(200).json({ user });\n      } else {\n        return res.status(404).json({ message: 'No user found' });\n      }\n    } else {\n      return res.status(422).json({ message: 'Missing email' });\n    }\n  } else {\n    return res.status(405).json({ message: 'Unsupported message' });\n  }\n};\n```\n\nAlthough we don’t have that much of logic incapsulated in this function, it already looks quite a bit cluttered. Specifically, there are two issues with this code:\n\n1. It is hard to follow the flow of code. Instead of reading top-to-bottom, we need to read left-to-right ([Arrow-Anti-Pattern](http://wiki.c2.com/?ArrowAntiPattern)).\n2. It is hard to figure out the corresponding _else_ for each **if**. They are separated by the big body of the if statement.\n\nA simple technique to improve this code is to incorporate the **Return-Early-Pattern**.\n\nThe Return-Early-Pattern terminates the execution of functions when conditions are not met. So that the expected result of the function is always at the very end.\n\nIf we rewrite the API route from above, it would look like:\n\n```jsx\nexport const handler = async (req, res) => {\n  if (req.method !== 'POST' && !req.method !== 'OPTIONS') {\n    return res.status(405).json({ message: 'Unsupported message' });\n  }\n\n  const email = validateEmail(req.body.email);\n  if (!email) {\n    return res.status(422).json({ message: 'Missing email' });\n  }\n\n  const user = getUserByEmail(email);\n  if (!user) {\n    return res.status(404).json({ message: 'No user found' });\n  }\n\n  return res.status(200).json({ user });\n};\n```\n\nWith the Return-Early-Pattern in place, we can easily follow the code execution from top to bottom. Since we assume a happy path and only check for missing values, we avoid nesting too many conditions.\n\nLastly, we can see at first glance the expected outcome of the function at the very bottom.\n\n## 2. Writing Code For Humans\n\nGeneralizing what we did in the previous tip leads us to the second principle: write code that’s easily read by your coworkers, not the machine.\n\nThis sounds trivial, but it changed my thinking tremendously at first.\n\nWhen I started programming, I always perceived it as a way to communicate to the computer. We tell the machine what to do. Yet the code that we write is read by our coworkers - not the machine.\n\nOur coworkers are the ones who need to read and understand the code. The computer in the end transpiles everything to 0s and 1s and does not care about readability.\n\nLet’s take this `groupBy` function as an example:\n\n```jsx\nconst groupBy = (arr, groupFn) =>\n  arr.reduce(\n    (grouped, obj) => ({\n      ...grouped,\n      [groupFn(obj)]: [...(grouped[groupFn(obj)] || []), obj],\n    }),\n    {}\n  );\n```\n\nWe clearly demonstrated that we can write complicated one-liner functions to do a simple operation: take an array and group it.\n\nWhile this may let you feel a bit more senior, it for sure makes things harder to understand for anyone who needs to review this.\n\nConsider this implementation instead:\n\n```jsx\nconst groupBy = (arr, groupFn) => {\n  const grouped = {};\n  for (const obj of arr) {\n    const groupName = groupFn(obj);\n    if (!grouped[groupName]) {\n      grouped[groupName] = [];\n    }\n    grouped[groupName].push(obj);\n  }\n  return grouped;\n};\n```\n\nWe can read it from top to bottom and instantly know what happens on every line.\n\nIt may not look as cool as the previous example - true! But everybody who revisits this function in the future will thank you for this readable implementation.\n\n## 3. Hiding Information Behind Functions\n\nThe last idea to improve your code style as a junior developer is to hide irrelevant information behind functions. This also benefits readability.\n\nIf you are familiar with React, hooks are a great example for this principle:\n\n```jsx\nimport React, { useState, useEffect } from 'react';\n\nfunction FriendListItem(props) {\n  const [isOnline, setIsOnline] = useState(null);\n\n  useEffect(() => {\n    function handleStatusChange(status) {\n      setIsOnline(status.isOnline);\n    }\n\n    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n    return () => {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  });\n\n  return (\n    <li style={{ color: isOnline ? 'green' : 'black' }}>{props.friend.name}</li>\n  );\n}\n```\n\nHere, we have a component that outputs a list item with a dynamic status color. While this code executes perfectly fine, it incapsulates logic that is not directly related to the purpose of the `FriendListItem` component.\n\nIf we extract the logic and create a custom hook called `useFriendStatus`, we can simplify the component as follows:\n\n```jsx\nimport React, { useState, useEffect } from 'react';\n\nfunction FriendListItem(props) {\n  const isOnline = useFriendStatus(props.friend.id);\n\n  return (\n    <li style={{ color: isOnline ? 'green' : 'black' }}>{props.friend.name}</li>\n  );\n}\n```\n\nThis has two benefits:\n\n1. We can reuse the `useFriendStatus` logic.\n2. We simplified our component to what’s truly relevant for its functionality.\n\nMore generally, the principle of hiding information is to encapsulated irrelevant information behind abstract functions.\n\nThus, we do not have to care about what happens inside the abstract function (implementation details) - we can rather focus on its purpose, i.e. the function's name (level of problem domain).\n\n---\n\nI hope these small tips have been helpful to you! Essentially, writing better code is often just about making it more readable and easily understandable – for yourself and everyone else.\n",
      "code": "var Component=(()=>{var dn=Object.create;var P=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var cn=Object.getOwnPropertyNames;var fn=Object.getPrototypeOf,mn=Object.prototype.hasOwnProperty;var z=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),pn=(d,n)=>{for(var m in n)P(d,m,{get:n[m],enumerable:!0})},Ne=(d,n,m,y)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of cn(n))!mn.call(d,g)&&g!==m&&P(d,g,{get:()=>n[g],enumerable:!(y=un(n,g))||y.enumerable});return d};var bn=(d,n,m)=>(m=d!=null?dn(fn(d)):{},Ne(n||!d||!d.__esModule?P(m,\"default\",{value:d,enumerable:!0}):m,d)),vn=d=>Ne(P({},\"__esModule\",{value:!0}),d);var we=z((wn,xe)=>{xe.exports=React});var Ee=z(G=>{\"use strict\";(function(){\"use strict\";var d=we(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),U=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),F=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,je=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[je];return typeof r==\"function\"?r:null}var x=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Oe(\"error\",e,o)}}function Oe(e,r,o){{var i=x.ReactDebugCurrentFrame,s=i.getStackAddendum();s!==\"\"&&(r+=\"%s\",o=o.concat([s]));var u=o.map(function(l){return String(l)});u.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,u)}}var Ce=!1,Se=!1,Pe=!1,Ie=!1,Fe=!1,Q;Q=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===y||e===H||Fe||e===g||e===I||e===F||Ie||e===Te||Ce||Se||Pe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===T||e.$$typeof===K||e.$$typeof===X||e.$$typeof===U||e.$$typeof===Q||e.getModuleId!==void 0))}function We(e,r,o){var i=e.displayName;if(i)return i;var s=r.displayName||r.name||\"\";return s!==\"\"?o+\"(\"+s+\")\":o}function Z(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&p(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case y:return\"Fragment\";case m:return\"Portal\";case H:return\"Profiler\";case g:return\"StrictMode\";case I:return\"Suspense\";case F:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var r=e;return Z(r)+\".Consumer\";case K:var o=e;return Z(o._context)+\".Provider\";case U:return We(e,e.render,\"ForwardRef\");case T:var i=e.displayName||null;return i!==null?i:h(e.type)||\"Memo\";case A:{var s=e,u=s._payload,l=s._init;try{return h(l(u))}catch{return null}}}return null}var N=Object.assign,D=0,ee,ne,re,te,oe,ie,ae;function le(){}le.__reactDisabledLog=!0;function Ye(){{if(D===0){ee=console.log,ne=console.info,re=console.warn,te=console.error,oe=console.group,ie=console.groupCollapsed,ae=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}D++}}function Me(){{if(D--,D===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:re}),error:N({},e,{value:te}),group:N({},e,{value:oe}),groupCollapsed:N({},e,{value:ie}),groupEnd:N({},e,{value:ae})})}D<0&&p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var W=x.ReactCurrentDispatcher,Y;function j(e,r,o){{if(Y===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\\n( *(at )?)/);Y=i&&i[1]||\"\"}return`\n`+Y+e}}var M=!1,k;{var Le=typeof WeakMap==\"function\"?WeakMap:Map;k=new Le}function se(e,r){if(!e||M)return\"\";{var o=k.get(e);if(o!==void 0)return o}var i;M=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=W.current,W.current=null,Ye();try{if(r){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(_){i=_}Reflect.construct(e,[],l)}else{try{l.call()}catch(_){i=_}e.call(l.prototype)}}else{try{throw Error()}catch(_){i=_}e()}}catch(_){if(_&&i&&typeof _.stack==\"string\"){for(var a=_.stack.split(`\n`),b=i.stack.split(`\n`),c=a.length-1,f=b.length-1;c>=1&&f>=0&&a[c]!==b[f];)f--;for(;c>=1&&f>=0;c--,f--)if(a[c]!==b[f]){if(c!==1||f!==1)do if(c--,f--,f<0||a[c]!==b[f]){var v=`\n`+a[c].replace(\" at new \",\" at \");return e.displayName&&v.includes(\"<anonymous>\")&&(v=v.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&k.set(e,v),v}while(c>=1&&f>=0);break}}}finally{M=!1,W.current=u,Me(),Error.prepareStackTrace=s}var E=e?e.displayName||e.name:\"\",ye=E?j(E):\"\";return typeof e==\"function\"&&k.set(e,ye),ye}function $e(e,r,o){return se(e,!1)}function Ve(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function O(e,r,o){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Ve(e));if(typeof e==\"string\")return j(e);switch(e){case I:return j(\"Suspense\");case F:return j(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case U:return $e(e.render);case T:return O(e.type,r,o);case A:{var i=e,s=i._payload,u=i._init;try{return O(u(s),r,o)}catch{}}}return\"\"}var C=Object.prototype.hasOwnProperty,de={},ue=x.ReactDebugCurrentFrame;function S(e){if(e){var r=e._owner,o=O(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(o)}else ue.setExtraStackFrame(null)}function Be(e,r,o,i,s){{var u=Function.call.bind(C);for(var l in e)if(u(e,l)){var a=void 0;try{if(typeof e[l]!=\"function\"){var b=Error((i||\"React class\")+\": \"+o+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}a=e[l](r,l,i,o,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){a=c}a&&!(a instanceof Error)&&(S(s),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",o,l,typeof a),S(null)),a instanceof Error&&!(a.message in de)&&(de[a.message]=!0,S(s),p(\"Failed %s type: %s\",o,a.message),S(null))}}}var qe=Array.isArray;function L(e){return qe(e)}function ze(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,o=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return o}}function Ge(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(Ge(e))return p(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",ze(e)),ce(e)}var R=x.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},me,pe,$;$={};function Ke(e){if(C.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Xe(e){if(C.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Je(e,r){if(typeof e.ref==\"string\"&&R.current&&r&&R.current.stateNode!==r){var o=h(R.current.type);$[o]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(R.current.type),e.ref),$[o]=!0)}}function Qe(e,r){{var o=function(){me||(me=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:o,configurable:!0})}}function Ze(e,r){{var o=function(){pe||(pe=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:o,configurable:!0})}}var en=function(e,r,o,i,s,u,l){var a={$$typeof:n,type:e,key:r,ref:o,props:l,_owner:u};return a._store={},Object.defineProperty(a._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(a,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(a.props),Object.freeze(a)),a};function nn(e,r,o,i,s){{var u,l={},a=null,b=null;o!==void 0&&(fe(o),a=\"\"+o),Xe(r)&&(fe(r.key),a=\"\"+r.key),Ke(r)&&(b=r.ref,Je(r,s));for(u in r)C.call(r,u)&&!He.hasOwnProperty(u)&&(l[u]=r[u]);if(e&&e.defaultProps){var c=e.defaultProps;for(u in c)l[u]===void 0&&(l[u]=c[u])}if(a||b){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;a&&Qe(l,f),b&&Ze(l,f)}return en(e,a,b,s,i,R.current,l)}}var V=x.ReactCurrentOwner,be=x.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,o=O(e.type,e._source,r?r.type:null);be.setExtraStackFrame(o)}else be.setExtraStackFrame(null)}var B;B=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function ve(){{if(V.current){var e=h(V.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),o=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+o+\".\"}return\"\"}}var he={};function tn(e){{var r=ve();if(!r){var o=typeof e==\"string\"?e:e.displayName||e.name;o&&(r=`\n\nCheck the top-level render call using <`+o+\">.\")}return r}}function _e(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var o=tn(r);if(he[o])return;he[o]=!0;var i=\"\";e&&e._owner&&e._owner!==V.current&&(i=\" It was passed a child from \"+h(e._owner.type)+\".\"),w(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',o,i),w(null)}}function ge(e,r){{if(typeof e!=\"object\")return;if(L(e))for(var o=0;o<e.length;o++){var i=e[o];q(i)&&_e(i,r)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var s=ke(e);if(typeof s==\"function\"&&s!==e.entries)for(var u=s.call(e),l;!(l=u.next()).done;)q(l.value)&&_e(l.value,r)}}}function on(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var o;if(typeof r==\"function\")o=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===U||r.$$typeof===T))o=r.propTypes;else return;if(o){var i=h(r);Be(o,e.props,\"prop\",i,e)}else if(r.PropTypes!==void 0&&!B){B=!0;var s=h(r);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function an(e){{for(var r=Object.keys(e.props),o=0;o<r.length;o++){var i=r[o];if(i!==\"children\"&&i!==\"key\"){w(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),w(null);break}}e.ref!==null&&(w(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function ln(e,r,o,i,s,u){{var l=Ae(e);if(!l){var a=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(a+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=rn(s);b?a+=b:a+=ve();var c;e===null?c=\"null\":L(e)?c=\"array\":e!==void 0&&e.$$typeof===n?(c=\"<\"+(h(e.type)||\"Unknown\")+\" />\",a=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,a)}var f=nn(e,r,o,s,u);if(f==null)return f;if(l){var v=r.children;if(v!==void 0)if(i)if(L(v)){for(var E=0;E<v.length;E++)ge(v[E],e);Object.freeze&&Object.freeze(v)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(v,e)}return e===y?an(f):on(f),f}}var sn=ln;G.Fragment=y,G.jsxDEV=sn})()});var Re=z((Dn,De)=>{\"use strict\";De.exports=Ee()});var Nn={};pn(Nn,{default:()=>gn,frontmatter:()=>hn});var t=bn(Re()),hn={title:\"3 Tips To Write Better Code As A Beginner Frontend Developer\",summary:\"As a beginner, you don\\u2019t think about coding style. Implement these three principles to improve your code base immediately.\",category:\"Engineering\",cover:{src:\"/images/posts/3-tips-to-write-better-code-as-junior-developer/alex-kotliarskyi-ourQHRTE2IM-unsplash.jpg\",alt:\"A person sitting in front of a laptop\",caption:'Photo by <a href=\"https://unsplash.com/@frantic\" target=\"_blank\" rel=\"noopener noreferrer\">Alex Kotliarskyi</a> on Unsplash'},tags:[\"principles\",\"coding practice\",\"self-taught\",\"beginner\",\"code style\"],publishedAt:\"2023/04/04\",externals:{Medium:\"https://konstantinmuenster.medium.com/3-tips-to-write-better-code-as-a-beginner-frontend-developer-ea0fe9b3492c\"}};function Ue(d){let n=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",pre:\"pre\",code:\"code\",ol:\"ol\",li:\"li\",em:\"em\",strong:\"strong\",hr:\"hr\"},d.components),{Callout:m}=n;return m||yn(\"Callout\",!0,\"25:1-28:11\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:[\"Over the course of the last months, I had the opportunity to mentor a group of talented new web developers who participated in \",(0,t.jsxDEV)(n.a,{href:\"https://techlabs.org/\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"TechLabs\\u2019 digital shaper program\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:15,columnNumber:128},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"It was really fun to see the groups\\u2019 learning progress from zero to deployed application. While I was reviewing their first bits of code, it reminded me of my first years as a developer.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:17,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Especially if you are self-taught and don\\u2019t have any formal education, you just rock n roll. You don\\u2019t have any feeling for good or bad code practices. You are happy about anything that works.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:19,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This got me thinking: \\u201CWhich coding principles do I wish I had known earlier?\\u201D. Well, here they are!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"You can implement these simple tips in your coding practice right away. But although simple, they changed a lot in how I write code.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{children:(0,t.jsxDEV)(n.p,{children:`The principles are applicable to all areas of programming, even though the\ntitle says \\u2018frontend developers\\u2019 specifically.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:26,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"1-return-early-instead-of-nested-conditions\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1-return-early-instead-of-nested-conditions\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this),\"1. \\u201CReturn Early\\u201D Instead Of Nested Conditions\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:30,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In web development, you have a lot of situations in which you have to check if certain conditions are met.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:32,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s take the example of an API route that validates a request and returns an user object:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`export const handler = async (req, res) => {\n  if (req.method === 'POST' || req.method === 'OPTIONS') {\n    const email = validateEmail(req.body.email);\n    if (email) {\n      const user = getUserByEmail(email);\n      if (user) {\n        return res.status(200).json({ user });\n      } else {\n        return res.status(404).json({ message: 'No user found' });\n      }\n    } else {\n      return res.status(422).json({ message: 'Missing email' });\n    }\n  } else {\n    return res.status(405).json({ message: 'Unsupported message' });\n  }\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:36,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Although we don\\u2019t have that much of logic incapsulated in this function, it already looks quite a bit cluttered. Specifically, there are two issues with this code:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"It is hard to follow the flow of code. Instead of reading top-to-bottom, we need to read left-to-right (\",(0,t.jsxDEV)(n.a,{href:\"http://wiki.c2.com/?ArrowAntiPattern\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Arrow-Anti-Pattern\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:58,columnNumber:108},this),\").\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[\"It is hard to figure out the corresponding \",(0,t.jsxDEV)(n.em,{children:\"else\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:59,columnNumber:47},this),\" for each \",(0,t.jsxDEV)(n.strong,{children:\"if\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:59,columnNumber:63},this),\". They are separated by the big body of the if statement.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:59,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"A simple technique to improve this code is to incorporate the \",(0,t.jsxDEV)(n.strong,{children:\"Return-Early-Pattern\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:61,columnNumber:63},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:61,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The Return-Early-Pattern terminates the execution of functions when conditions are not met. So that the expected result of the function is always at the very end.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:63,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If we rewrite the API route from above, it would look like:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`export const handler = async (req, res) => {\n  if (req.method !== 'POST' && !req.method !== 'OPTIONS') {\n    return res.status(405).json({ message: 'Unsupported message' });\n  }\n\n  const email = validateEmail(req.body.email);\n  if (!email) {\n    return res.status(422).json({ message: 'Missing email' });\n  }\n\n  const user = getUserByEmail(email);\n  if (!user) {\n    return res.status(404).json({ message: 'No user found' });\n  }\n\n  return res.status(200).json({ user });\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:67,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With the Return-Early-Pattern in place, we can easily follow the code execution from top to bottom. Since we assume a happy path and only check for missing values, we avoid nesting too many conditions.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Lastly, we can see at first glance the expected outcome of the function at the very bottom.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"2-writing-code-for-humans\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-writing-code-for-humans\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this),\"2. Writing Code For Humans\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Generalizing what we did in the previous tip leads us to the second principle: write code that\\u2019s easily read by your coworkers, not the machine.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This sounds trivial, but it changed my thinking tremendously at first.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"When I started programming, I always perceived it as a way to communicate to the computer. We tell the machine what to do. Yet the code that we write is read by our coworkers - not the machine.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Our coworkers are the ones who need to read and understand the code. The computer in the end transpiles everything to 0s and 1s and does not care about readability.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Let\\u2019s take this \",(0,t.jsxDEV)(n.code,{children:\"groupBy\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:101,columnNumber:17},this),\" function as an example:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const groupBy = (arr, groupFn) =>\n  arr.reduce(\n    (grouped, obj) => ({\n      ...grouped,\n      [groupFn(obj)]: [...(grouped[groupFn(obj)] || []), obj],\n    }),\n    {}\n  );\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:103,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"We clearly demonstrated that we can write complicated one-liner functions to do a simple operation: take an array and group it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:114,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"While this may let you feel a bit more senior, it for sure makes things harder to understand for anyone who needs to review this.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:116,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Consider this implementation instead:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:118,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`const groupBy = (arr, groupFn) => {\n  const grouped = {};\n  for (const obj of arr) {\n    const groupName = groupFn(obj);\n    if (!grouped[groupName]) {\n      grouped[groupName] = [];\n    }\n    grouped[groupName].push(obj);\n  }\n  return grouped;\n};\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:120,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:120,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"We can read it from top to bottom and instantly know what happens on every line.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:134,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"It may not look as cool as the previous example - true! But everybody who revisits this function in the future will thank you for this readable implementation.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:136,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"3-hiding-information-behind-functions\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-hiding-information-behind-functions\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this),\"3. Hiding Information Behind Functions\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:138,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The last idea to improve your code style as a junior developer is to hide irrelevant information behind functions. This also benefits readability.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:140,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you are familiar with React, hooks are a great example for this principle:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:142,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`import React, { useState, useEffect } from 'react';\n\nfunction FriendListItem(props) {\n  const [isOnline, setIsOnline] = useState(null);\n\n  useEffect(() => {\n    function handleStatusChange(status) {\n      setIsOnline(status.isOnline);\n    }\n\n    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);\n    return () => {\n      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);\n    };\n  });\n\n  return (\n    <li style={{ color: isOnline ? 'green' : 'black' }}>{props.friend.name}</li>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:144,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:144,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Here, we have a component that outputs a list item with a dynamic status color. While this code executes perfectly fine, it incapsulates logic that is not directly related to the purpose of the \",(0,t.jsxDEV)(n.code,{children:\"FriendListItem\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:167,columnNumber:195},this),\" component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:167,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If we extract the logic and create a custom hook called \",(0,t.jsxDEV)(n.code,{children:\"useFriendStatus\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:169,columnNumber:57},this),\", we can simplify the component as follows:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:169,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-jsx\",children:`import React, { useState, useEffect } from 'react';\n\nfunction FriendListItem(props) {\n  const isOnline = useFriendStatus(props.friend.id);\n\n  return (\n    <li style={{ color: isOnline ? 'green' : 'black' }}>{props.friend.name}</li>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:171,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:171,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This has two benefits:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:183,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"We can reuse the \",(0,t.jsxDEV)(n.code,{children:\"useFriendStatus\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:185,columnNumber:21},this),\" logic.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:185,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"We simplified our component to what\\u2019s truly relevant for its functionality.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:186,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:185,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"More generally, the principle of hiding information is to encapsulated irrelevant information behind abstract functions.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:188,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Thus, we do not have to care about what happens inside the abstract function (implementation details) - we can rather focus on its purpose, i.e. the function's name (level of problem domain).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:190,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:192,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I hope these small tips have been helpful to you! Essentially, writing better code is often just about making it more readable and easily understandable \\u2013 for yourself and everyone else.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:194,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\",lineNumber:1,columnNumber:1},this)}function _n(d={}){let{wrapper:n}=d.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},d,{children:(0,t.jsxDEV)(Ue,d,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx\"},this):Ue(d)}var gn=_n;function yn(d,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+d+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-f29d060a-8ead-4370-ba80-56dcf36c05a9.mdx`\":\"\"))}return vn(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/010-3-tips-to-write-better-code-as-junior-developer.mdx",
    "_raw": {
      "sourceFilePath": "posts/010-3-tips-to-write-better-code-as-junior-developer.mdx",
      "sourceFileName": "010-3-tips-to-write-better-code-as-junior-developer.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/010-3-tips-to-write-better-code-as-junior-developer"
    },
    "type": "Post",
    "slug": "3-tips-to-write-better-code-as-junior-developer"
  },
  {
    "title": "How To Build A Floating Menu With Lexical  and React",
    "publishedAt": "2023-05-01T21:00:00.000Z",
    "summary": "Nowadays text editors like Notion let you easily format text with a bubble menu near your selection. Let's build one!",
    "cover": {
      "src": "/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-screenshot.jpg",
      "alt": "Screenshot of the floating menu we are going to create",
      "caption": {
        "raw": "This is the floating menu we are going to create!",
        "html": "<p>This is the floating menu we are going to create!</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://medium.com/konstantinmuenster/how-to-build-a-floating-menu-with-lexical-react-44eb69939cad",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Engineering",
    "tags": [
      "notion",
      "lexical",
      "react",
      "bubble menu",
      "text selection",
      "action menu",
      "floating bar",
      "menu",
      "rich text editor",
      "WYSIWYG"
    ],
    "body": {
      "raw": "\nNowadays tools like Notion achieved quite a leap in terms of text editing experience. They introduced new patterns which seamlessly integrate into our flow of writing.\n\nOne of these new patterns is a floating menu that shows up whenever you select text. It keeps your attention on the text you are editing – instead of letting it wander to a menu bar at the very top of the page. I love those little details!\n\nSince I recently explored Lexical as a new framework for building rich text editors, I wanted to try creating such a bubble menu with Lexical and React.\n\nHere’s the result:\n\n<Image\n  src=\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu.gif\"\n  alt=\"Lexical Floating Menu\"\n/>\n\n<LearningPath\n  items={[\n    'Create floating menu with formatting options',\n    'Conditionally show menu near active text selection',\n  ]}\n/>\n\n<TargetAudience>Intermediate React developers</TargetAudience>\n\nLet’s go through it, step by step!\n\n## Setting up the editor\n\nFor this article, I created a simple editor upfront so that we can avoid any boilerplate code for the setup. You find this setup [on this branch](https://github.com/konstantinmuenster/lexical-react-floating-menu/tree/setup) in the Github project.\n\nIf you want to follow along, you can clone the project and follow the installation instructions.\n\nOnce you installed the dependencies and started the development server, you should see this little editor on your [localhost](http://localhost) instance:\n\n<Image\n  src=\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-setup.png\"\n  alt=\"Lexical Floating Menu Setup\"\n/>\n\nIf you want to create the floating menu for your already existing editor, make\nsure you have all required dependencies installed. You find these inside the\n[package.json](https://github.com/konstantinmuenster/lexical-react-floating-menu/blob/setup/package.json).\n\n## Creating a new plugin\n\nHaving the setup done, we can move forward to creating the plugin for the floating menu.\n\nWith Lexical, plugins are essentially React components that we wrap within the editor composer. Hence we create a new file for our floating menu inside the plugins directory.\n\n```tsx:FloatingMenuPlugin.tsx\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n```\n\nThe floating menu plugin takes care of two things:\n\n1. It calculates and stores the `coords` of the menu, so that we can display it right above the text selection.\n2. It attaches a React portal to the DOM. This takes care of rendering the actual FloatingMenu UI component (which we will create in a second).\n\nThis new plugin can now be added to the editor. For this, we navigate to `Editor.tsx` and add the plugin inside the Lexical editor component:\n\n```tsx:Editor.tsx\n// ...\nimport { FloatingMenuPlugin } from './plugins/FloatingMenu';\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable spellCheck={false} />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      {/** ... */}\n      <FloatingMenuPlugin />\n    </LexicalComposer>\n  );\n}\n```\n\nNow, whenever a new editor is created, it executes the `FloatingMenuPlugin`, which determines if and where we should render our `FloatingMenu` component.\n\nSince this component is the last missing piece to get something on the screen, let’s create it!\n\n## Creating the menu component\n\nInside the components directory, we create a new file `FloatingMenu.tsx`.\n\n```tsx:FloatingMenu.tsx\nimport { forwardRef, useEffect, useState } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection, FORMAT_TEXT_COMMAND } from 'lexical';\n\nimport { IconButton } from '../../IconButton';\n\nexport type FloatingMenuCoords = { x: number; y: number } | undefined;\n\ntype FloatingMenuState = {\n  isBold: boolean;\n  isCode: boolean;\n  isItalic: boolean;\n  isStrikethrough: boolean;\n  isUnderline: boolean;\n};\n\ntype FloatingMenuProps = {\n  editor: ReturnType<typeof useLexicalComposerContext>[0];\n  coords: FloatingMenuCoords;\n};\n\nexport const FloatingMenu = forwardRef<HTMLDivElement, FloatingMenuProps>(\n  function FloatingMenu(props, ref) {\n    const { editor, coords } = props;\n\n    const shouldShow = coords !== undefined;\n\n    const [state, setState] = useState<FloatingMenuState>({\n      isBold: false,\n      isCode: false,\n      isItalic: false,\n      isStrikethrough: false,\n      isUnderline: false,\n    });\n\n    useEffect(() => {\n      const unregisterListener = editor.registerUpdateListener(\n        ({ editorState }) => {\n          editorState.read(() => {\n            const selection = $getSelection();\n            if (!$isRangeSelection(selection)) return;\n\n            setState({\n              isBold: selection.hasFormat('bold'),\n              isCode: selection.hasFormat('code'),\n              isItalic: selection.hasFormat('italic'),\n              isStrikethrough: selection.hasFormat('strikethrough'),\n              isUnderline: selection.hasFormat('underline'),\n            });\n          });\n        }\n      );\n      return unregisterListener;\n    }, [editor]);\n\n    return (\n      <div\n        ref={ref}\n        className=\"flex items-center justify-between bg-slate-100 border-[1px] border-slate-300 rounded-md p-1 gap-1\"\n        aria-hidden={!shouldShow}\n        style={{\n          position: 'absolute',\n          top: coords?.y,\n          left: coords?.x,\n          visibility: shouldShow ? 'visible' : 'hidden',\n          opacity: shouldShow ? 1 : 0,\n        }}\n      >\n        <IconButton\n          icon=\"bold\"\n          aria-label=\"Format text as bold\"\n          active={state.isBold}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'bold');\n          }}\n        />\n        <IconButton\n          icon=\"italic\"\n          aria-label=\"Format text as italics\"\n          active={state.isItalic}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'italic');\n          }}\n        />\n        <IconButton\n          icon=\"underline\"\n          aria-label=\"Format text to underlined\"\n          active={state.isUnderline}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'underline');\n          }}\n        />\n        <IconButton\n          icon=\"strike\"\n          aria-label=\"Format text with a strikethrough\"\n          active={state.isStrikethrough}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'strikethrough');\n          }}\n        />\n        <IconButton\n          icon=\"code\"\n          aria-label=\"Format text with inline code\"\n          active={state.isCode}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'code');\n          }}\n        />\n      </div>\n    );\n  }\n);\n```\n\nThis component is the actual menu bar that we render to the screen. Since we want to position it right above the text selection, it requires a set of coordinates that we receive via the `coords` prop.\n\nIf `coords` is correctly set, we render the menu bar and its buttons.\n\nTo apply the same styling to all buttons, I created an `IconButton` component. You find it [here](https://github.com/konstantinmuenster/lexical-react-floating-menu/blob/setup/src/components/IconButton/IconButton.tsx).\n\nIn this component, the effect takes care of handling the formatting state. It gets executed whenever the editor state updates. Thus, we can sync our button states easily with the formatting applied to the current selection.\n\nLet’s have a quick preview of how our component looks like. For it, we can temporarily mutate our `coords` prop right before we define `shouldShow`.\n\n```tsx:FloatingMenu.tsx\nconst { editor, coords } = props;\ncoords = { x: 600, y: 75 }; // only temporary – remove it again!\nconst shouldShow = coords !== undefined;\n```\n\nNow, we can see our new menu bar that we just created!\n\n<Image\n  src=\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-component.png\"\n  alt=\"Floating Menu, absolulety positioned\"\n/>\n\nBut instead of setting fixed coordinates manually, let’s see how we can automatically position the menu based on the active text selection!\n\n## Displaying the menu on active selections\n\nFor it, we switch back into our FloatingMenuPlugin. The plugin is responsible for observing the editor state and calculating the menu position if there is an active text selection. Let’s start with the latter part: calculating the menu position.\n\n### Calculating the menu position\n\nInside `FloatingMenuPlugin.tsx`, we add a new function that encapsulates the positioning logic:\n\n```tsx:FloatingMenuPlugin.tsx\nimport { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { useCallback, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    const domSelection = getSelection();\n    const domRange =\n      domSelection?.rangeCount !== 0 && domSelection?.getRangeAt(0);\n\n    if (!domRange || !ref.current || isPointerDown) return setCoords(undefined);\n\n    computePosition(domRange, ref.current, { placement: 'top' })\n      .then(pos => {\n        setCoords({ x: pos.x, y: pos.y - 10 });\n      })\n      .catch(() => {\n        setCoords(undefined);\n      });\n  }, [isPointerDown]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n```\n\n`calculatePosition` uses three important helper functions:\n\n1. The browser native `getSelection()` method that allows us to access the browser selection. If it has an active range (i.e. multiple characters are selected), we pass it to our next helper.\n2. From `@floating-ui/dom` (awesome library!), we use `computePosition` to calculate the positions directly above our text selection. The calculated coordinates are set as state.\n3. Lastly, we added a crucial check with the help of `usePointerInteractions()`. If we don’t check for `isPointerDown`, we would already start setting coordinates and showing the menu bar if the user is still making his mouse selection across the text.\n\nWith this in place, we already dealt with most of the complexity. I love how libraries like `@floating/ui` can help us in making complex computations easy!\n\n### Defining when to show the menu\n\nFinally, we can write editor state observers that define in which situations we want to actually show the menu bar.\n\nFortunately, Lexical allows us to easily write an update listener that watches the editor state. Whenever the state updates, the callback function gets executed. In our case, we run our `$handleSelectionChange` function (if you want to learn more about the dollar sign prefix, check [this discussion on Github](https://github.com/facebook/lexical/discussions/1800)).\n\n```tsx:FloatingMenuPlugin.tsx\nimport { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection } from 'lexical';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    // ...\n  }, [isPointerDown]);\n\n  const $handleSelectionChange = useCallback(() => {\n    if (\n      editor.isComposing() ||\n      editor.getRootElement() !== document.activeElement\n    ) {\n      setCoords(undefined);\n      return;\n    }\n\n    const selection = $getSelection();\n\n    if ($isRangeSelection(selection) && !selection.anchor.is(selection.focus)) {\n      calculatePosition();\n    } else {\n      setCoords(undefined);\n    }\n  }, [editor, calculatePosition]);\n\n  useEffect(() => {\n    const unregisterListener = editor.registerUpdateListener(\n      ({ editorState }) => {\n        editorState.read(() => $handleSelectionChange());\n      }\n    );\n    return unregisterListener;\n  }, [editor, $handleSelectionChange]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n```\n\nNote that we also defined some additional checks. We don’t want to update the menu position…\n\n- if a [composition](https://w3c.github.io/uievents/#events-compositionevents) is active\n- if the editor is not focused anymore (e.g. the user clicks outside the editor)\n- if the editor selection does not span across multiple characters\n\nBut if all of those checks pass, we run our `calculatePosition` function.\n\nNonetheless, if we now try to select text via mouse, the floating menu won’t show up. This is because we are missing one important last piece.\n\nIn `calculatePosition`, we exit the function early if `isPointerDown` is true. This was to prevent the menu from popping up too early (when the user still spans the selection).\n\nBut now we don’t see the menu at all when making a selection via mouse. To fix this, we can add another effect that runs whenever `isPointerReleased` changes.\n\n```tsx:FloatingMenuPlugin.tsx\nimport { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection } from 'lexical';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    // ...\n  }, [isPointerDown]);\n\n  const $handleSelectionChange = useCallback(() => {\n    // ...\n  }, [editor, calculatePosition]);\n\n  useEffect(() => {\n    // ...\n  }, [editor, $handleSelectionChange]);\n\n  const show = coords !== undefined;\n\n  useEffect(() => {\n    if (!show && isPointerReleased) {\n      editor.getEditorState().read(() => $handleSelectionChange());\n    }\n    // Adding show to the dependency array causes an issue if\n    // a range selection is dismissed by navigating via arrow keys.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isPointerReleased, $handleSelectionChange, editor]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n```\n\nIf the pointer was released and our coordinates are still undefined, we access the editor state and trigger our `$handleSelectionChange` callback.\n\nWith this we finally have all our pieces to test our floating menu in the editor!\n\n<Image\n  src=\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu.gif\"\n  alt=\"Lexical Floating Menu\"\n/>\n\n## Wrap up\n\nNow, this was honestly a lot to digest! Take your time and go through the steps again.\n\nIf you have question, feel free to reach out to me on Twitter:\n\nYou find [the full project on Github](https://github.com/konstantinmuenster/lexical-react-floating-menu).\n\n---\n\n#### 💁 Shortcut needed?\n\nSince interactive editor components such as a floating menu / bubble menu are hard to get right, I released `lexical-floating-menu` – a headless and fully customizable plugin to create floating menus easily.\n\nIt encapsulates everything we learnt in this tutorial. You can simply install it as any other npm package. Check out the instructions on Github:\n\n[konstantinmuenster/lexical-floating-menu](https://github.com/konstantinmuenster/lexical-floating-menu)\n\nI’d love to hear your feedback – either on Github or on Twitter!\n\nHave fun playing with it!\n",
      "code": "var Component=(()=>{var cn=Object.create;var F=Object.defineProperty;var un=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var mn=Object.getPrototypeOf,bn=Object.prototype.hasOwnProperty;var G=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),hn=(d,n)=>{for(var m in n)F(d,m,{get:n[m],enumerable:!0})},ye=(d,n,m,_)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let v of fn(n))!bn.call(d,v)&&v!==m&&F(d,v,{get:()=>n[v],enumerable:!(_=un(n,v))||_.enumerable});return d};var pn=(d,n,m)=>(m=d!=null?cn(mn(d)):{},ye(n||!d||!d.__esModule?F(m,\"default\",{value:d,enumerable:!0}):m,d)),vn=d=>ye(F({},\"__esModule\",{value:!0}),d);var De=G((wn,we)=>{we.exports=React});var Ce=G(X=>{\"use strict\";(function(){\"use strict\";var d=De(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),_=Symbol.for(\"react.fragment\"),v=Symbol.for(\"react.strict_mode\"),z=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),J=Symbol.for(\"react.context\"),U=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),O=Symbol.for(\"react.suspense_list\"),R=Symbol.for(\"react.memo\"),L=Symbol.for(\"react.lazy\"),Pe=Symbol.for(\"react.offscreen\"),Z=Symbol.iterator,Te=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var r=Z&&e[Z]||e[Te];return typeof r==\"function\"?r:null}var y=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){{for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Se(\"error\",e,o)}}function Se(e,r,o){{var i=y.ReactDebugCurrentFrame,a=i.getStackAddendum();a!==\"\"&&(r+=\"%s\",o=o.concat([a]));var c=o.map(function(s){return String(s)});c.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,c)}}var Me=!1,Fe=!1,Ie=!1,Oe=!1,Le=!1,Q;Q=Symbol.for(\"react.module.reference\");function je(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===_||e===z||Le||e===v||e===I||e===O||Oe||e===Pe||Me||Fe||Ie||typeof e==\"object\"&&e!==null&&(e.$$typeof===L||e.$$typeof===R||e.$$typeof===K||e.$$typeof===J||e.$$typeof===U||e.$$typeof===Q||e.getModuleId!==void 0))}function Ae(e,r,o){var i=e.displayName;if(i)return i;var a=r.displayName||r.name||\"\";return a!==\"\"?o+\"(\"+a+\")\":o}function ee(e){return e.displayName||\"Context\"}function g(e){if(e==null)return null;if(typeof e.tag==\"number\"&&b(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case _:return\"Fragment\";case m:return\"Portal\";case z:return\"Profiler\";case v:return\"StrictMode\";case I:return\"Suspense\";case O:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case J:var r=e;return ee(r)+\".Consumer\";case K:var o=e;return ee(o._context)+\".Provider\";case U:return Ae(e,e.render,\"ForwardRef\");case R:var i=e.displayName||null;return i!==null?i:g(e.type)||\"Memo\";case L:{var a=e,c=a._payload,s=a._init;try{return g(s(c))}catch{return null}}}return null}var N=Object.assign,C=0,ne,te,re,oe,ie,le,se;function ae(){}ae.__reactDisabledLog=!0;function $e(){{if(C===0){ne=console.log,te=console.info,re=console.warn,oe=console.error,ie=console.group,le=console.groupCollapsed,se=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}C++}}function We(){{if(C--,C===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ne}),info:N({},e,{value:te}),warn:N({},e,{value:re}),error:N({},e,{value:oe}),group:N({},e,{value:ie}),groupCollapsed:N({},e,{value:le}),groupEnd:N({},e,{value:se})})}C<0&&b(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var j=y.ReactCurrentDispatcher,A;function P(e,r,o){{if(A===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\\n( *(at )?)/);A=i&&i[1]||\"\"}return`\n`+A+e}}var $=!1,T;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;T=new Ye}function de(e,r){if(!e||$)return\"\";{var o=T.get(e);if(o!==void 0)return o}var i;$=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var c;c=j.current,j.current=null,$e();try{if(r){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(x){i=x}Reflect.construct(e,[],s)}else{try{s.call()}catch(x){i=x}e.call(s.prototype)}}else{try{throw Error()}catch(x){i=x}e()}}catch(x){if(x&&i&&typeof x.stack==\"string\"){for(var l=x.stack.split(`\n`),h=i.stack.split(`\n`),u=l.length-1,f=h.length-1;u>=1&&f>=0&&l[u]!==h[f];)f--;for(;u>=1&&f>=0;u--,f--)if(l[u]!==h[f]){if(u!==1||f!==1)do if(u--,f--,f<0||l[u]!==h[f]){var p=`\n`+l[u].replace(\" at new \",\" at \");return e.displayName&&p.includes(\"<anonymous>\")&&(p=p.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&T.set(e,p),p}while(u>=1&&f>=0);break}}}finally{$=!1,j.current=c,We(),Error.prepareStackTrace=a}var D=e?e.displayName||e.name:\"\",Ne=D?P(D):\"\";return typeof e==\"function\"&&T.set(e,Ne),Ne}function Be(e,r,o){return de(e,!1)}function Ve(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function k(e,r,o){if(e==null)return\"\";if(typeof e==\"function\")return de(e,Ve(e));if(typeof e==\"string\")return P(e);switch(e){case I:return P(\"Suspense\");case O:return P(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case U:return Be(e.render);case R:return k(e.type,r,o);case L:{var i=e,a=i._payload,c=i._init;try{return k(c(a),r,o)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,ce={},ue=y.ReactDebugCurrentFrame;function M(e){if(e){var r=e._owner,o=k(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(o)}else ue.setExtraStackFrame(null)}function He(e,r,o,i,a){{var c=Function.call.bind(S);for(var s in e)if(c(e,s)){var l=void 0;try{if(typeof e[s]!=\"function\"){var h=Error((i||\"React class\")+\": \"+o+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw h.name=\"Invariant Violation\",h}l=e[s](r,s,i,o,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){l=u}l&&!(l instanceof Error)&&(M(a),b(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",o,s,typeof l),M(null)),l instanceof Error&&!(l.message in ce)&&(ce[l.message]=!0,M(a),b(\"Failed %s type: %s\",o,l.message),M(null))}}}var Ge=Array.isArray;function W(e){return Ge(e)}function Xe(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,o=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return o}}function qe(e){try{return fe(e),!1}catch{return!0}}function fe(e){return\"\"+e}function me(e){if(qe(e))return b(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Xe(e)),fe(e)}var E=y.ReactCurrentOwner,ze={key:!0,ref:!0,__self:!0,__source:!0},be,he,Y;Y={};function Ke(e){if(S.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Je(e){if(S.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Ze(e,r){if(typeof e.ref==\"string\"&&E.current&&r&&E.current.stateNode!==r){var o=g(E.current.type);Y[o]||(b('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',g(E.current.type),e.ref),Y[o]=!0)}}function Qe(e,r){{var o=function(){be||(be=!0,b(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:o,configurable:!0})}}function en(e,r){{var o=function(){he||(he=!0,b(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:o,configurable:!0})}}var nn=function(e,r,o,i,a,c,s){var l={$$typeof:n,type:e,key:r,ref:o,props:s,_owner:c};return l._store={},Object.defineProperty(l._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function tn(e,r,o,i,a){{var c,s={},l=null,h=null;o!==void 0&&(me(o),l=\"\"+o),Je(r)&&(me(r.key),l=\"\"+r.key),Ke(r)&&(h=r.ref,Ze(r,a));for(c in r)S.call(r,c)&&!ze.hasOwnProperty(c)&&(s[c]=r[c]);if(e&&e.defaultProps){var u=e.defaultProps;for(c in u)s[c]===void 0&&(s[c]=u[c])}if(l||h){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;l&&Qe(s,f),h&&en(s,f)}return nn(e,l,h,a,i,E.current,s)}}var B=y.ReactCurrentOwner,pe=y.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,o=k(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(o)}else pe.setExtraStackFrame(null)}var V;V=!1;function H(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function ve(){{if(B.current){var e=g(B.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),o=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+o+\".\"}return\"\"}}var _e={};function on(e){{var r=ve();if(!r){var o=typeof e==\"string\"?e:e.displayName||e.name;o&&(r=`\n\nCheck the top-level render call using <`+o+\">.\")}return r}}function ge(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var o=on(r);if(_e[o])return;_e[o]=!0;var i=\"\";e&&e._owner&&e._owner!==B.current&&(i=\" It was passed a child from \"+g(e._owner.type)+\".\"),w(e),b('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',o,i),w(null)}}function xe(e,r){{if(typeof e!=\"object\")return;if(W(e))for(var o=0;o<e.length;o++){var i=e[o];H(i)&&ge(i,r)}else if(H(e))e._store&&(e._store.validated=!0);else if(e){var a=ke(e);if(typeof a==\"function\"&&a!==e.entries)for(var c=a.call(e),s;!(s=c.next()).done;)H(s.value)&&ge(s.value,r)}}}function ln(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var o;if(typeof r==\"function\")o=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===U||r.$$typeof===R))o=r.propTypes;else return;if(o){var i=g(r);He(o,e.props,\"prop\",i,e)}else if(r.PropTypes!==void 0&&!V){V=!0;var a=g(r);b(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",a||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&b(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function sn(e){{for(var r=Object.keys(e.props),o=0;o<r.length;o++){var i=r[o];if(i!==\"children\"&&i!==\"key\"){w(e),b(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),w(null);break}}e.ref!==null&&(w(e),b(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function an(e,r,o,i,a,c){{var s=je(e);if(!s){var l=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(l+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var h=rn(a);h?l+=h:l+=ve();var u;e===null?u=\"null\":W(e)?u=\"array\":e!==void 0&&e.$$typeof===n?(u=\"<\"+(g(e.type)||\"Unknown\")+\" />\",l=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,b(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,l)}var f=tn(e,r,o,a,c);if(f==null)return f;if(s){var p=r.children;if(p!==void 0)if(i)if(W(p)){for(var D=0;D<p.length;D++)xe(p[D],e);Object.freeze&&Object.freeze(p)}else b(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else xe(p,e)}return e===_?sn(f):ln(f),f}}var dn=an;X.Fragment=_,X.jsxDEV=dn})()});var Ue=G((Cn,Ee)=>{\"use strict\";Ee.exports=Ce()});var Nn={};hn(Nn,{default:()=>xn,frontmatter:()=>_n});var t=pn(Ue()),_n={title:\"How To Build A Floating Menu With Lexical  and React\",summary:\"Nowadays text editors like Notion let you easily format text with a bubble menu near your selection. Let's build one!\",publishedAt:\"2023/05/02\",category:\"Engineering\",cover:{src:\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-screenshot.jpg\",alt:\"Screenshot of the floating menu we are going to create\",caption:\"This is the floating menu we are going to create!\"},tags:[\"notion\",\"lexical\",\"react\",\"bubble menu\",\"text selection\",\"action menu\",\"floating bar\",\"menu\",\"rich text editor\",\"WYSIWYG\"],externals:{Medium:\"https://medium.com/konstantinmuenster/how-to-build-a-floating-menu-with-lexical-react-44eb69939cad\"}};function Re(d){let n=Object.assign({p:\"p\",h2:\"h2\",a:\"a\",span:\"span\",pre:\"pre\",code:\"code\",ol:\"ol\",li:\"li\",h3:\"h3\",ul:\"ul\",hr:\"hr\",h4:\"h4\"},d.components),{Image:m,LearningPath:_,TargetAudience:v}=n;return m||q(\"Image\",!0,\"35:1-38:3\"),_||q(\"LearningPath\",!0,\"40:1-45:3\"),v||q(\"TargetAudience\",!0,\"47:1-47:63\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:\"Nowadays tools like Notion achieved quite a leap in terms of text editing experience. They introduced new patterns which seamlessly integrate into our flow of writing.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"One of these new patterns is a floating menu that shows up whenever you select text. It keeps your attention on the text you are editing \\u2013 instead of letting it wander to a menu bar at the very top of the page. I love those little details!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Since I recently explored Lexical as a new framework for building rich text editors, I wanted to try creating such a bubble menu with Lexical and React.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Here\\u2019s the result:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu.gif\",alt:\"Lexical Floating Menu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(_,{items:[\"Create floating menu with formatting options\",\"Conditionally show menu near active text selection\"]},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:40,columnNumber:1},this),`\n`,(0,t.jsxDEV)(v,{children:\"Intermediate React developers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:47,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s go through it, step by step!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:49,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"setting-up-the-editor\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#setting-up-the-editor\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Setting up the editor\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:51,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"For this article, I created a simple editor upfront so that we can avoid any boilerplate code for the setup. You find this setup \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-react-floating-menu/tree/setup\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"on this branch\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:53,columnNumber:130},this),\" in the Github project.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:53,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you want to follow along, you can clone the project and follow the installation instructions.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:55,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Once you installed the dependencies and started the development server, you should see this little editor on your \",(0,t.jsxDEV)(n.a,{href:\"http://localhost\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"localhost\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:57,columnNumber:115},this),\" instance:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:57,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-setup.png\",alt:\"Lexical Floating Menu Setup\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:59,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[`If you want to create the floating menu for your already existing editor, make\nsure you have all required dependencies installed. You find these inside the\n`,(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-react-floating-menu/blob/setup/package.json\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"package.json\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:66,columnNumber:1},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"creating-a-new-plugin\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-a-new-plugin\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Creating a new plugin\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Having the setup done, we can move forward to creating the plugin for the floating menu.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With Lexical, plugins are essentially React components that we wrap within the editor composer. Hence we create a new file for our floating menu inside the plugins directory.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:72,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenuPlugin.tsx\",children:`import { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:74,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:74,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The floating menu plugin takes care of two things:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"It calculates and stores the \",(0,t.jsxDEV)(n.code,{children:\"coords\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:97,columnNumber:33},this),\" of the menu, so that we can display it right above the text selection.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"It attaches a React portal to the DOM. This takes care of rendering the actual FloatingMenu UI component (which we will create in a second).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:98,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This new plugin can now be added to the editor. For this, we navigate to \",(0,t.jsxDEV)(n.code,{children:\"Editor.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:100,columnNumber:74},this),\" and add the plugin inside the Lexical editor component:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:100,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:Editor.tsx\",children:`// ...\nimport { FloatingMenuPlugin } from './plugins/FloatingMenu';\n\nexport function LexicalEditor(props: LexicalEditorProps) {\n  return (\n    <LexicalComposer initialConfig={props.config}>\n      <RichTextPlugin\n        contentEditable={<ContentEditable spellCheck={false} />}\n        placeholder={<Placeholder />}\n        ErrorBoundary={LexicalErrorBoundary}\n      />\n      {/** ... */}\n      <FloatingMenuPlugin />\n    </LexicalComposer>\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:102,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:102,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Now, whenever a new editor is created, it executes the \",(0,t.jsxDEV)(n.code,{children:\"FloatingMenuPlugin\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:121,columnNumber:56},this),\", which determines if and where we should render our \",(0,t.jsxDEV)(n.code,{children:\"FloatingMenu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:121,columnNumber:129},this),\" component.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Since this component is the last missing piece to get something on the screen, let\\u2019s create it!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"creating-the-menu-component\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#creating-the-menu-component\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Creating the menu component\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Inside the components directory, we create a new file \",(0,t.jsxDEV)(n.code,{children:\"FloatingMenu.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:127,columnNumber:55},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenu.tsx\",children:`import { forwardRef, useEffect, useState } from 'react';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection, FORMAT_TEXT_COMMAND } from 'lexical';\n\nimport { IconButton } from '../../IconButton';\n\nexport type FloatingMenuCoords = { x: number; y: number } | undefined;\n\ntype FloatingMenuState = {\n  isBold: boolean;\n  isCode: boolean;\n  isItalic: boolean;\n  isStrikethrough: boolean;\n  isUnderline: boolean;\n};\n\ntype FloatingMenuProps = {\n  editor: ReturnType<typeof useLexicalComposerContext>[0];\n  coords: FloatingMenuCoords;\n};\n\nexport const FloatingMenu = forwardRef<HTMLDivElement, FloatingMenuProps>(\n  function FloatingMenu(props, ref) {\n    const { editor, coords } = props;\n\n    const shouldShow = coords !== undefined;\n\n    const [state, setState] = useState<FloatingMenuState>({\n      isBold: false,\n      isCode: false,\n      isItalic: false,\n      isStrikethrough: false,\n      isUnderline: false,\n    });\n\n    useEffect(() => {\n      const unregisterListener = editor.registerUpdateListener(\n        ({ editorState }) => {\n          editorState.read(() => {\n            const selection = $getSelection();\n            if (!$isRangeSelection(selection)) return;\n\n            setState({\n              isBold: selection.hasFormat('bold'),\n              isCode: selection.hasFormat('code'),\n              isItalic: selection.hasFormat('italic'),\n              isStrikethrough: selection.hasFormat('strikethrough'),\n              isUnderline: selection.hasFormat('underline'),\n            });\n          });\n        }\n      );\n      return unregisterListener;\n    }, [editor]);\n\n    return (\n      <div\n        ref={ref}\n        className=\"flex items-center justify-between bg-slate-100 border-[1px] border-slate-300 rounded-md p-1 gap-1\"\n        aria-hidden={!shouldShow}\n        style={{\n          position: 'absolute',\n          top: coords?.y,\n          left: coords?.x,\n          visibility: shouldShow ? 'visible' : 'hidden',\n          opacity: shouldShow ? 1 : 0,\n        }}\n      >\n        <IconButton\n          icon=\"bold\"\n          aria-label=\"Format text as bold\"\n          active={state.isBold}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'bold');\n          }}\n        />\n        <IconButton\n          icon=\"italic\"\n          aria-label=\"Format text as italics\"\n          active={state.isItalic}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'italic');\n          }}\n        />\n        <IconButton\n          icon=\"underline\"\n          aria-label=\"Format text to underlined\"\n          active={state.isUnderline}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'underline');\n          }}\n        />\n        <IconButton\n          icon=\"strike\"\n          aria-label=\"Format text with a strikethrough\"\n          active={state.isStrikethrough}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'strikethrough');\n          }}\n        />\n        <IconButton\n          icon=\"code\"\n          aria-label=\"Format text with inline code\"\n          active={state.isCode}\n          onClick={() => {\n            editor.dispatchCommand(FORMAT_TEXT_COMMAND, 'code');\n          }}\n        />\n      </div>\n    );\n  }\n);\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:129,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"This component is the actual menu bar that we render to the screen. Since we want to position it right above the text selection, it requires a set of coordinates that we receive via the \",(0,t.jsxDEV)(n.code,{children:\"coords\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:244,columnNumber:187},this),\" prop.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:244,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If \",(0,t.jsxDEV)(n.code,{children:\"coords\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:246,columnNumber:4},this),\" is correctly set, we render the menu bar and its buttons.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:246,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"To apply the same styling to all buttons, I created an \",(0,t.jsxDEV)(n.code,{children:\"IconButton\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:248,columnNumber:56},this),\" component. You find it \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-react-floating-menu/blob/setup/src/components/IconButton/IconButton.tsx\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"here\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:248,columnNumber:92},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:248,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In this component, the effect takes care of handling the formatting state. It gets executed whenever the editor state updates. Thus, we can sync our button states easily with the formatting applied to the current selection.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:250,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Let\\u2019s have a quick preview of how our component looks like. For it, we can temporarily mutate our \",(0,t.jsxDEV)(n.code,{children:\"coords\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:252,columnNumber:99},this),\" prop right before we define \",(0,t.jsxDEV)(n.code,{children:\"shouldShow\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:252,columnNumber:136},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:252,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenu.tsx\",children:`const { editor, coords } = props;\ncoords = { x: 600, y: 75 }; // only temporary \\u2013 remove it again!\nconst shouldShow = coords !== undefined;\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:254,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:254,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now, we can see our new menu bar that we just created!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:260,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu-component.png\",alt:\"Floating Menu, absolulety positioned\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:262,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"But instead of setting fixed coordinates manually, let\\u2019s see how we can automatically position the menu based on the active text selection!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:267,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"displaying-the-menu-on-active-selections\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#displaying-the-menu-on-active-selections\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Displaying the menu on active selections\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:269,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"For it, we switch back into our FloatingMenuPlugin. The plugin is responsible for observing the editor state and calculating the menu position if there is an active text selection. Let\\u2019s start with the latter part: calculating the menu position.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:271,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"calculating-the-menu-position\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#calculating-the-menu-position\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Calculating the menu position\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:273,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Inside \",(0,t.jsxDEV)(n.code,{children:\"FloatingMenuPlugin.tsx\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:275,columnNumber:8},this),\", we add a new function that encapsulates the positioning logic:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:275,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenuPlugin.tsx\",children:`import { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { useCallback, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    const domSelection = getSelection();\n    const domRange =\n      domSelection?.rangeCount !== 0 && domSelection?.getRangeAt(0);\n\n    if (!domRange || !ref.current || isPointerDown) return setCoords(undefined);\n\n    computePosition(domRange, ref.current, { placement: 'top' })\n      .then(pos => {\n        setCoords({ x: pos.x, y: pos.y - 10 });\n      })\n      .catch(() => {\n        setCoords(undefined);\n      });\n  }, [isPointerDown]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:277,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:277,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[(0,t.jsxDEV)(n.code,{children:\"calculatePosition\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:318,columnNumber:1},this),\" uses three important helper functions:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:318,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"The browser native \",(0,t.jsxDEV)(n.code,{children:\"getSelection()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:320,columnNumber:23},this),\" method that allows us to access the browser selection. If it has an active range (i.e. multiple characters are selected), we pass it to our next helper.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:320,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[\"From \",(0,t.jsxDEV)(n.code,{children:\"@floating-ui/dom\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:321,columnNumber:9},this),\" (awesome library!), we use \",(0,t.jsxDEV)(n.code,{children:\"computePosition\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:321,columnNumber:55},this),\" to calculate the positions directly above our text selection. The calculated coordinates are set as state.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:321,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:[\"Lastly, we added a crucial check with the help of \",(0,t.jsxDEV)(n.code,{children:\"usePointerInteractions()\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:322,columnNumber:54},this),\". If we don\\u2019t check for \",(0,t.jsxDEV)(n.code,{children:\"isPointerDown\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:322,columnNumber:104},this),\", we would already start setting coordinates and showing the menu bar if the user is still making his mouse selection across the text.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:322,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:320,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"With this in place, we already dealt with most of the complexity. I love how libraries like \",(0,t.jsxDEV)(n.code,{children:\"@floating/ui\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:324,columnNumber:93},this),\" can help us in making complex computations easy!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:324,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"defining-when-to-show-the-menu\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#defining-when-to-show-the-menu\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Defining when to show the menu\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:326,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Finally, we can write editor state observers that define in which situations we want to actually show the menu bar.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:328,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Fortunately, Lexical allows us to easily write an update listener that watches the editor state. Whenever the state updates, the callback function gets executed. In our case, we run our \",(0,t.jsxDEV)(n.code,{children:\"$handleSelectionChange\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:330,columnNumber:187},this),\" function (if you want to learn more about the dollar sign prefix, check \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/facebook/lexical/discussions/1800\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"this discussion on Github\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:330,columnNumber:284},this),\").\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:330,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenuPlugin.tsx\",children:`import { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection } from 'lexical';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    // ...\n  }, [isPointerDown]);\n\n  const $handleSelectionChange = useCallback(() => {\n    if (\n      editor.isComposing() ||\n      editor.getRootElement() !== document.activeElement\n    ) {\n      setCoords(undefined);\n      return;\n    }\n\n    const selection = $getSelection();\n\n    if ($isRangeSelection(selection) && !selection.anchor.is(selection.focus)) {\n      calculatePosition();\n    } else {\n      setCoords(undefined);\n    }\n  }, [editor, calculatePosition]);\n\n  useEffect(() => {\n    const unregisterListener = editor.registerUpdateListener(\n      ({ editorState }) => {\n        editorState.read(() => $handleSelectionChange());\n      }\n    );\n    return unregisterListener;\n  }, [editor, $handleSelectionChange]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:332,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:332,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Note that we also defined some additional checks. We don\\u2019t want to update the menu position\\u2026\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:389,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:[\"if a \",(0,t.jsxDEV)(n.a,{href:\"https://w3c.github.io/uievents/#events-compositionevents\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"composition\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:391,columnNumber:8},this),\" is active\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:391,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"if the editor is not focused anymore (e.g. the user clicks outside the editor)\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:392,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"if the editor selection does not span across multiple characters\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:393,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:391,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"But if all of those checks pass, we run our \",(0,t.jsxDEV)(n.code,{children:\"calculatePosition\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:395,columnNumber:45},this),\" function.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:395,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Nonetheless, if we now try to select text via mouse, the floating menu won\\u2019t show up. This is because we are missing one important last piece.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:397,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"In \",(0,t.jsxDEV)(n.code,{children:\"calculatePosition\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:399,columnNumber:4},this),\", we exit the function early if \",(0,t.jsxDEV)(n.code,{children:\"isPointerDown\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:399,columnNumber:55},this),\" is true. This was to prevent the menu from popping up too early (when the user still spans the selection).\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:399,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"But now we don\\u2019t see the menu at all when making a selection via mouse. To fix this, we can add another effect that runs whenever \",(0,t.jsxDEV)(n.code,{children:\"isPointerReleased\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:401,columnNumber:131},this),\" changes.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:401,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"language-tsx:FloatingMenuPlugin.tsx\",children:`import { computePosition } from '@floating-ui/dom';\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { $getSelection, $isRangeSelection } from 'lexical';\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport { FloatingMenu, FloatingMenuCoords } from '../components/FloatingMenu';\nimport { usePointerInteractions } from '../hooks/usePointerInteractions';\n\nconst DOM_ELEMENT = document.body;\n\nexport function FloatingMenuPlugin() {\n  const ref = useRef<HTMLDivElement>(null);\n  const [coords, setCoords] = useState<FloatingMenuCoords>(undefined);\n  const [editor] = useLexicalComposerContext();\n\n  const { isPointerDown, isPointerReleased } = usePointerInteractions();\n\n  const calculatePosition = useCallback(() => {\n    // ...\n  }, [isPointerDown]);\n\n  const $handleSelectionChange = useCallback(() => {\n    // ...\n  }, [editor, calculatePosition]);\n\n  useEffect(() => {\n    // ...\n  }, [editor, $handleSelectionChange]);\n\n  const show = coords !== undefined;\n\n  useEffect(() => {\n    if (!show && isPointerReleased) {\n      editor.getEditorState().read(() => $handleSelectionChange());\n    }\n    // Adding show to the dependency array causes an issue if\n    // a range selection is dismissed by navigating via arrow keys.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isPointerReleased, $handleSelectionChange, editor]);\n\n  return createPortal(\n    <FloatingMenu ref={ref} editor={editor} coords={coords} />,\n    DOM_ELEMENT\n  );\n}\n`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:403,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:403,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"If the pointer was released and our coordinates are still undefined, we access the editor state and trigger our \",(0,t.jsxDEV)(n.code,{children:\"$handleSelectionChange\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:452,columnNumber:113},this),\" callback.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:452,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"With this we finally have all our pieces to test our floating menu in the editor!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:454,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{src:\"/images/posts/how-to-build-a-floating-menu-with-lexical-react/lexical-floating-menu.gif\",alt:\"Lexical Floating Menu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:456,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"wrap-up\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#wrap-up\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"Wrap up\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:461,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now, this was honestly a lot to digest! Take your time and go through the steps again.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:463,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If you have question, feel free to reach out to me on Twitter:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:465,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"You find \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-react-floating-menu\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"the full project on Github\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:467,columnNumber:10},this),\".\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:467,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:469,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h4,{id:\"-shortcut-needed\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#-shortcut-needed\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this),\"\\u{1F481} Shortcut needed?\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:471,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"Since interactive editor components such as a floating menu / bubble menu are hard to get right, I released \",(0,t.jsxDEV)(n.code,{children:\"lexical-floating-menu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:473,columnNumber:109},this),\" \\u2013 a headless and fully customizable plugin to create floating menus easily.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:473,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"It encapsulates everything we learnt in this tutorial. You can simply install it as any other npm package. Check out the instructions on Github:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:475,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:(0,t.jsxDEV)(n.a,{href:\"https://github.com/konstantinmuenster/lexical-floating-menu\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"konstantinmuenster/lexical-floating-menu\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:477,columnNumber:1},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:477,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I\\u2019d love to hear your feedback \\u2013 either on Github or on Twitter!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:479,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Have fun playing with it!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:481,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\",lineNumber:1,columnNumber:1},this)}function gn(d={}){let{wrapper:n}=d.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},d,{children:(0,t.jsxDEV)(Re,d,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx\"},this):Re(d)}var xn=gn;function q(d,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+d+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-164bcd77-6a74-4b89-9061-8ca8f5fef140.mdx`\":\"\"))}return vn(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/011-how-to-build-a-floating-menu-with-lexical-react.mdx",
    "_raw": {
      "sourceFilePath": "posts/011-how-to-build-a-floating-menu-with-lexical-react.mdx",
      "sourceFileName": "011-how-to-build-a-floating-menu-with-lexical-react.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/011-how-to-build-a-floating-menu-with-lexical-react"
    },
    "type": "Post",
    "slug": "how-to-build-a-floating-menu-with-lexical-react"
  },
  {
    "title": "Why open-source projects are your best marketing",
    "publishedAt": "2023-05-31T21:00:00.000Z",
    "summary": "Finding new clients as a freelancer is hard. Learn how open-source can help you in that – and why it beats most other marketing strategies.",
    "cover": {
      "src": "/images/posts/why-open-source-projects-are-your-best-marketing/why-open-source-is-your-best-marketing-screenshot.png",
      "alt": "Github activity tracker",
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://medium.com/@konstantinmuenster/why-open-source-projects-are-your-best-marketing-dd6935664375",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Careers",
    "tags": [
      "marketing",
      "freelancing",
      "open-source",
      "projects",
      "oss",
      "clients"
    ],
    "body": {
      "raw": "\nThroughout the past few years, I published several open-source projects. Some became an overnight success, and some didn’t even get a single star on GitHub. But I was happy nonetheless. I always did it for fun, interest, and the urge to give back.\n\nI only recently realized how all that influenced my trajectory as a freelancer. It changed the skills recruiters associate with my profile. It changed the projects and roles I got hired for.\n\nThis got me thinking. I have always struggled with marketing as a freelancer. I never had a reliable way of finding interesting projects to work on. It always seemed as if a vast following on Twitter was the only solution.\n\nBut looking back on my last projects, I’d say that open-source projects can be as effective in terms of marketing as Twitter — perhaps even better.\n\nIn this article, I’d like to share my thoughts and…\n\n1. Show why more freelancers should bet on open-source projects instead of Twitter followers.\n2. Nurture ideas on how you can actually create successful open-source projects without starting a second full-time job as an open-source maintainer.\n\n<TargetAudience>Freelance Developers</TargetAudience>\n\n## Grow open-source projects, instead of Twitter audiences\n\nAs a freelancer, you usually work together with clients on certain projects. This collaboration embeds two essential questions: 1) how do those clients get in touch with you, and 2) what are those projects all about?\n\nAnswering both questions will involve some marketing, even though most developers (myself included) hate it. But if you are not relying entirely on recommendations, you need a channel to reach your target audience. This is how you get in touch with clients.\n\nThe project contents involve marketing, too, as they usually stem from a service definition that you once (passively or actively) defined and communicated (e.g. “I do frontend development with React.js”).\n\nThere are numerous ways to answer these two questions:\n\n1. You could build a portfolio site (i.e. communicating your services) and run YouTube ads (i.e. reaching clients) to channel prospects to your site.\n2. You could engage on Twitter (i.e. reaching clients) and discuss stuff you are interested in (i.e. communicating your services).\n\nThe list goes on…\n\nHowever, I found open-source projects to be a fantastic way of marketing your services as a freelance developer. It actually creates a win-win situation for everybody involved.\n\nSome benefits are obvious (and pretty easily achievable with other approaches as well), but some are clearly unique to open-source development.\n\nLet’s start with the obvious yet still important reasons to bet on open-source for your marketing.\n\n### Being an expert in topics that interest you.\n\nAll my published open-source projects orbit around topics I am interested in.\n\nWhen I built my notion-clone project, it was because I wanted to develop my first backend API and understand how apps like Notion work. When I built my Gatsby theme, I wanted to see how theme development in Gatsby works (and how it compares to Wordpress themes).\n\nI initially published them because I wanted to share my insights and give something back to the community.\n\nYears later, I realized how heavily these projects influenced my freelance work. I got more requests for Notion-like apps. I got hired to build Gatsby sites. People who found my open-source projects and wanted something similar reached out to me.\n\nWithout continuously pushing my projects, I became an expert (even though I dislike the term) in those topics.\n\nThis got me thinking how great open-source projects actually are. They can create a win-win situation for everybody involved:\n\n- You learn something while building them.\n- You give something back to the community.\n- You learn from the community (when they start contributing to your projects).\n- You get free marketing from the community (when they start using and sharing your projects).\n- You find new prospects in topics you are interested in.\n\n<Image\n  src=\"/images/posts/why-open-source-projects-are-your-best-marketing/open-source-as-freelancer.png\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\nListing your open-source projects can almost replace your developer portfolio. The listed projects clearly communicate topics you are passionate about. Hence, recruiters who look for this very skillset will reach out to you.\n\nAs other developers start using and sharing your projects, you get exposure and an audience without much marketing on your behalf – other than providing great pieces of software for free.\n\n### Build trust with new clients right away.\n\nWhen recruiters evaluate your profile, they want to primarily know whether or not you can solve their problem.\n\nSo the question becomes: how can you effectively communicate and prove you have what it needs?\n\nTypically, freelancers showcase projects they recently worked on on their portfolio sites. This is a great approach since if you worked on similar projects, it is likely that you can apply the same skills to the project at hand.\n\nPublishing open-source projects goes a step beyond that.\n\nNot only can recruiters see what skills you have, they also get insights into your approach to programming and managing projects. Do you write concise code that is documented and well-tested? How do you deal with issues and stakeholder requests?\n\nAs an open-source maintainer, you expose your entire programming and collaboration workflow to the public. That is awesome as it is a perfect evaluation criteria for recruiters.\n\nThey know exactly what they get – even before they started working with you. This will build trust with clients right away.\n\nTo me, this is another benefit of open-source development that Twitter cannot offer. While having a huge audience certainly makes finding clients easier, it cannot build as much trust right from the beginning.\n\n### Develop a composability mindset.\n\nContributing to open-source is something I genuinely enjoy. It makes me happy, each time my projects help someone save hours of research and development.\n\nBecause of that, I try to release as much as possible to the public - so that as many people as possible can benefit from it.\n\nThis led to an interesting shift in my development process. I started to ask myself more often: “Is this functionality something that could be abstracted into an open-source package?”\n\nBy asking this regularly, I tend to create more reusable features and components than before.\n\nThis is especially beneficial for freelancers. You usually work on similar projects over and over again. By abstracting common functionalities into packages, you don’t have to reimplement the same features again each time.\n\nI actually did this with my Gatsby theme. Instead of building a new site from scratch, I installed my theme package and modified existing functionality to meet the client’s requirements. This saved me a lot of hours.\n\nNonetheless, the composability mindset should be treated carefully. We all know how much developers love to build over-engineered solutions to simple problems. Hence, only abstract a functionality if it really makes sense and if there is a benefit for the community and yourself in terms of reusability.\n\n## How to effectively build open-source projects\n\nNow, let’s talk about how you can actually build and maintain open-source projects without the risk of burning out. This is indeed a problem since maintaining projects can become incredibly time-consuming as the project grows.\n\nSo how can we build and maintain projects on the side, without letting them become a second full-time job?\n\nUnfortunately, there is no silver bullet for this as it ultimately depends on what projects you want to build and how much time you want to invest.\n\nHowever, I still want to give some practical tips that helped me a lot:\n\n### Release what you already have built\n\nWhen thinking about creating open-source projects, you don’t necessarily have to build something new from the ground up. Is there anything you built in the past that could be published right away?\n\nThis is how almost all of my open-source projects came to live. My Gatsby theme was essentially just my own personal portfolio turned into a theme. My notion-clone app was a learning project I wanted to do anyway. In both instances, I just decided to share it with the public so that other developers can either reuse it or learn from it.\n\nWhen it comes to open-source projects, we often think about popular libraries like _testing-library_ or _react-query_. But it does not have to be that sophisticated.\n\nWhat about publishing a documented version of your portfolio? This requires almost no additional work. And [Brittany’s site](https://github.com/bchiang7/v4) became incredibly popular by just that (over 6,000 Github stars)!\n\nWhatever you are building right now, I am sure that there is someone else who might be interested in learning from that. So, take a minute to think about your recent projects and what you could turn into an open-source project.\n\nNote: Just be careful about company- or client-related contents. Never publish anything you build for a client without asking for permission.\n\n### Document and automate as much as possible\n\nWhile building and releasing a project is the fun part (most times), continuously maintaining it can become a time-consuming monster. Packages get outdated incredibly fast, and with outdated packages issues arise alike.\n\nSince your primary job is to work on client projects, this can become a real problem. So how can we minimize the footprint that our open-source projects have on our schedule?\n\nThere is actually [an amazing talk](https://www.youtube.com/watch?v=zCJyiBu12Jw) held by Kent C Dodds on exactly this issue. There are two main ideas: document and automate. As much as possible.\n\nThink about common questions someone who uses the packages run into. Putting a lot of effort into answering those upfront will save you a lot of time in the long term.\n\nThe same goes for automation and enabling community contributors to improve the project. If you have transparent and reliable workflows for releasing new versions and incorporating contributions, your project maintenance will (almost) feel effortless.\n\nI try to regularly set time apart to update and improve my projects so that they stay relevant and valuable for the community. And get help from the community in doing so too!\n\n---\n\nNow that was a long post for simply stating: build and publish your own open-source projects as a freelancer. But I really do mean it.\n\nI can’t think of any other professional field that has such an active community full of people who genuinely want to help each other. So let’s keep this alive by sharing more of what we built and learned with the community!\n\nI am looking forward to seeing your open-source projects! Feel free to share them with me on Twitter.\n",
      "code": "var Component=(()=>{var un=Object.create;var P=Object.defineProperty;var cn=Object.getOwnPropertyDescriptor;var fn=Object.getOwnPropertyNames;var mn=Object.getPrototypeOf,hn=Object.prototype.hasOwnProperty;var G=(d,n)=>()=>(n||d((n={exports:{}}).exports,n),n.exports),pn=(d,n)=>{for(var m in n)P(d,m,{get:n[m],enumerable:!0})},Ne=(d,n,m,v)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of fn(n))!hn.call(d,g)&&g!==m&&P(d,g,{get:()=>n[g],enumerable:!(v=cn(n,g))||v.enumerable});return d};var bn=(d,n,m)=>(m=d!=null?un(mn(d)):{},Ne(n||!d||!d.__esModule?P(m,\"default\",{value:d,enumerable:!0}):m,d)),vn=d=>Ne(P({},\"__esModule\",{value:!0}),d);var we=G((wn,xe)=>{xe.exports=React});var De=G(z=>{\"use strict\";(function(){\"use strict\";var d=we(),n=Symbol.for(\"react.element\"),m=Symbol.for(\"react.portal\"),v=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),X=Symbol.for(\"react.context\"),U=Symbol.for(\"react.forward_ref\"),O=Symbol.for(\"react.suspense\"),A=Symbol.for(\"react.suspense_list\"),E=Symbol.for(\"react.memo\"),F=Symbol.for(\"react.lazy\"),Te=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Re=\"@@iterator\";function Ie(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[Re];return typeof r==\"function\"?r:null}var x=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function h(e){{for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];Ce(\"error\",e,o)}}function Ce(e,r,o){{var i=x.ReactDebugCurrentFrame,s=i.getStackAddendum();s!==\"\"&&(r+=\"%s\",o=o.concat([s]));var u=o.map(function(l){return String(l)});u.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,u)}}var Se=!1,Pe=!1,Oe=!1,Ae=!1,Fe=!1,Z;Z=Symbol.for(\"react.module.reference\");function We(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===v||e===H||Fe||e===g||e===O||e===A||Ae||e===Te||Se||Pe||Oe||typeof e==\"object\"&&e!==null&&(e.$$typeof===F||e.$$typeof===E||e.$$typeof===K||e.$$typeof===X||e.$$typeof===U||e.$$typeof===Z||e.getModuleId!==void 0))}function Ye(e,r,o){var i=e.displayName;if(i)return i;var s=r.displayName||r.name||\"\";return s!==\"\"?o+\"(\"+s+\")\":o}function Q(e){return e.displayName||\"Context\"}function _(e){if(e==null)return null;if(typeof e.tag==\"number\"&&h(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case v:return\"Fragment\";case m:return\"Portal\";case H:return\"Profiler\";case g:return\"StrictMode\";case O:return\"Suspense\";case A:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case X:var r=e;return Q(r)+\".Consumer\";case K:var o=e;return Q(o._context)+\".Provider\";case U:return Ye(e,e.render,\"ForwardRef\");case E:var i=e.displayName||null;return i!==null?i:_(e.type)||\"Memo\";case F:{var s=e,u=s._payload,l=s._init;try{return _(l(u))}catch{return null}}}return null}var N=Object.assign,k=0,ee,ne,te,re,oe,ie,ae;function le(){}le.__reactDisabledLog=!0;function Me(){{if(k===0){ee=console.log,ne=console.info,te=console.warn,re=console.error,oe=console.group,ie=console.groupCollapsed,ae=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}k++}}function $e(){{if(k--,k===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:te}),error:N({},e,{value:re}),group:N({},e,{value:oe}),groupCollapsed:N({},e,{value:ie}),groupEnd:N({},e,{value:ae})})}k<0&&h(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var W=x.ReactCurrentDispatcher,Y;function T(e,r,o){{if(Y===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\\n( *(at )?)/);Y=i&&i[1]||\"\"}return`\n`+Y+e}}var M=!1,R;{var Be=typeof WeakMap==\"function\"?WeakMap:Map;R=new Be}function se(e,r){if(!e||M)return\"\";{var o=R.get(e);if(o!==void 0)return o}var i;M=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var u;u=W.current,W.current=null,Me();try{if(r){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(y){i=y}Reflect.construct(e,[],l)}else{try{l.call()}catch(y){i=y}e.call(l.prototype)}}else{try{throw Error()}catch(y){i=y}e()}}catch(y){if(y&&i&&typeof y.stack==\"string\"){for(var a=y.stack.split(`\n`),p=i.stack.split(`\n`),c=a.length-1,f=p.length-1;c>=1&&f>=0&&a[c]!==p[f];)f--;for(;c>=1&&f>=0;c--,f--)if(a[c]!==p[f]){if(c!==1||f!==1)do if(c--,f--,f<0||a[c]!==p[f]){var b=`\n`+a[c].replace(\" at new \",\" at \");return e.displayName&&b.includes(\"<anonymous>\")&&(b=b.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&R.set(e,b),b}while(c>=1&&f>=0);break}}}finally{M=!1,W.current=u,$e(),Error.prepareStackTrace=s}var D=e?e.displayName||e.name:\"\",ge=D?T(D):\"\";return typeof e==\"function\"&&R.set(e,ge),ge}function Le(e,r,o){return se(e,!1)}function Ve(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function I(e,r,o){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Ve(e));if(typeof e==\"string\")return T(e);switch(e){case O:return T(\"Suspense\");case A:return T(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case U:return Le(e.render);case E:return I(e.type,r,o);case F:{var i=e,s=i._payload,u=i._init;try{return I(u(s),r,o)}catch{}}}return\"\"}var C=Object.prototype.hasOwnProperty,de={},ue=x.ReactDebugCurrentFrame;function S(e){if(e){var r=e._owner,o=I(e.type,e._source,r?r.type:null);ue.setExtraStackFrame(o)}else ue.setExtraStackFrame(null)}function qe(e,r,o,i,s){{var u=Function.call.bind(C);for(var l in e)if(u(e,l)){var a=void 0;try{if(typeof e[l]!=\"function\"){var p=Error((i||\"React class\")+\": \"+o+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}a=e[l](r,l,i,o,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(c){a=c}a&&!(a instanceof Error)&&(S(s),h(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",i||\"React class\",o,l,typeof a),S(null)),a instanceof Error&&!(a.message in de)&&(de[a.message]=!0,S(s),h(\"Failed %s type: %s\",o,a.message),S(null))}}}var Ge=Array.isArray;function $(e){return Ge(e)}function ze(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,o=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return o}}function He(e){try{return ce(e),!1}catch{return!0}}function ce(e){return\"\"+e}function fe(e){if(He(e))return h(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",ze(e)),ce(e)}var j=x.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0},me,he,B;B={};function Xe(e){if(C.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Je(e){if(C.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Ze(e,r){if(typeof e.ref==\"string\"&&j.current&&r&&j.current.stateNode!==r){var o=_(j.current.type);B[o]||(h('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',_(j.current.type),e.ref),B[o]=!0)}}function Qe(e,r){{var o=function(){me||(me=!0,h(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:o,configurable:!0})}}function en(e,r){{var o=function(){he||(he=!0,h(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};o.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:o,configurable:!0})}}var nn=function(e,r,o,i,s,u,l){var a={$$typeof:n,type:e,key:r,ref:o,props:l,_owner:u};return a._store={},Object.defineProperty(a._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(a,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(a.props),Object.freeze(a)),a};function tn(e,r,o,i,s){{var u,l={},a=null,p=null;o!==void 0&&(fe(o),a=\"\"+o),Je(r)&&(fe(r.key),a=\"\"+r.key),Xe(r)&&(p=r.ref,Ze(r,s));for(u in r)C.call(r,u)&&!Ke.hasOwnProperty(u)&&(l[u]=r[u]);if(e&&e.defaultProps){var c=e.defaultProps;for(u in c)l[u]===void 0&&(l[u]=c[u])}if(a||p){var f=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;a&&Qe(l,f),p&&en(l,f)}return nn(e,a,p,s,i,j.current,l)}}var L=x.ReactCurrentOwner,pe=x.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,o=I(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(o)}else pe.setExtraStackFrame(null)}var V;V=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function be(){{if(L.current){var e=_(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function rn(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),o=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+o+\".\"}return\"\"}}var ve={};function on(e){{var r=be();if(!r){var o=typeof e==\"string\"?e:e.displayName||e.name;o&&(r=`\n\nCheck the top-level render call using <`+o+\">.\")}return r}}function _e(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var o=on(r);if(ve[o])return;ve[o]=!0;var i=\"\";e&&e._owner&&e._owner!==L.current&&(i=\" It was passed a child from \"+_(e._owner.type)+\".\"),w(e),h('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',o,i),w(null)}}function ye(e,r){{if(typeof e!=\"object\")return;if($(e))for(var o=0;o<e.length;o++){var i=e[o];q(i)&&_e(i,r)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var s=Ie(e);if(typeof s==\"function\"&&s!==e.entries)for(var u=s.call(e),l;!(l=u.next()).done;)q(l.value)&&_e(l.value,r)}}}function an(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var o;if(typeof r==\"function\")o=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===U||r.$$typeof===E))o=r.propTypes;else return;if(o){var i=_(r);qe(o,e.props,\"prop\",i,e)}else if(r.PropTypes!==void 0&&!V){V=!0;var s=_(r);h(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&h(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function ln(e){{for(var r=Object.keys(e.props),o=0;o<r.length;o++){var i=r[o];if(i!==\"children\"&&i!==\"key\"){w(e),h(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",i),w(null);break}}e.ref!==null&&(w(e),h(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),w(null))}}function sn(e,r,o,i,s,u){{var l=We(e);if(!l){var a=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(a+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=rn(s);p?a+=p:a+=be();var c;e===null?c=\"null\":$(e)?c=\"array\":e!==void 0&&e.$$typeof===n?(c=\"<\"+(_(e.type)||\"Unknown\")+\" />\",a=\" Did you accidentally export a JSX literal instead of a component?\"):c=typeof e,h(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",c,a)}var f=tn(e,r,o,s,u);if(f==null)return f;if(l){var b=r.children;if(b!==void 0)if(i)if($(b)){for(var D=0;D<b.length;D++)ye(b[D],e);Object.freeze&&Object.freeze(b)}else h(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ye(b,e)}return e===v?ln(f):an(f),f}}var dn=sn;z.Fragment=v,z.jsxDEV=dn})()});var je=G((kn,ke)=>{\"use strict\";ke.exports=De()});var Nn={};pn(Nn,{default:()=>gn,frontmatter:()=>_n});var t=bn(je()),_n={title:\"Why open-source projects are your best marketing\",summary:\"Finding new clients as a freelancer is hard. Learn how open-source can help you in that \\u2013 and why it beats most other marketing strategies.\",publishedAt:\"2023/06/01\",category:\"Careers\",cover:{src:\"/images/posts/why-open-source-projects-are-your-best-marketing/why-open-source-is-your-best-marketing-screenshot.png\",alt:\"Github activity tracker\"},tags:[\"marketing\",\"freelancing\",\"open-source\",\"projects\",\"oss\",\"clients\"],externals:{Medium:\"https://medium.com/@konstantinmuenster/why-open-source-projects-are-your-best-marketing-dd6935664375\"}};function Ue(d){let n=Object.assign({p:\"p\",ol:\"ol\",li:\"li\",h2:\"h2\",a:\"a\",span:\"span\",h3:\"h3\",ul:\"ul\",em:\"em\",hr:\"hr\"},d.components),{TargetAudience:m,Image:v}=n;return v||Ee(\"Image\",!0,\"70:1-73:3\"),m||Ee(\"TargetAudience\",!0,\"27:1-27:54\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(n.p,{children:\"Throughout the past few years, I published several open-source projects. Some became an overnight success, and some didn\\u2019t even get a single star on GitHub. But I was happy nonetheless. I always did it for fun, interest, and the urge to give back.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:14,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I only recently realized how all that influenced my trajectory as a freelancer. It changed the skills recruiters associate with my profile. It changed the projects and roles I got hired for.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:16,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This got me thinking. I have always struggled with marketing as a freelancer. I never had a reliable way of finding interesting projects to work on. It always seemed as if a vast following on Twitter was the only solution.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:18,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"But looking back on my last projects, I\\u2019d say that open-source projects can be as effective in terms of marketing as Twitter \\u2014 perhaps even better.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:20,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In this article, I\\u2019d like to share my thoughts and\\u2026\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:22,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"Show why more freelancers should bet on open-source projects instead of Twitter followers.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"Nurture ideas on how you can actually create successful open-source projects without starting a second full-time job as an open-source maintainer.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:25,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:24,columnNumber:1},this),`\n`,(0,t.jsxDEV)(m,{children:\"Freelance Developers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"grow-open-source-projects-instead-of-twitter-audiences\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#grow-open-source-projects-instead-of-twitter-audiences\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Grow open-source projects, instead of Twitter audiences\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As a freelancer, you usually work together with clients on certain projects. This collaboration embeds two essential questions: 1) how do those clients get in touch with you, and 2) what are those projects all about?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Answering both questions will involve some marketing, even though most developers (myself included) hate it. But if you are not relying entirely on recommendations, you need a channel to reach your target audience. This is how you get in touch with clients.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The project contents involve marketing, too, as they usually stem from a service definition that you once (passively or actively) defined and communicated (e.g. \\u201CI do frontend development with React.js\\u201D).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"There are numerous ways to answer these two questions:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"You could build a portfolio site (i.e. communicating your services) and run YouTube ads (i.e. reaching clients) to channel prospects to your site.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You could engage on Twitter (i.e. reaching clients) and discuss stuff you are interested in (i.e. communicating your services).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:40,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The list goes on\\u2026\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"However, I found open-source projects to be a fantastic way of marketing your services as a freelance developer. It actually creates a win-win situation for everybody involved.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Some benefits are obvious (and pretty easily achievable with other approaches as well), but some are clearly unique to open-source development.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let\\u2019s start with the obvious yet still important reasons to bet on open-source for your marketing.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"being-an-expert-in-topics-that-interest-you\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#being-an-expert-in-topics-that-interest-you\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Being an expert in topics that interest you.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"All my published open-source projects orbit around topics I am interested in.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"When I built my notion-clone project, it was because I wanted to develop my first backend API and understand how apps like Notion work. When I built my Gatsby theme, I wanted to see how theme development in Gatsby works (and how it compares to Wordpress themes).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I initially published them because I wanted to share my insights and give something back to the community.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Years later, I realized how heavily these projects influenced my freelance work. I got more requests for Notion-like apps. I got hired to build Gatsby sites. People who found my open-source projects and wanted something similar reached out to me.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Without continuously pushing my projects, I became an expert (even though I dislike the term) in those topics.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This got me thinking how great open-source projects actually are. They can create a win-win situation for everybody involved:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ul,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"You learn something while building them.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You give something back to the community.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You learn from the community (when they start contributing to your projects).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:66,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You get free marketing from the community (when they start using and sharing your projects).\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"You find new prospects in topics you are interested in.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:68,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,t.jsxDEV)(v,{src:\"/images/posts/why-open-source-projects-are-your-best-marketing/open-source-as-freelancer.png\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Listing your open-source projects can almost replace your developer portfolio. The listed projects clearly communicate topics you are passionate about. Hence, recruiters who look for this very skillset will reach out to you.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:75,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As other developers start using and sharing your projects, you get exposure and an audience without much marketing on your behalf \\u2013 other than providing great pieces of software for free.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"build-trust-with-new-clients-right-away\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#build-trust-with-new-clients-right-away\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Build trust with new clients right away.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"When recruiters evaluate your profile, they want to primarily know whether or not you can solve their problem.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:81,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So the question becomes: how can you effectively communicate and prove you have what it needs?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Typically, freelancers showcase projects they recently worked on on their portfolio sites. This is a great approach since if you worked on similar projects, it is likely that you can apply the same skills to the project at hand.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Publishing open-source projects goes a step beyond that.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Not only can recruiters see what skills you have, they also get insights into your approach to programming and managing projects. Do you write concise code that is documented and well-tested? How do you deal with issues and stakeholder requests?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:89,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As an open-source maintainer, you expose your entire programming and collaboration workflow to the public. That is awesome as it is a perfect evaluation criteria for recruiters.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"They know exactly what they get \\u2013 even before they started working with you. This will build trust with clients right away.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"To me, this is another benefit of open-source development that Twitter cannot offer. While having a huge audience certainly makes finding clients easier, it cannot build as much trust right from the beginning.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"develop-a-composability-mindset\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#develop-a-composability-mindset\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Develop a composability mindset.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Contributing to open-source is something I genuinely enjoy. It makes me happy, each time my projects help someone save hours of research and development.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:99,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Because of that, I try to release as much as possible to the public - so that as many people as possible can benefit from it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:101,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This led to an interesting shift in my development process. I started to ask myself more often: \\u201CIs this functionality something that could be abstracted into an open-source package?\\u201D\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"By asking this regularly, I tend to create more reusable features and components than before.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This is especially beneficial for freelancers. You usually work on similar projects over and over again. By abstracting common functionalities into packages, you don\\u2019t have to reimplement the same features again each time.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:107,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I actually did this with my Gatsby theme. Instead of building a new site from scratch, I installed my theme package and modified existing functionality to meet the client\\u2019s requirements. This saved me a lot of hours.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:109,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Nonetheless, the composability mindset should be treated carefully. We all know how much developers love to build over-engineered solutions to simple problems. Hence, only abstract a functionality if it really makes sense and if there is a benefit for the community and yourself in terms of reusability.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:111,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h2,{id:\"how-to-effectively-build-open-source-projects\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#how-to-effectively-build-open-source-projects\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"How to effectively build open-source projects\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now, let\\u2019s talk about how you can actually build and maintain open-source projects without the risk of burning out. This is indeed a problem since maintaining projects can become incredibly time-consuming as the project grows.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"So how can we build and maintain projects on the side, without letting them become a second full-time job?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:117,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Unfortunately, there is no silver bullet for this as it ultimately depends on what projects you want to build and how much time you want to invest.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"However, I still want to give some practical tips that helped me a lot:\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"release-what-you-already-have-built\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#release-what-you-already-have-built\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Release what you already have built\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"When thinking about creating open-source projects, you don\\u2019t necessarily have to build something new from the ground up. Is there anything you built in the past that could be published right away?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:125,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This is how almost all of my open-source projects came to live. My Gatsby theme was essentially just my own personal portfolio turned into a theme. My notion-clone app was a learning project I wanted to do anyway. In both instances, I just decided to share it with the public so that other developers can either reuse it or learn from it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"When it comes to open-source projects, we often think about popular libraries like \",(0,t.jsxDEV)(n.em,{children:\"testing-library\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:129,columnNumber:84},this),\" or \",(0,t.jsxDEV)(n.em,{children:\"react-query\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:129,columnNumber:105},this),\". But it does not have to be that sophisticated.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"What about publishing a documented version of your portfolio? This requires almost no additional work. And \",(0,t.jsxDEV)(n.a,{href:\"https://github.com/bchiang7/v4\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"Brittany\\u2019s site\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:131,columnNumber:108},this),\" became incredibly popular by just that (over 6,000 Github stars)!\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:131,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Whatever you are building right now, I am sure that there is someone else who might be interested in learning from that. So, take a minute to think about your recent projects and what you could turn into an open-source project.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:133,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Note: Just be careful about company- or client-related contents. Never publish anything you build for a client without asking for permission.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:135,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"document-and-automate-as-much-as-possible\",children:[(0,t.jsxDEV)(n.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#document-and-automate-as-much-as-possible\",children:(0,t.jsxDEV)(n.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this),\"Document and automate as much as possible\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:137,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"While building and releasing a project is the fun part (most times), continuously maintaining it can become a time-consuming monster. Packages get outdated incredibly fast, and with outdated packages issues arise alike.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:139,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Since your primary job is to work on client projects, this can become a real problem. So how can we minimize the footprint that our open-source projects have on our schedule?\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:141,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:[\"There is actually \",(0,t.jsxDEV)(n.a,{href:\"https://www.youtube.com/watch?v=zCJyiBu12Jw\",target:\"_blank\",rel:\"noopener noreferrer nofollow\",children:\"an amazing talk\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:143,columnNumber:19},this),\" held by Kent C Dodds on exactly this issue. There are two main ideas: document and automate. As much as possible.\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Think about common questions someone who uses the packages run into. Putting a lot of effort into answering those upfront will save you a lot of time in the long term.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:145,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The same goes for automation and enabling community contributors to improve the project. If you have transparent and reliable workflows for releasing new versions and incorporating contributions, your project maintenance will (almost) feel effortless.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:147,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I try to regularly set time apart to update and improve my projects so that they stay relevant and valuable for the community. And get help from the community in doing so too!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:149,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.hr,{},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:151,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Now that was a long post for simply stating: build and publish your own open-source projects as a freelancer. But I really do mean it.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:153,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I can\\u2019t think of any other professional field that has such an active community full of people who genuinely want to help each other. So let\\u2019s keep this alive by sharing more of what we built and learned with the community!\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:155,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"I am looking forward to seeing your open-source projects! Feel free to share them with me on Twitter.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:157,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\",lineNumber:1,columnNumber:1},this)}function yn(d={}){let{wrapper:n}=d.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},d,{children:(0,t.jsxDEV)(Ue,d,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx\"},this):Ue(d)}var gn=yn;function Ee(d,n,m){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+d+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(m?\"\\nIt\\u2019s referenced in your code at `\"+m+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-7fa252c6-ddbc-4640-9ee7-80a08e4a1fff.mdx`\":\"\"))}return vn(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/012-why-open-source-projects-are-your-best-marketing.mdx",
    "_raw": {
      "sourceFilePath": "posts/012-why-open-source-projects-are-your-best-marketing.mdx",
      "sourceFileName": "012-why-open-source-projects-are-your-best-marketing.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/012-why-open-source-projects-are-your-best-marketing"
    },
    "type": "Post",
    "slug": "why-open-source-projects-are-your-best-marketing"
  },
  {
    "title": "Попов Антон",
    "publishedAt": "2023-11-25T21:00:00.000Z",
    "summary": "Антон Попов — профессиональный российский шоссейный велогонщик.",
    "cover": {
      "src": "/images/posts/adopting-a-no-code-mindset/popov.jpg",
      "alt": "abstract 3d objects",
      "caption": {
        "raw": "Участие в GRAND PRIX SOCHI 2023 4 этап",
        "html": "<p>Участие в GRAND PRIX SOCHI 2023 4 этап</p>"
      },
      "type": "Image",
      "_raw": {}
    },
    "externals": {
      "Medium": "https://medium.com/swlh/adopting-a-no-code-mindset-11b3bef8b21d",
      "type": "Externals",
      "_raw": {}
    },
    "category": "Лидеры",
    "tags": [
      "Лидер",
      "Велоспорт",
      "ВелоЛидер",
      "Спорт",
      "Победа будет за нами"
    ],
    "body": {
      "raw": "\nДата рождения: 30.01.1999\n\nСтрана: Россия\n\nГород: Воронеж \n\nРазряд: Мастер спорта \n\nКандидат в спортивную сборную России и кандидат в сборную Воронежской области с 2016 г.\n\nСейчас Антон состоит в китайской команде Kung Cycling Team\n\n<Callout>\n  Личный тренер Агапов Олег Иванович, отмечает о велогонщике: «Его стихия - спринт из группы»\n\n</Callout>\n\n\n### Лучшие результаты:\n\n## 1.Чемпионат России\n\n18 августа 2023 г., г. Нальчик, г.\nПрохладный (Кабардино-Балкарская Республика). \nКритериум 50-60 км\nЧемпионат России, Мужчины - Шоссе\n\nПозиция:1 \n\n<Image\n  src=\"/images/user/postPeople/popov.jpg\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n\n## 2. Четвертый этап XXX традиционной многодневной гонки «Дружба народов Северного Кавказа»\n\nПрошел на территории\nСеверной Осетии в городе Владикавказ.\nПо улицам города гонщики преодолели 75,6 километров.\n\nПозиция:1\n\n\n## 3. «GRAN FONDO WORLD SERIES»\n\nВоронежский велогонщик Антон Попов стал победителем международной групповой гонки серии «GRAN FONDO WORLD SERIES» среди любителей, которая проходила в Дубае \n\nПозиция:1 \n\n<Image\n  src=\"/images/user/postPeople/popovDu.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n\n## 4. Чемпионат России\n\n10-11 августа 2022 г., Курск (Курская обл.)\nкритериум 50-60 км\nЧемпионат России, Мужчины - Шоссе \n\nПозиция: 1\n\n## 5. Кубок России\n\n26-30 августа 2022 г., Белореченск (Краснодарский край).\nкритериум 50-60 км\nКубок России, Мужчины - Шоссе \n\nПозиция: 1\n\n<Image\n  src=\"/images/user/postPeople/popov8.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov2.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov3.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov4.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov5.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov6.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov7.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov1.webp\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov9.jpg\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov10.jpg\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov11.jpg\"\n  alt=\"open-source benefits for freelancers\"\n/>\n\n<Image\n  src=\"/images/user/postPeople/popov12.jpg\"\n  alt=\"open-source benefits for freelancers\"\n/>",
      "code": "var Component=(()=>{var cr=Object.create;var k=Object.defineProperty;var dr=Object.getOwnPropertyDescriptor;var ur=Object.getOwnPropertyNames;var fr=Object.getPrototypeOf,mr=Object.prototype.hasOwnProperty;var B=(c,t)=>()=>(t||c((t={exports:{}}).exports,t),t.exports),vr=(c,t)=>{for(var v in t)k(c,v,{get:t[v],enumerable:!0})},Ne=(c,t,v,u)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let x of ur(t))!mr.call(c,x)&&x!==v&&k(c,x,{get:()=>t[x],enumerable:!(u=dr(t,x))||u.enumerable});return c};var pr=(c,t,v)=>(v=c!=null?cr(fr(c)):{},Ne(t||!c||!c.__esModule?k(v,\"default\",{value:c,enumerable:!0}):v,c)),br=c=>Ne(k({},\"__esModule\",{value:!0}),c);var Ee=B((yr,ye)=>{ye.exports=React});var De=B(q=>{\"use strict\";(function(){\"use strict\";var c=Ee(),t=Symbol.for(\"react.element\"),v=Symbol.for(\"react.portal\"),u=Symbol.for(\"react.fragment\"),x=Symbol.for(\"react.strict_mode\"),z=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),H=Symbol.for(\"react.context\"),w=Symbol.for(\"react.forward_ref\"),F=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),T=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Ue=Symbol.for(\"react.offscreen\"),J=Symbol.iterator,Ce=\"@@iterator\";function Oe(e){if(e===null||typeof e!=\"object\")return null;var r=J&&e[J]||e[Ce];return typeof r==\"function\"?r:null}var y=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(e){{for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];Se(\"error\",e,n)}}function Se(e,r,n){{var o=y.ReactDebugCurrentFrame,s=o.getStackAddendum();s!==\"\"&&(r+=\"%s\",n=n.concat([s]));var d=n.map(function(l){return String(l)});d.unshift(\"Warning: \"+r),Function.prototype.apply.call(console[e],console,d)}}var je=!1,ke=!1,Fe=!1,Ie=!1,Ae=!1,Z;Z=Symbol.for(\"react.module.reference\");function We(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===u||e===z||Ae||e===x||e===F||e===I||Ie||e===Ue||je||ke||Fe||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===T||e.$$typeof===K||e.$$typeof===H||e.$$typeof===w||e.$$typeof===Z||e.getModuleId!==void 0))}function Ye(e,r,n){var o=e.displayName;if(o)return o;var s=r.displayName||r.name||\"\";return s!==\"\"?n+\"(\"+s+\")\":n}function Q(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&p(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case u:return\"Fragment\";case v:return\"Portal\";case z:return\"Profiler\";case x:return\"StrictMode\";case F:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case H:var r=e;return Q(r)+\".Consumer\";case K:var n=e;return Q(n._context)+\".Provider\";case w:return Ye(e,e.render,\"ForwardRef\");case T:var o=e.displayName||null;return o!==null?o:h(e.type)||\"Memo\";case A:{var s=e,d=s._payload,l=s._init;try{return h(l(d))}catch{return null}}}return null}var N=Object.assign,R=0,ee,re,ne,te,ae,oe,ie;function le(){}le.__reactDisabledLog=!0;function $e(){{if(R===0){ee=console.log,re=console.info,ne=console.warn,te=console.error,ae=console.group,oe=console.groupCollapsed,ie=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}R++}}function Me(){{if(R--,R===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:re}),warn:N({},e,{value:ne}),error:N({},e,{value:te}),group:N({},e,{value:ae}),groupCollapsed:N({},e,{value:oe}),groupEnd:N({},e,{value:ie})})}R<0&&p(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var W=y.ReactCurrentDispatcher,Y;function U(e,r,n){{if(Y===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\\n( *(at )?)/);Y=o&&o[1]||\"\"}return`\n`+Y+e}}var $=!1,C;{var Ve=typeof WeakMap==\"function\"?WeakMap:Map;C=new Ve}function se(e,r){if(!e||$)return\"\";{var n=C.get(e);if(n!==void 0)return n}var o;$=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=W.current,W.current=null,$e();try{if(r){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(g){o=g}Reflect.construct(e,[],l)}else{try{l.call()}catch(g){o=g}e.call(l.prototype)}}else{try{throw Error()}catch(g){o=g}e()}}catch(g){if(g&&o&&typeof g.stack==\"string\"){for(var i=g.stack.split(`\n`),b=o.stack.split(`\n`),f=i.length-1,m=b.length-1;f>=1&&m>=0&&i[f]!==b[m];)m--;for(;f>=1&&m>=0;f--,m--)if(i[f]!==b[m]){if(f!==1||m!==1)do if(f--,m--,m<0||i[f]!==b[m]){var _=`\n`+i[f].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&C.set(e,_),_}while(f>=1&&m>=0);break}}}finally{$=!1,W.current=d,Me(),Error.prepareStackTrace=s}var D=e?e.displayName||e.name:\"\",xe=D?U(D):\"\";return typeof e==\"function\"&&C.set(e,xe),xe}function Le(e,r,n){return se(e,!1)}function Ge(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function O(e,r,n){if(e==null)return\"\";if(typeof e==\"function\")return se(e,Ge(e));if(typeof e==\"string\")return U(e);switch(e){case F:return U(\"Suspense\");case I:return U(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case w:return Le(e.render);case T:return O(e.type,r,n);case A:{var o=e,s=o._payload,d=o._init;try{return O(d(s),r,n)}catch{}}}return\"\"}var S=Object.prototype.hasOwnProperty,ce={},de=y.ReactDebugCurrentFrame;function j(e){if(e){var r=e._owner,n=O(e.type,e._source,r?r.type:null);de.setExtraStackFrame(n)}else de.setExtraStackFrame(null)}function Xe(e,r,n,o,s){{var d=Function.call.bind(S);for(var l in e)if(d(e,l)){var i=void 0;try{if(typeof e[l]!=\"function\"){var b=Error((o||\"React class\")+\": \"+n+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw b.name=\"Invariant Violation\",b}i=e[l](r,l,o,n,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(f){i=f}i&&!(i instanceof Error)&&(j(s),p(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",n,l,typeof i),j(null)),i instanceof Error&&!(i.message in ce)&&(ce[i.message]=!0,j(s),p(\"Failed %s type: %s\",n,i.message),j(null))}}}var Be=Array.isArray;function M(e){return Be(e)}function qe(e){{var r=typeof Symbol==\"function\"&&Symbol.toStringTag,n=r&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return n}}function ze(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function fe(e){if(ze(e))return p(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",qe(e)),ue(e)}var P=y.ReactCurrentOwner,Ke={key:!0,ref:!0,__self:!0,__source:!0},me,ve,V;V={};function He(e){if(S.call(e,\"ref\")){var r=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Je(e){if(S.call(e,\"key\")){var r=Object.getOwnPropertyDescriptor(e,\"key\").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Ze(e,r){if(typeof e.ref==\"string\"&&P.current&&r&&P.current.stateNode!==r){var n=h(P.current.type);V[n]||(p('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(P.current.type),e.ref),V[n]=!0)}}function Qe(e,r){{var n=function(){me||(me=!0,p(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};n.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:n,configurable:!0})}}function er(e,r){{var n=function(){ve||(ve=!0,p(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",r))};n.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:n,configurable:!0})}}var rr=function(e,r,n,o,s,d,l){var i={$$typeof:t,type:e,key:r,ref:n,props:l,_owner:d};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nr(e,r,n,o,s){{var d,l={},i=null,b=null;n!==void 0&&(fe(n),i=\"\"+n),Je(r)&&(fe(r.key),i=\"\"+r.key),He(r)&&(b=r.ref,Ze(r,s));for(d in r)S.call(r,d)&&!Ke.hasOwnProperty(d)&&(l[d]=r[d]);if(e&&e.defaultProps){var f=e.defaultProps;for(d in f)l[d]===void 0&&(l[d]=f[d])}if(i||b){var m=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Qe(l,m),b&&er(l,m)}return rr(e,i,b,s,o,P.current,l)}}var L=y.ReactCurrentOwner,pe=y.ReactDebugCurrentFrame;function E(e){if(e){var r=e._owner,n=O(e.type,e._source,r?r.type:null);pe.setExtraStackFrame(n)}else pe.setExtraStackFrame(null)}var G;G=!1;function X(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function be(){{if(L.current){var e=h(L.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tr(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),n=e.lineNumber;return`\n\nCheck your code at `+r+\":\"+n+\".\"}return\"\"}}var _e={};function ar(e){{var r=be();if(!r){var n=typeof e==\"string\"?e:e.displayName||e.name;n&&(r=`\n\nCheck the top-level render call using <`+n+\">.\")}return r}}function he(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var n=ar(r);if(_e[n])return;_e[n]=!0;var o=\"\";e&&e._owner&&e._owner!==L.current&&(o=\" It was passed a child from \"+h(e._owner.type)+\".\"),E(e),p('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,o),E(null)}}function ge(e,r){{if(typeof e!=\"object\")return;if(M(e))for(var n=0;n<e.length;n++){var o=e[n];X(o)&&he(o,r)}else if(X(e))e._store&&(e._store.validated=!0);else if(e){var s=Oe(e);if(typeof s==\"function\"&&s!==e.entries)for(var d=s.call(e),l;!(l=d.next()).done;)X(l.value)&&he(l.value,r)}}}function or(e){{var r=e.type;if(r==null||typeof r==\"string\")return;var n;if(typeof r==\"function\")n=r.propTypes;else if(typeof r==\"object\"&&(r.$$typeof===w||r.$$typeof===T))n=r.propTypes;else return;if(n){var o=h(r);Xe(n,e.props,\"prop\",o,e)}else if(r.PropTypes!==void 0&&!G){G=!0;var s=h(r);p(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",s||\"Unknown\")}typeof r.getDefaultProps==\"function\"&&!r.getDefaultProps.isReactClassApproved&&p(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function ir(e){{for(var r=Object.keys(e.props),n=0;n<r.length;n++){var o=r[n];if(o!==\"children\"&&o!==\"key\"){E(e),p(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),E(null);break}}e.ref!==null&&(E(e),p(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),E(null))}}function lr(e,r,n,o,s,d){{var l=We(e);if(!l){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var b=tr(s);b?i+=b:i+=be();var f;e===null?f=\"null\":M(e)?f=\"array\":e!==void 0&&e.$$typeof===t?(f=\"<\"+(h(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):f=typeof e,p(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",f,i)}var m=nr(e,r,n,s,d);if(m==null)return m;if(l){var _=r.children;if(_!==void 0)if(o)if(M(_)){for(var D=0;D<_.length;D++)ge(_[D],e);Object.freeze&&Object.freeze(_)}else p(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(_,e)}return e===u?ir(m):or(m),m}}var sr=lr;q.Fragment=u,q.jsxDEV=sr})()});var Pe=B((Dr,Re)=>{\"use strict\";Re.exports=De()});var xr={};vr(xr,{default:()=>gr,frontmatter:()=>_r});var a=pr(Pe()),_r={title:\"\\u041F\\u043E\\u043F\\u043E\\u0432 \\u0410\\u043D\\u0442\\u043E\\u043D\",summary:\"\\u0410\\u043D\\u0442\\u043E\\u043D \\u041F\\u043E\\u043F\\u043E\\u0432 \\u2014 \\u043F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0440\\u043E\\u0441\\u0441\\u0438\\u0439\\u0441\\u043A\\u0438\\u0439 \\u0448\\u043E\\u0441\\u0441\\u0435\\u0439\\u043D\\u044B\\u0439 \\u0432\\u0435\\u043B\\u043E\\u0433\\u043E\\u043D\\u0449\\u0438\\u043A.\",publishedAt:\"2023/11/26\",category:\"\\u041B\\u0438\\u0434\\u0435\\u0440\\u044B\",cover:{src:\"/images/posts/adopting-a-no-code-mindset/popov.jpg\",alt:\"abstract 3d objects\",caption:\"\\u0423\\u0447\\u0430\\u0441\\u0442\\u0438\\u0435 \\u0432 GRAND PRIX SOCHI 2023 4 \\u044D\\u0442\\u0430\\u043F\"},tags:[\"\\u041B\\u0438\\u0434\\u0435\\u0440\",\"\\u0412\\u0435\\u043B\\u043E\\u0441\\u043F\\u043E\\u0440\\u0442\",\"\\u0412\\u0435\\u043B\\u043E\\u041B\\u0438\\u0434\\u0435\\u0440\",\"\\u0421\\u043F\\u043E\\u0440\\u0442\",\"\\u041F\\u043E\\u0431\\u0435\\u0434\\u0430 \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0437\\u0430 \\u043D\\u0430\\u043C\\u0438\"],externals:{Medium:\"https://medium.com/swlh/adopting-a-no-code-mindset-11b3bef8b21d\"}};function we(c){let t=Object.assign({p:\"p\",h3:\"h3\",a:\"a\",span:\"span\",h2:\"h2\"},c.components),{Callout:v,Image:u}=t;return v||Te(\"Callout\",!0,\"33:1-36:11\"),u||Te(\"Image\",!0,\"50:1-53:3\"),(0,a.jsxDEV)(a.Fragment,{children:[(0,a.jsxDEV)(t.p,{children:\"\\u0414\\u0430\\u0442\\u0430 \\u0440\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F: 30.01.1999\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:21,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u0421\\u0442\\u0440\\u0430\\u043D\\u0430: \\u0420\\u043E\\u0441\\u0441\\u0438\\u044F\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u0413\\u043E\\u0440\\u043E\\u0434: \\u0412\\u043E\\u0440\\u043E\\u043D\\u0435\\u0436\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u0420\\u0430\\u0437\\u0440\\u044F\\u0434: \\u041C\\u0430\\u0441\\u0442\\u0435\\u0440 \\u0441\\u043F\\u043E\\u0440\\u0442\\u0430\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442 \\u0432 \\u0441\\u043F\\u043E\\u0440\\u0442\\u0438\\u0432\\u043D\\u0443\\u044E \\u0441\\u0431\\u043E\\u0440\\u043D\\u0443\\u044E \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438 \\u0438 \\u043A\\u0430\\u043D\\u0434\\u0438\\u0434\\u0430\\u0442 \\u0432 \\u0441\\u0431\\u043E\\u0440\\u043D\\u0443\\u044E \\u0412\\u043E\\u0440\\u043E\\u043D\\u0435\\u0436\\u0441\\u043A\\u043E\\u0439 \\u043E\\u0431\\u043B\\u0430\\u0441\\u0442\\u0438 \\u0441 2016 \\u0433.\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u0421\\u0435\\u0439\\u0447\\u0430\\u0441 \\u0410\\u043D\\u0442\\u043E\\u043D \\u0441\\u043E\\u0441\\u0442\\u043E\\u0438\\u0442 \\u0432 \\u043A\\u0438\\u0442\\u0430\\u0439\\u0441\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0435 Kung Cycling Team\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,a.jsxDEV)(v,{children:(0,a.jsxDEV)(t.p,{children:\"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u0442\\u0440\\u0435\\u043D\\u0435\\u0440 \\u0410\\u0433\\u0430\\u043F\\u043E\\u0432 \\u041E\\u043B\\u0435\\u0433 \\u0418\\u0432\\u0430\\u043D\\u043E\\u0432\\u0438\\u0447, \\u043E\\u0442\\u043C\\u0435\\u0447\\u0430\\u0435\\u0442 \\u043E \\u0432\\u0435\\u043B\\u043E\\u0433\\u043E\\u043D\\u0449\\u0438\\u043A\\u0435: \\xAB\\u0415\\u0433\\u043E \\u0441\\u0442\\u0438\\u0445\\u0438\\u044F - \\u0441\\u043F\\u0440\\u0438\\u043D\\u0442 \\u0438\\u0437 \\u0433\\u0440\\u0443\\u043F\\u043F\\u044B\\xBB\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:34,columnNumber:3},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h3,{id:\"\\u043B\\u0443\\u0447\\u0448\\u0438\\u0435-\\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#\\u043B\\u0443\\u0447\\u0448\\u0438\\u0435-\\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"\\u041B\\u0443\\u0447\\u0448\\u0438\\u0435 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B:\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h2,{id:\"1\\u0447\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#1\\u0447\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"1.\\u0427\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:`18 \\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\\u0430 2023 \\u0433., \\u0433. \\u041D\\u0430\\u043B\\u044C\\u0447\\u0438\\u043A, \\u0433.\n\\u041F\\u0440\\u043E\\u0445\\u043B\\u0430\\u0434\\u043D\\u044B\\u0439 (\\u041A\\u0430\\u0431\\u0430\\u0440\\u0434\\u0438\\u043D\\u043E-\\u0411\\u0430\\u043B\\u043A\\u0430\\u0440\\u0441\\u043A\\u0430\\u044F \\u0420\\u0435\\u0441\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u0430).\n\\u041A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0443\\u043C 50-60 \\u043A\\u043C\n\\u0427\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438, \\u041C\\u0443\\u0436\\u0447\\u0438\\u043D\\u044B - \\u0428\\u043E\\u0441\\u0441\\u0435`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F:1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:48,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov.jpg\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:50,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h2,{id:\"2-\\u0447\\u0435\\u0442\\u0432\\u0435\\u0440\\u0442\\u044B\\u0439-\\u044D\\u0442\\u0430\\u043F-xxx-\\u0442\\u0440\\u0430\\u0434\\u0438\\u0446\\u0438\\u043E\\u043D\\u043D\\u043E\\u0439-\\u043C\\u043D\\u043E\\u0433\\u043E\\u0434\\u043D\\u0435\\u0432\\u043D\\u043E\\u0439-\\u0433\\u043E\\u043D\\u043A\\u0438-\\u0434\\u0440\\u0443\\u0436\\u0431\\u0430-\\u043D\\u0430\\u0440\\u043E\\u0434\\u043E\\u0432-\\u0441\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0433\\u043E-\\u043A\\u0430\\u0432\\u043A\\u0430\\u0437\\u0430\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#2-\\u0447\\u0435\\u0442\\u0432\\u0435\\u0440\\u0442\\u044B\\u0439-\\u044D\\u0442\\u0430\\u043F-xxx-\\u0442\\u0440\\u0430\\u0434\\u0438\\u0446\\u0438\\u043E\\u043D\\u043D\\u043E\\u0439-\\u043C\\u043D\\u043E\\u0433\\u043E\\u0434\\u043D\\u0435\\u0432\\u043D\\u043E\\u0439-\\u0433\\u043E\\u043D\\u043A\\u0438-\\u0434\\u0440\\u0443\\u0436\\u0431\\u0430-\\u043D\\u0430\\u0440\\u043E\\u0434\\u043E\\u0432-\\u0441\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0433\\u043E-\\u043A\\u0430\\u0432\\u043A\\u0430\\u0437\\u0430\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"2. \\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0442\\u044B\\u0439 \\u044D\\u0442\\u0430\\u043F XXX \\u0442\\u0440\\u0430\\u0434\\u0438\\u0446\\u0438\\u043E\\u043D\\u043D\\u043E\\u0439 \\u043C\\u043D\\u043E\\u0433\\u043E\\u0434\\u043D\\u0435\\u0432\\u043D\\u043E\\u0439 \\u0433\\u043E\\u043D\\u043A\\u0438 \\xAB\\u0414\\u0440\\u0443\\u0436\\u0431\\u0430 \\u043D\\u0430\\u0440\\u043E\\u0434\\u043E\\u0432 \\u0421\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0433\\u043E \\u041A\\u0430\\u0432\\u043A\\u0430\\u0437\\u0430\\xBB\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:`\\u041F\\u0440\\u043E\\u0448\\u0435\\u043B \\u043D\\u0430 \\u0442\\u0435\\u0440\\u0440\\u0438\\u0442\\u043E\\u0440\\u0438\\u0438\n\\u0421\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0439 \\u041E\\u0441\\u0435\\u0442\\u0438\\u0438 \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434\\u0435 \\u0412\\u043B\\u0430\\u0434\\u0438\\u043A\\u0430\\u0432\\u043A\\u0430\\u0437.\n\\u041F\\u043E \\u0443\\u043B\\u0438\\u0446\\u0430\\u043C \\u0433\\u043E\\u0440\\u043E\\u0434\\u0430 \\u0433\\u043E\\u043D\\u0449\\u0438\\u043A\\u0438 \\u043F\\u0440\\u0435\\u043E\\u0434\\u043E\\u043B\\u0435\\u043B\\u0438 75,6 \\u043A\\u0438\\u043B\\u043E\\u043C\\u0435\\u0442\\u0440\\u043E\\u0432.`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F:1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h2,{id:\"3-gran-fondo-world-series\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#3-gran-fondo-world-series\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"3. \\xABGRAN FONDO WORLD SERIES\\xBB\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:65,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u0412\\u043E\\u0440\\u043E\\u043D\\u0435\\u0436\\u0441\\u043A\\u0438\\u0439 \\u0432\\u0435\\u043B\\u043E\\u0433\\u043E\\u043D\\u0449\\u0438\\u043A \\u0410\\u043D\\u0442\\u043E\\u043D \\u041F\\u043E\\u043F\\u043E\\u0432 \\u0441\\u0442\\u0430\\u043B \\u043F\\u043E\\u0431\\u0435\\u0434\\u0438\\u0442\\u0435\\u043B\\u0435\\u043C \\u043C\\u0435\\u0436\\u0434\\u0443\\u043D\\u0430\\u0440\\u043E\\u0434\\u043D\\u043E\\u0439 \\u0433\\u0440\\u0443\\u043F\\u043F\\u043E\\u0432\\u043E\\u0439 \\u0433\\u043E\\u043D\\u043A\\u0438 \\u0441\\u0435\\u0440\\u0438\\u0438 \\xABGRAN FONDO WORLD SERIES\\xBB \\u0441\\u0440\\u0435\\u0434\\u0438 \\u043B\\u044E\\u0431\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439, \\u043A\\u043E\\u0442\\u043E\\u0440\\u0430\\u044F \\u043F\\u0440\\u043E\\u0445\\u043E\\u0434\\u0438\\u043B\\u0430 \\u0432 \\u0414\\u0443\\u0431\\u0430\\u0435\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:67,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F:1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:69,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popovDu.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:71,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h2,{id:\"4-\\u0447\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#4-\\u0447\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"4. \\u0427\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:77,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:`10-11 \\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\\u0430 2022 \\u0433., \\u041A\\u0443\\u0440\\u0441\\u043A (\\u041A\\u0443\\u0440\\u0441\\u043A\\u0430\\u044F \\u043E\\u0431\\u043B.)\n\\u043A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0443\\u043C 50-60 \\u043A\\u043C\n\\u0427\\u0435\\u043C\\u043F\\u0438\\u043E\\u043D\\u0430\\u0442 \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438, \\u041C\\u0443\\u0436\\u0447\\u0438\\u043D\\u044B - \\u0428\\u043E\\u0441\\u0441\\u0435`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:79,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F: 1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:83,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.h2,{id:\"5-\\u043A\\u0443\\u0431\\u043E\\u043A-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:[(0,a.jsxDEV)(t.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#5-\\u043A\\u0443\\u0431\\u043E\\u043A-\\u0440\\u043E\\u0441\\u0441\\u0438\\u0438\",children:(0,a.jsxDEV)(t.span,{className:\"icon icon-link\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this),\"5. \\u041A\\u0443\\u0431\\u043E\\u043A \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438\"]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:85,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:`26-30 \\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\\u0430 2022 \\u0433., \\u0411\\u0435\\u043B\\u043E\\u0440\\u0435\\u0447\\u0435\\u043D\\u0441\\u043A (\\u041A\\u0440\\u0430\\u0441\\u043D\\u043E\\u0434\\u0430\\u0440\\u0441\\u043A\\u0438\\u0439 \\u043A\\u0440\\u0430\\u0439).\n\\u043A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0443\\u043C 50-60 \\u043A\\u043C\n\\u041A\\u0443\\u0431\\u043E\\u043A \\u0420\\u043E\\u0441\\u0441\\u0438\\u0438, \\u041C\\u0443\\u0436\\u0447\\u0438\\u043D\\u044B - \\u0428\\u043E\\u0441\\u0441\\u0435`},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:87,columnNumber:1},this),`\n`,(0,a.jsxDEV)(t.p,{children:\"\\u041F\\u043E\\u0437\\u0438\\u0446\\u0438\\u044F: 1\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:91,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov8.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov2.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:98,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov3.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov4.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:108,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov5.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov6.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:118,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov7.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov1.webp\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:128,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov9.jpg\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:133,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov10.jpg\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:138,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov11.jpg\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,a.jsxDEV)(u,{src:\"/images/user/postPeople/popov12.jpg\",alt:\"open-source benefits for freelancers\"},void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:148,columnNumber:1},this)]},void 0,!0,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\",lineNumber:1,columnNumber:1},this)}function hr(c={}){let{wrapper:t}=c.components||{};return t?(0,a.jsxDEV)(t,Object.assign({},c,{children:(0,a.jsxDEV)(we,c,void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this)}),void 0,!1,{fileName:\"/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx\"},this):we(c)}var gr=hr;function Te(c,t,v){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+c+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(v?\"\\nIt\\u2019s referenced in your code at `\"+v+\"` in `/Users/evg/Documents/velolider/velolider/content/posts/_mdx_bundler_entry_point-a8c6dee6-5586-43dc-91c5-7b80a14e06aa.mdx`\":\"\"))}return br(xr);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
    },
    "_id": "posts/013-adopting-a-no-code-mindset.mdx",
    "_raw": {
      "sourceFilePath": "posts/013-adopting-a-no-code-mindset.mdx",
      "sourceFileName": "013-adopting-a-no-code-mindset.mdx",
      "sourceFileDir": "posts",
      "contentType": "mdx",
      "flattenedPath": "posts/013-adopting-a-no-code-mindset"
    },
    "type": "Post",
    "slug": "adopting-a-no-code-mindset"
  }
]